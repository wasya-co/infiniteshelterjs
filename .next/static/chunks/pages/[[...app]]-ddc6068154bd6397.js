(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4945],{379:function(a,b,c){var d={"./ion-action-sheet.entry.js":[48451,8451],"./ion-alert.entry.js":[18550,8550],"./ion-app_8.entry.js":[91006,1006],"./ion-avatar_3.entry.js":[9169,9169],"./ion-back-button.entry.js":[9112,9112],"./ion-backdrop.entry.js":[59389,9389],"./ion-button_2.entry.js":[17733,7733],"./ion-card_5.entry.js":[82011,2011],"./ion-checkbox.entry.js":[3562,3562],"./ion-chip.entry.js":[62185,2185],"./ion-col_3.entry.js":[17478,7478],"./ion-datetime_3.entry.js":[49440,9440],"./ion-fab_3.entry.js":[56608,6608],"./ion-img.entry.js":[88014,8014],"./ion-infinite-scroll_2.entry.js":[16270,6270],"./ion-input.entry.js":[42865,2865],"./ion-item-option_3.entry.js":[964,964],"./ion-item_8.entry.js":[97419,7419],"./ion-loading.entry.js":[59740,9740],"./ion-menu_3.entry.js":[19936,9936],"./ion-modal.entry.js":[53731,3731],"./ion-nav_2.entry.js":[14288,4288],"./ion-popover.entry.js":[36560,6560],"./ion-progress-bar.entry.js":[55051,5051],"./ion-radio_2.entry.js":[62932,2932],"./ion-range.entry.js":[26074,6074],"./ion-refresher_2.entry.js":[28290,8290],"./ion-reorder_2.entry.js":[53479,3479],"./ion-ripple-effect.entry.js":[84905,4905],"./ion-route_4.entry.js":[85095,5095],"./ion-searchbar.entry.js":[57421,7421],"./ion-segment_2.entry.js":[53806,3806],"./ion-select_3.entry.js":[97421,6306],"./ion-slide_2.entry.js":[34208,4208],"./ion-spinner.entry.js":[63046,3046],"./ion-split-pane.entry.js":[34774,4774],"./ion-tab-bar_2.entry.js":[33196,3196],"./ion-tab_2.entry.js":[13965,3965],"./ion-text.entry.js":[42516,2516],"./ion-textarea.entry.js":[12117,2117],"./ion-toast.entry.js":[24617,4617],"./ion-toggle.entry.js":[29125,9125],"./ion-virtual-scroll.entry.js":[19480,9480]};function e(a){if(!c.o(d,a))return Promise.resolve().then(function(){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b});var b=d[a],e=b[0];return c.e(b[1]).then(function(){return c(e)})}e.keys=function(){return Object.keys(d)},e.id=379,a.exports=e},23414:function(a){"use strict";a.exports={appIndexPath:"src/index",router:{locationPath:function(a){return"/en/locations/show/".concat(a)},loginPath:"/api/users/login"}}},85553:function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g=c(23414);a.exports=e(e({},g),{apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",debug:!1,APP_ENV:"development_web",homePath:"/en/locations/show/root",requireLogin:!1})},70402:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return ld}});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a$,a_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB=c(67294),bC=c(87757),bD=c.n(bC),bE=c(52406),bF=c(29430),bG=c(85553),bH=c.n(bG),bI=c(18903),bJ=c(66244),bK=c(95477),bL=c(50253),bM=c(72156),bN=c(51990),bO=c(41587),bP=c(55881),bQ={actions:{new:"new",show:"show"},anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",photo:"Photo",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",GoogleMaps:"GoogleMaps",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",TabiversePlanet:"TabiversePlanet",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{editorMode:"editorMode"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"},bR=["children"];function bS(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function bT(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){bS(f,d,e,g,h,"next",a)}function h(a){bS(f,d,e,g,h,"throw",a)}g(void 0)})}}function bU(a,b){return bZ(a)||bY(a,b)||bW(a,b)||bV()}function bV(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bW(a,b){if(a){if("string"==typeof a)return bX(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bX(a,b)}}function bX(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bY(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function bZ(a){if(Array.isArray(a))return a}var b$=bB.createContext({}),b_=function(a){var b=a.children,c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,bR);fQ(c,"TwofoldContextProvider"),c.currentUser;var d=c.setCurrentUser,e=c.itemToUnlock,f=c.setItemToUnlock,g=c.layout,h=c.setLayout,i=c.showItem,j=c.setShowItem,k=c.theme,l=c.toggleTheme,m=c.zoom,n=c.setZoom,o=cW(),p=(0,bB.useState)(JSON.parse(localStorage.getItem(bQ.bottomDrawerOpen))),q=bU(p,2),r=q[0],s=q[1],t=function(a){localStorage.setItem(bQ.bottomDrawerOpen,JSON.stringify(a)),s(a)},u=(0,bB.useState)(bQ.anonUser),v=bU(u,2),w=v[0],x=v[1];d&&function(a){throw TypeError('"'+a+'" is read-only')}("currentUser");var y=(0,bB.useRef)("init");(0,bB.useEffect)(function(){var a;if(y.current)return(a=bT(bD().mark(function a(){var b;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.getMyAccount();case 2:fQ(b=a.sent,"new currentUser"),x(b);case 5:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})(),function(){return y.current=null}},[w]),fQ(bQ,"C"),fQ(w,"currentUser"),(0,bB.useEffect)(function(){var a=setTimeout(function(){var a;(a=bT(bD().mark(function a(){var b;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.getMyAccount();case 2:x(b=a.sent);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},1e3);return function(){return clearTimeout(a)}},[w.is_purchasing]);var z=(0,bB.useState)(JSON.parse(localStorage.getItem(bQ.names.editorMode))),A=bU(z,2),B=A[0],D=A[1],E=function(a){localStorage.setItem(bQ.names.editorMode,a),D(a)},F=(0,bB.useState)(),G=bU(F,2),H=G[0],I=G[1],J=(0,bB.useState)({}),K=bU(J,2),L=K[0],M=K[1];e||(e=L,f=M);var N=(0,bB.useState)(null),O=bU(N,2),P=O[0],Q=O[1],R=(0,bB.useState)(!1),S=bU(R,2),T=S[0],U=S[1],V=(0,bB.useState)(null),W=bU(V,2),X=W[0],Y=W[1],Z=(0,bB.useState)(null),_=bU(Z,2),aa=_[0],ab=_[1],ac=(0,bB.useState)(!1),ad=bU(ac,2),ae=ad[0],af=ad[1],ag=(0,bB.useState)(JSON.parse(localStorage.getItem(bQ.ratedConfirmation))),ah=bU(ag,2),ai=ah[0],aj=ah[1],ak=function(a){localStorage.setItem(bQ.ratedConfirmation,JSON.stringify(a)),aj(a)},al=(0,bB.useState)(!1),am=bU(al,2),an=am[0],ao=am[1],ap=(0,bB.useState)(!1),aq=bU(ap,2),ar=aq[0],as=aq[1];j&&(as=j),i&&(ar=i);var at,au=(0,bB.useState)(!1),av=bU(au,2),aw=av[0],ax=av[1];if(at=localStorage.getItem(bQ.twofoldPercent))try{JSON.parse(at)}catch(ay){fQ(ay,"cannot get twofoldPercent from localStorage")}var az=bU((0,bB.useState)(.5),2),aA=az[0],aB=az[1],aC=(0,bB.useState)(1),aD=bU(aC,2),aE=aD[0],aF=aD[1];return m||(m=aE,n=aF),bB.createElement(b$.Provider,{value:{bottomDrawerOpen:r,setBottomDrawerOpen:t,currentUser:w,setCurrentUser:x,editorMode:B,setEditorMode:E,folded:H,setFolded:I,itemToUnlock:e,setItemToUnlock:f,layout:g,setLayout:h,location:P,setLocation:Q,loginModalOpen:T,setLoginModalOpen:U,mapPanelHeight:aa,setMapPanelHeight:ab,mapPanelWidth:X,setMapPanelWidth:Y,purchaseModalOpen:ae,setPurchaseModalOpen:af,ratedConfirmation:ai,setRatedConfirmation:ak,registerModalOpen:an,setRegisterModalOpen:ao,showItem:ar,setShowItem:as,showUrl:aw,setShowUrl:ax,twofoldPercent:aA,setTwofoldPercent:aB,zoom:m,setZoom:n,theme:k,toggleTheme:l}},b)},b0=b$,b1=c(34360),b2=c(61874),b3=c(72917),b4=c(26405),b5=c(46946),b6=c(87573),b7=c.n(b6),b8=c(6717),b9=c(13792),ca=c.n(b9),cb=c(84892),cc=c(26458),cd=c.n(cc);c(11302);var ce=c(42659),cf=c(7727),cg=c(64345),ch=c(68941);function ci(){return(ci=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function cj(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function ck(a,b){return b||(b=a.slice(0)),a.raw=b,a}var cl={anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{scratchpad:"Scratchpad"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"},cm={LoginModal:"_1M_bQ",LoginModalOverlay:"_1AJ7r"},cn=function(a){return bB.createElement(cC,a,"Register with Email")},co=function(a){return bB.createElement(cC,a,"Login with Email")},cp=function(a){var b=(0,bB.useContext)(ct),c=b.currentUser,d=b.setCurrentUser,e=b.setLoginModalOpen,f=b.setRegisterModalOpen,g=function(){d(JSON.stringify(cl.anonUser))};return null!=c&&c.email?bB.createElement(cG,null,"[",c.email," ",bB.createElement(cC,{onClick:g},"Logout")," ]"):bB.createElement(bB.Fragment,null,bB.createElement(cF,null,bB.createElement(cx,null),bB.createElement(cn,{onClick:function(){f(!0)}}),bB.createElement(co,{onClick:function(){e(!0)}})),bB.createElement(cr,null),bB.createElement(cq,null))};cp.propTypes={};var cq=function(a){var b=(0,bB.useContext)(ct),c=b.setCurrentUser,d=b.loginModalOpen,e=b.setLoginModalOpen,f=b.useApi,g=(0,bB.useState)(""),h=g[0],i=g[1],j=(0,bB.useState)(""),k=j[0],l=j[1],m=f(),n=function(a,b){try{return m.postLogin({email:a,password:b}).then(function(a){e(!1),(0,cb.Am)("Login Successful.")}).catch(function(a){cH(a,"e323"),(0,cb.Am)("Login failed"),c(cl.anonUser)}),Promise.resolve()}catch(d){return Promise.reject(d)}};return bB.createElement(ca(),{className:"LoginModal "+cm.LoginModal,isOpen:d,overlayClassName:cm.LoginModalOverlay},bB.createElement(cG,{style:{flexDirection:"row-reverse"}},bB.createElement(cD,{onClick:function(){return e(!1)}})),bB.createElement(cF,null,bB.createElement("label",{htmlFor:"email"},"Email"),bB.createElement("input",{name:"email",type:"email",value:h,onChange:function(a){return i(a.target.value)}}),bB.createElement("label",{htmlFor:"password"},"Password"),bB.createElement("input",{name:"password",type:"password",value:k,onChange:function(a){return l(a.target.value)},onKeyDown:function(a){"Enter"===a.key&&n(h,k)}}),bB.createElement(cG,{style:{justifyContent:"space-between",marginTop:"0.4em"}},bB.createElement("span",null,"Forgot?"),bB.createElement(cC,{onClick:function(){return n(h,k)}},"Password Login"))))},cr=function(a){var b=(0,bB.useContext)(ct),c=b.setCurrentUser,d=b.registerModalOpen,e=b.setRegisterModalOpen,f=b.useApi,g=f(),h=(0,bB.useState)(""),i=h[0],j=h[1],k=(0,bB.useState)(""),l=k[0],m=k[1],n=(0,bB.useState)(""),o=n[0],p=n[1],q=function(a,b,d){try{if(b!==d)return Promise.resolve(toast("Passwords do not match"));return g.doRegister({email:a,password:b}).then(function(a){cH(a,"registered"),localStorage.setItem(C.jwt_token,a.jwt_token),localStorage.setItem(C.current_user,JSON.stringify(a)),c(a),e(!1)}).catch(function(a){cH(a,"e322"),toast("Registration failed")}),Promise.resolve()}catch(f){return Promise.reject(f)}};return bB.createElement(ca(),{style:{zIndex:3},isOpen:d},bB.createElement("div",{onClick:function(){return e(!1)}},"[x]"),bB.createElement(cF,null,bB.createElement("label",{for:"email"},"Email"),bB.createElement("input",{type:"email",name:"email",value:i,onChange:function(a){return j(a.target.value)}}),bB.createElement("label",{for:"password"},"Password"),bB.createElement("input",{type:"password",name:"password",value:l,onChange:function(a){return m(a.target.value)}}),bB.createElement("label",{for:"password2"},"Confirm Password"),bB.createElement("input",{type:"password",name:"password2",value:o,onChange:function(a){return p(a.target.value)}}),bB.createElement(cG,null,bB.createElement(cC,{onClick:function(){return q(i,l,o)}},"Register"),bB.createElement(cC,{onClick:function(){return e(!1)}},"Cancel"))))},cs=["children"],ct=(0,bB.createContext)({}),cu=function(a){var b=a.children,c=cj(a,cs),d=c.currentUser,e=c.setCurrentUser,f=localStorage.getItem(cl.current_user);f=f?JSON.parse(f):cl.anonUser;var g=(0,bB.useState)(f),h=g[0],i=g[1],j=function(a){localStorage.setItem(cl.jwt_token,a.jwt_token),localStorage.setItem(cl.current_user,JSON.stringify(a)),i(a)};d||(d=h,e=j);var k=(0,bB.useState)(!1),l=k[0],m=k[1],n=(0,bB.useState)(!1),o=n[0],p=n[1],q={currentUser:d,setCurrentUser:e,loginModalOpen:l,setLoginModalOpen:m,registerModalOpen:o,setRegisterModalOpen:p};return bB.createElement(ct.Provider,{value:ci({},c,q)},b)},cv=b8.Vn.FacebookLogin,cw=["email"],cx=function(a){var b=(0,bB.useContext)(ct),c=b.setCurrentUser,d=(0,b.useApi)(),e=function(){try{return Promise.resolve(cv.login({permissions:cw})).then(function(a){a.accessToken?request.post(""+config.apiOrigin+d.longTermTokenPath,{accessToken:a.accessToken.token}).then(function(a){localStorage.setItem(cl.jwt_token,a.data.jwt_token),localStorage.setItem(cl.current_user,JSON.stringify(a.data)),c(a.data)}).catch(function(a){cH(a,"Could not post request to "+config.apiOrigin+d.longTermTokenPath)}):cH("canceled")})}catch(a){return Promise.reject(a)}};return bB.createElement(cC,{onClick:e},"Login or Register with Facebook")};cd().create({});var cy={borderWidth:"10px",bottomDrawerClosedHeight:"20px",bottomDrawerOpenHeight:"115px",breadcrumbsHeight:"30px",thinBorderWidth:"2px",thinBorderRadius:"5px"};ci({},cy,{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",blue:"#6aa3e9",darkGrey:"#605d5d",lightGrey:"#988b8b",red:"red",border:"black",cardBackground:"white"}}),ci({},cy,{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",blue:"#73b0fa",darkGrey:"#b3afaf",lightGrey:"#4a4343",red:"#eb83a8",border:"white",cardBackground:"#1a1a1a"}});var cz=["children"],cA=["children"],cB=bF.ZP.div(d||(d=ck(["\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n"])));bF.ZP.div(e||(e=ck(["\n  margin-right: 5px;\n  cursor: pointer;\n"])));var cC=bF.ZP.div(f||(f=ck(["\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n"])));(0,bF.ZP)(b2.Z)(g||(g=ck(["\n  color: ","\n"])),function(a){return a.theme.colors.text}),(0,bF.ZP)(b3.Z)(h||(h=ck(["\n  color: ","\n"])),function(a){return a.theme.colors.text}),(0,bF.ZP)(b1.Z)(i||(i=ck(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),function(a){return a.cursor?a.cursor:"auto"});var cD=function(a){var b=cj(a,cz);return bB.createElement(b4.Z,b)};cD.propTypes={onClick:b7().func.isRequred};var cE=bF.ZP.div(j||(j=ck(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n"]))),cF=function(a){var b=a.children,c=cj(a,cA);return bB.createElement(cE,ci({className:"FlexCol"},c),b)},cG=bF.ZP.div(k||(k=ck(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n"])));bF.ZP.div(l||(l=ck(["\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n"])));var cH=function(a,b,c){void 0===b&&(b=""),void 0===c&&(c=null),(c="string"==typeof c?c:b.replace(/\W/g,"")).length>0&&(window[c]=a),console.log("+++ "+b+":",a)},cI=(0,bF.ZP)(b5.Z)(m||(m=ck(["\n  color: ","\n"])),function(a){return a.theme.colors.text});bB.createContext({}),bF.ZP.div(n||(n=ck(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  padding: .5em;\n\n  margin-bottom: 1em;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.cardBackground}),bF.ZP.div(o||(o=ck(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  color: ",";\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.cardBackground},function(a){return a.theme.colors.text}),bF.ZP.div(p||(p=ck(["\n  height: 100vh;\n"]))),bB.createContext({});var cJ,cK=["children"],cL=bB.createContext({});(function(a){var b=a.children,c=cj(a,cK);cH(c,"JwtContextProvider");var d=c.api,e=JSON.parse(localStorage.getItem(cl.current_user))||cl.anonUser,f=(0,bB.useState)(e),g=f[0],h=f[1],i=(0,bB.useState)({}),j=i[0],k=i[1];return(0,bB.useEffect)(function(){d.getMyAccount().then(function(a){localStorage.setItem(cl.current_user,JSON.stringify(a)),h(a)}).catch(function(a){cH(a,"e322"),h(cl.anonUser),localStorage.removeItem(cl.current_user),localStorage.removeItem(cl.jwt_token)})},[]),bB.createElement(cL.Provider,{value:{api:d,currentUser:g,setCurrentUser:h,loginModalOpen:j,setLoginModalOpen:k}},b)}).props={api:b7().object};var cM=bF.ZP.div(q||(q=ck(["\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n"]))),cN=bF.ZP.div(r||(r=ck(["\n  border: 1px solid red;\n"]))),cO=bF.ZP.div(s||(s=ck(["\n  display: flex;\n"]))),cP=bF.ZP.div(t||(t=ck(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n"]))),cQ=function(a){var b=(0,bB.useContext)(cL),c=b.api,d=b.setCurrentUser,e=b.setLoginModalOpen,f=(0,bB.useState)(""),g=f[0],h=f[1],i=(0,bB.useState)(""),j=i[0],k=i[1],l=function(a,b){try{return c.postLoginWithPassword({email:a,password:b}).then(function(a){cH(a,"ze resp"),localStorage.setItem(cl.jwt_token,a.jwt_token),localStorage.setItem(cl.current_user,JSON.stringify(a)),d(a),e(!1)}).catch(function(a){cH(a,"e322"),toast("Login failed"),d(cl.anonUser)}),Promise.resolve()}catch(f){return Promise.reject(f)}};return bB.createElement(cP,null,bB.createElement("input",{type:"email",value:g,onChange:function(a){return h(a.target.value)}}),bB.createElement("br",null),bB.createElement("input",{type:"password",value:j,onChange:function(a){return k(a.target.value)},onKeyDown:function(a){"Enter"===a.key&&l(g,j)}}),bB.createElement(cC,{onClick:function(){return l(g,j)}},"Login"))},cR=function(){var a=(0,bB.useContext)(cL).setCurrentUser,b=function(){localStorage.removeItem(cl.jwt_token),localStorage.removeItem(cl.current_user),a({})};return bB.createElement(cC,{onClick:b},"Logout")},cS=bF.ZP.div(u||(u=ck(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n"])));(function(a){var b=(0,bB.useContext)(SimpleContext),c=b.setCurrentUser,d=b.setLoginModalOpen,e=b.useApi,f=(0,bB.useState)(""),g=f[0],h=f[1],i=(0,bB.useState)(""),j=i[0],k=i[1],l=e(),m=function(a,b){try{return l.postLogin({email:a,password:b}).then(function(a){d(!1)}).catch(function(a){cH(a,"e322"),(0,cb.Am)("Login failed"),c(cl.anonUser)}),Promise.resolve()}catch(e){return Promise.reject(e)}};return bB.createElement(cS,null,bB.createElement("input",{type:"email",value:g,onChange:function(a){return h(a.target.value)}}),bB.createElement("br",null),bB.createElement("input",{type:"password",value:j,onChange:function(a){return k(a.target.value)},onKeyDown:function(a){"Enter"===a.key&&m(g,j)}}),bB.createElement(cC,{onClick:function(){return m(g,j)}},"Password Login"))}).propTypes={};var cT=bF.ZP.div(v||(v=ck(["\n"])));(function(a){var b=(0,(0,bB.useContext)(ct).useApi)(),c=(0,bB.useState)(localStorage.getItem(cl.names.scratchpad)||""),d=c[0],e=c[1],f=function(){localStorage.setItem(cl.names.scratchpad,d),b.postProfile({scratchpad:d}).then(function(a){}).catch(function(a){cH("Cannot update profile:",a)})};return bB.createElement(cT,null,bB.createElement("textarea",{name:"scratchpad",rows:"20",cols:"40",onChange:function(a){return e(a.target.value)},value:d}),bB.createElement(cB,null,bB.createElement(cC,{onClick:f},"Save")))}).propTypes={};var cU=["children"],cV=bF.ZP.div(w||(w=ck(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"])));(function(a){var b=a.children,c=cj(a,cU),d=c.listItems,e=bB.useState(!1),f=e[0],g=e[1];(0,bB.useState)(!1);var h=(0,bP.k6)();return bB.createElement(bB.Fragment,null,c.variant===cl.variants.floating?bB.createElement(cf.Z,{onClick:function(){return g(!0)},style:{position:"absolute",top:0,left:0,margin:".5em",zIndex:1},"aria-label":"main menu"},bB.createElement(cI,null)):bB.createElement(cI,{onClick:function(){return g(!0)}}),bB.createElement(ce.ZP,{anchor:"left",open:f,onClose:function(){return g(!1)}},bB.createElement(cV,null,bB.createElement(cg.Z,null,d.map(function(a){var b=a.label,c=a.key,d=a.path;return bB.createElement(ch.Z,{button:!0,key:c,onClick:function(){g(!1),h.push(d())}},b)})),b)))}).propTypes={listItems:b7().array.isRequired,variant:b7().string};var cW=function(){var a=(0,bB.useContext)(ct),b=a.setCurrentUser,c=a.setLoginModalOpen,d=localStorage.getItem(bQ.jwt_token);return{deleteNewsitem:function(a){var b=a.id;return fn.delete("".concat(bH().apiOrigin,"/api/newsitems/").concat(b,"?jwt_token=").concat(d)).then(function(a){return a.data}).then(function(a){return a})},doRegister:function(a){var b=a.email,c=a.password;return fn.post("".concat(bH().apiOrigin,"/api/users"),{email:b,password:c}).then(function(a){return a.data}).then(function(a){return fQ(a,"done registered"),a})},doUnlock:function(a){var b=a.kind,c=a.id,d=localStorage.getItem("jwt_token"),e="/api/payments/unlock?kind=".concat(b,"&id=").concat(c,"&jwt_token=").concat(d);return fn.post("".concat(bH().apiOrigin).concat(e)).then(function(a){return a.data})},getCities:function(){return fn.get("".concat(bH().apiOrigin,"/api/cities")).then(function(a){return a.data})},getCity:function(a){return fn.get("".concat(bH().apiOrigin,"/api/cities/view/").concat(a))},getGallery:function(a){return fn.get("".concat(bH().apiOrigin,"/api/galleries/view/").concat(a,"?jwt_token=").concat(d)).then(function(a){return a.data.gallery})},getMyAccount:function(){return fn.post("/api/my/account",{jwt_token:d}).then(function(a){return a.data}).catch(function(a){return fQ(a,"Cannot #getMyAccount"),bQ.anonUser})},getPayments:function(){return fn.get("".concat(bH().apiOrigin,"/api/payments2?jwt_token=").concat(d)).then(function(a){return a.data})},getReport:function(a){return fn.get("".concat(bH().apiOrigin,"/api/reports/view/").concat(a,"?jwt_token=").concat(d)).then(function(a){return a.data.report})},getTag:function(a){return fn.get("".concat(bH().apiOrigin,"/api/tags/view/").concat(a.slug)).then(function(a){return a.data})},loginPath:"/api/users/login.json",longTermTokenPath:"/api/users/long_term_token",postLogin:function(a){var d=a.email,e=a.password;return fn.post("".concat(bH().apiOrigin).concat(bH().router.loginPath),{email:d,password:e}).then(function(a){return a.data}).then(function(a){fQ(a,"got this resp"),localStorage.setItem(bQ.jwt_token,a.jwt_token),localStorage.setItem(bQ.current_user,JSON.stringify(a)),b(a),c(!1)}).catch(function(a){fQ(a,"e322"),toast("Login failed"),b(bQ.anonUser)})},myVideosPath:"/api/my/videos",applicationHome:function(){fn.get("".concat(bH().apiOrigin,"/api/sites/view/").concat(bH().domain),{params:{jwt_token:d}}).then(function(a){return a.data})}}},cX=c(29895);c(44524);var cY=c(72132);c(40993);var cZ,c$,c_=c(60773),c0=c(12634),c1=c(60715),c2=c(77294),c3=c(41749),c4=c(73727),c5=c(23399),c6=c(17812),c7=c(3283),c8=c.n(c7),c9=c(157),da=c(49857),db=c(45697),dc=c.n(db),dd=bF.ZP.div(x||(x=(cZ=["\n  border: ",";\n  border-radius: ",";\n\n  flex-grow: 1;\n\n  width: ",";\n  height: ",";\n\n  padding: 2px;\n  background: ",";\n"],c$||(c$=cZ.slice(0)),Object.freeze(Object.defineProperties(cZ,{raw:{value:Object.freeze(c$)}})))),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.orientation===bQ.horizontal?"auto":"10px"},function(a){return a.orientation===bQ.horizontal?"10px":"auto"},function(a){return a.theme.colors.background});function de(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}dd.propTypes={orientation:dc().string};var df=(0,bF.ZP)(c5.ZP)(y||(y=de(["\n  .MuiDrawer-paper {\n    // border: 1px solid cyan;\n\n    background: ",";\n  }\n\n  .MuiDrawer-paperAnchorDockedBottom {\n    border-top: 0;\n  }\n\n"])),function(a){return a.theme.colors.background});function dg(a){return new(c8())(a)}var dh=bF.ZP.div(z||(z=de(["\n  display: flex;\n  align-items: flex-start;\n  color: ",";\n"])),function(a){return a.theme.colors.text}),di=bF.ZP.div(A||(A=de(["\n  border: ",";\n  border-radius: ",";\n\n  background: ",";\n  height: calc("," + 1*",");\n  margin: ",";\n\n  flex-grow: 1;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.background},function(a){return a.theme.bottomDrawerOpenHeight},function(a){return a.theme.borderHeight},function(a){return a.theme.borderWidth}),dj=bF.ZP.div(B||(B=de(["\n  // border: 1px solid green;\n\n  background: ",";\n  height: 100px;\n  display: flex;\n"])),function(a){return a.theme.colors.cardBackground}),dk=bF.ZP.div(D||(D=de(["\n  // border: 1px solid yellow;\n\n  position: absolute;\n  bottom: -10px;\n  // left: 10px;\n\n  width: calc(100% - 2*",");\n\n  display: flex;\n  align-items: center;\n"])),function(a){return a.theme.borderWidth}),dl=function(a){var b=(0,bB.useContext)(b0),c=b.bottomDrawerOpen,d=b.layout,e=b.setBottomDrawerOpen;return d===bQ.layout_onecol?null:bB.createElement(bB.Fragment,null,bB.createElement(dk,null,bB.createElement(c6.Z,{"aria-label":"open drawer",onClick:function(){return e(!0)}},bB.createElement(fS,{fontSize:"small"})),bB.createElement(dd,{orientation:bQ.horizontal})),bB.createElement(df,{anchor:"bottom",elevation:1,open:c,onClose:function(){return e(!1)},BackdropProps:{invisible:!0},variant:"persistent"},bB.createElement(dh,null,bB.createElement(c6.Z,{"aria-label":"open drawer",onClick:function(){return e(!1)},style:{paddingRight:0}},bB.createElement(fS,{fontSize:"small"})),bB.createElement(di,null,bB.createElement(dj,null,bB.createElement(c9.Ht,{getLibrary:dg},bB.createElement(eT,null)))))))};function dm(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var dn,dp,dq,dr,ds=bF.ZP.div(E||(E=dm(["\n  // border: 1px solid red;\n\n  flex-grow: 1;\n\n  text-align: center;\n  font-size: 2em;\n\n\n"]))),dt=bF.ZP.div(F||(F=dm(["\n  // border: 1px solid blue;\n\n  display: flex;\n  justify-content: center;\n  line-height: 2em;\n  padding: 2em 0;\n"]))),du=function(a){return bB.createElement(dt,null,bB.createElement(dN,{variant:bQ.variants.inline}),bB.createElement(ds,null,"My Local Guide"))},dv=bF.ZP.div(G||(G=(dn=["\n  // border: 1px solid purple;\n\n  background: white;\n\n  overflow: hidden;\n  margin: 10px;\n  height: calc(100vh - ","px - ",");\n"],dp||(dp=dn.slice(0)),Object.freeze(Object.defineProperties(dn,{raw:{value:Object.freeze(dp)}})))),function(a){return 2*a.borderWidth},function(a){return a.bottomDrawerOpen?"".concat(a.bottomDrawerHeight-a.borderWidth/2,"px"):"0px"}),dw=function(a){return bB.createElement(dv,a)},dx=bF.ZP.div(H||(H=(dq=["\n  // border: 1px solid cyan;\n  // background: white;\n\n  overflow-y: auto;\n\n  height: calc(100vh\n    - ",");\n"],dr||(dr=dq.slice(0)),Object.freeze(Object.defineProperties(dq,{raw:{value:Object.freeze(dr)}})))),function(a){return a.bottomDrawerOpen?a.bottomDrawerOpenHeight:a.bottomDrawerClosedHeight}),dy=function(a){var b=(0,bB.useContext)(b0).bottomDrawerOpen;return bB.createElement(dx,Object.assign({},a,{bottomDrawerOpen:b},fu))},dz=(bI.U7$,bI.$xG,bI.lBs,bI.lBs,bI.G2D,c(33758)),dA=c(62822),dB=c(90385);function dC(a,b){return dH(a)||dG(a,b)||dE(a,b)||dD()}function dD(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dE(a,b){if(a){if("string"==typeof a)return dF(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dF(a,b)}}function dF(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function dG(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function dH(a){if(Array.isArray(a))return a}function dI(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(I||(I=dI(["\n  // border: 1px solid green;\n"])));var dJ=bF.ZP.div(J||(J=dI(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"]))),dK=function(a){var b,c=dC(bB.useState(!1),2),d=c[0],e=c[1],f=(0,bB.useState)(!1),g=dC(f,2);g[0],g[1];var h=(0,bP.k6)(),i=(0,bB.useContext)(b0),j=i.currentUser;return i.setCurrentUser,bB.createElement(bB.Fragment,null,a.variant===bQ.variants.floating?bB.createElement(dz.Z,{onClick:function(){return e(!0)},style:{position:"absolute",top:0,left:0,margin:".5em"},"aria-label":"main menu"},bB.createElement(fS,null)):bB.createElement(fS,{onClick:function(){return e(!0)}}),bB.createElement(c5.ZP,{anchor:"left",open:d,onClose:function(){return e(!1)}},bB.createElement(dJ,null,bB.createElement(dA.Z,null,bB.createElement(dB.Z,{button:!0,key:"newsfeed",onClick:function(){e(!1),h.push(bH().homePath)}},"Home"),j&&(null===(b=j.bookmarks)|| void 0===b?void 0:b.map(function(a,b){return bB.createElement(dB.Z,{button:!0,key:b,onClick:function(){e(!1),h.push("/en/locations/show/".concat(a.slug))}},bB.createElement("span",null,a.name))})),bB.createElement(dB.Z,{button:!0,key:"account",onClick:function(){e(!1),h.push("/en/locations/show/".concat(j.id))}},bB.createElement("span",null,"Account")),bB.createElement(dB.Z,null,"Version 0.0.0")))))};dK.propTypes={variant:dc().string};var dL,dM,dN=dK,dO=bF.ZP.div(K||(K=(dL=["\n  margin: .5em 0;\n  color: ",";\n"],dM||(dM=dL.slice(0)),Object.freeze(Object.defineProperties(dL,{raw:{value:Object.freeze(dM)}})))),function(a){return a.theme.colors.text}),dP=function(a){var b=a.created_at,c=a.username,d=a.city,e=a.tags,f=void 0===e?[]:e;return bB.createElement(dO,null,b&&bB.createElement("span",{className:"date"}," On ",fU(b)," "),c&&bB.createElement(bB.Fragment,null,"by ",bB.createElement("span",{className:"user"}," ",c," ")),d&&bB.createElement(bB.Fragment,null,"in ",bB.createElement("span",{className:"city",onClick:function(){a.history.push("/en/cities/travel-to/".concat(d.slug,"/show/newsfeed"))}}," ",d.name," ")),f&&f.map(function(a,b){return bB.createElement("span",{key:b,className:"tags"},a.name)}))},dQ=(0,bP.EN)(dP),dR=c(83253),dS=c.n(dR),dT=c(86664),dU=c(54465);function dV(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var dW=(0,dU.J)("pk_test_qr1QPmSpLdBFt1F7itdWJOj3"),dX=function(a){var b,c,d=(0,bB.useContext)(b0),e=d.purchaseModalOpen,f=d.setPurchaseModalOpen,g=(0,dT.useStripe)(),h=(0,dT.useElements)(),i=(c=(b=bD().mark(function a(b){var c,d,e,i;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.preventDefault(),!(!g||!h)){a.next=3;break}return a.abrupt("return");case 3:return c=h.getElement(dT.CardElement),a.next=6,api.getPayments();case 6:return d=a.sent,a.next=9,g.confirmCardPayment(d.client_secret,{payment_method:{card:h.getElement(dT.CardElement)}});case 9:if(!(e=a.sent).error){a.next=14;break}fQ(e.error.message,"error message"),a.next=21;break;case 14:if("succeeded"!==e.paymentIntent.status){a.next=21;break}return a.next=17,api.getMyAccount();case 17:fQ(i=a.sent,"tr2"),setCurrentUser(i),f(!1);case 21:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){dV(f,d,e,g,h,"next",a)}function h(a){dV(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)});return bB.createElement(bB.Fragment,null,bB.createElement(fG,null,"Spend $"),bB.createElement(dS(),{isOpen:e,ariaHideApp:!1},bB.createElement("h1",null,"Buy unlocks",bB.createElement("span",{onClick:function(){f(!1)}},"[x]")),bB.createElement("form",{onSubmit:i},bB.createElement(dT.CardElement,null),bB.createElement("button",{type:"submit",disabled:!g},"Pay"))))},dY=function(a){return bB.createElement(dT.Elements,{stripe:dW},bB.createElement(dX,a))};function dZ(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var d$=function(a){var b,c,d=a.rate,e=(b=(0,bB.useState)([]),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return dZ(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return dZ(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=e[0],g=e[1],h={0:bI.i6c,1:bI.gqp,2:bI.h_b};return(0,bB.useEffect)(function(){for(var a=[,,,,,].fill(0),b=0;d>0;)d<1?a[b]=1:a[b]=2,d--,b++;g(a)},[]),bB.createElement("div",{className:"rating"},f.map(function(a,b){return bB.createElement(bJ.gu,{key:b,className:"stars",icon:h[a]})}))};function d_(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function d0(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var d1,d2,d3=bF.ZP.div(L||(L=d0(["\n  display: inline;\n  cursor: pointer;\n"]))),d4=bF.ZP.div(M||(M=d0(["\n  display: flex;\n  justify-content: space-around;\n"]))),d5=bF.ZP.div(N||(N=d0(["\n  display: flex;\n  justify-content: space-between;\n"]))),d6={overlay:{},content:{margin:"auto",maxWidth:"400px"}},d7=function(a){var b,c,d=(0,bB.useContext)(b0),e=d.currentUser,f=d.setCurrentUser,g=d.itemToUnlock,h=d.setItemToUnlock,i=(d.loginModalOpen,d.setLoginModalOpen),j=(d.purchaseModalOpen,d.setPurchaseModalOpen),k=(d.ratedConfirmation,d.setRatedConfirmation),l=(0,bP.k6)(),m=cW(),n=(c=(b=bD().mark(function a(){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.doUnlock({kind:g.item_type,id:g.id}).then(function(a){h({}),f(a)}).catch(function(a){fQ(a,"e19")});case 2:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){d_(f,d,e,g,h,"next",a)}function h(a){d_(f,d,e,g,h,"throw",a)}g(void 0)})}),function(){return c.apply(this,arguments)});if(!g.id)return null;var o=void 0===g.closable||g.closable,p=function(){h({}),k(!0),l.push(bH().homePath)},q=g.premium_tier;return bB.createElement(dS(),{style:d6,ariaHideApp:!1,isOpen:!!g.id},bB.createElement(d5,null,bB.createElement("h1",null,"Unlock this item?"),o&&bB.createElement(d3,{onClick:function(){return o&&h(!1)}},"\xd7")),bB.createElement("p",null,"To access this content, please unlock it first. It costs ",q," coin(s) to unlock."),e&&bB.createElement(bB.Fragment,null,bB.createElement("p",null,"You have ",bB.createElement("b",null,e.n_unlocks)," unlocks."),e.n_unlocks>=q&&bB.createElement(fG,{onClick:n},"Unlock"),e.n_unlocks<q&&bB.createElement(bB.Fragment,null,bB.createElement("p",null,"You don't have enough unlocks."),bB.createElement(fG,{onClick:function(){j(!0),h(!1)}},"Purchase more."))),!e&&bB.createElement(bB.Fragment,null,bB.createElement("p",null,"You have to be logged in to unlock content. ",bB.createElement("a",{onClick:function(){i(!0),h(!1)}},"Please login."))),bB.createElement(d4,null,!o&&bB.createElement(fG,{onClick:p},"Go Home")))},d8=c(44326),d9=c(99945),ea=d8.Z,eb=d9.Z,ec=bF.ZP.div(O||(O=(d1=[""],d2||(d2=d1.slice(0)),Object.freeze(Object.defineProperties(d1,{raw:{value:Object.freeze(d2)}}))))),ed=function(a){return a.item,bB.createElement(cF,null,bB.createElement(ea,null),bB.createElement(ec,null,"555"),bB.createElement(eb,null))};ed.propTypes={};var ee=ed,ef=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),eg=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function eh(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function ei(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){eh(f,d,e,g,h,"next",a)}function h(a){eh(f,d,e,g,h,"throw",a)}g(void 0)})}}function ej(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ek(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ej(Object(c),!0).forEach(function(b){el(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ej(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function el(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function em(a){return ep(a)||eo(a)||es(a)||en()}function en(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eo(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function ep(a){if(Array.isArray(a))return et(a)}function eq(a,b){return ev(a)||eu(a,b)||es(a,b)||er()}function er(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function es(a,b){if(a){if("string"==typeof a)return et(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return et(a,b)}}function et(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function eu(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function ev(a){if(Array.isArray(a))return a}var ew,ex,ey=cX.dV.isPluginAvailable("PushNotifications"),ez="0x4bE9765Ca063E73E0aaEd227fd6731473508DbE0",eA="0xffa52d00685aC60e65457922aEae2c2783c0cB0E",eB=function(){return bB.createElement("div",null,"PasswordLogin - @TODO: remove")},eC=bF.ZP.div(P||(P=(ew=["\n  display: flex;\n  // border: 1px solid yellow;\n\n  > * {\n    margin: auto .4em;\n  }\n"],ex||(ex=ew.slice(0)),Object.freeze(Object.defineProperties(ew,{raw:{value:Object.freeze(ex)}}))))),eD=function(a){var b=(0,bB.useContext)(b0),c=b.currentUser;b.setCurrentUser;var d,e=eq((0,bB.useState)(""),2),f=e[0],g=e[1],h=eq((0,bB.useState)([]),2),i=h[0],j=h[1],k=eq((0,bB.useState)(""),2),l=k[0],m=k[1],n=function(){},o=function(){c_.V.register(),c_.V.addListener("registration",function(a){p("Push registration success")}),c_.V.addListener("registrationError",function(a){alert("Error on registration: "+JSON.stringify(a))}),c_.V.addListener("pushNotificationReceived",function(a){var b=a;fR(b,"pushNotificationReceived"),j(function(a){return fR(a,"setNofitications"),[].concat(em(a),[ek(ek({},b),{},{type:"foreground"})])})}),c_.V.addListener("pushNotificationActionPerformed",function(a){var b=a.nofitication;fR(b,"pushNotificationActionPerformed"),j(function(a){return fR(a,"setNofitications"),[].concat(em(a),[ek(ek({},b),{},{type:"action"})])})})},p=(d=ei(bD().mark(function a(b){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c0.F.show({text:b});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),function(a){return d.apply(this,arguments)});function q(){return r.apply(this,arguments)}function r(){return(r=ei(bD().mark(function a(){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return a.stop()}},a)}))).apply(this,arguments)}function s(){return t.apply(this,arguments)}function t(){return(t=ei(bD().mark(function a(){var b,c,d;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(void 0!==window.ethereum)){a.next=13;break}return b=new c1.Q(window.ethereum),c=new c2.CH(ez,ef.Mt,b),a.prev=3,a.next=6,c.greet();case 6:g(d=a.sent),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),console.log("Error: ",a.t0);case 13:case"end":return a.stop()}},a,null,[[3,10]])}))).apply(this,arguments)}function u(){return(u=ei(bD().mark(function a(){var b,c,d,e,f,g;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(void 0!==window.ethereum)){a.next=12;break}return a.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return d=(c=eq(b=a.sent,1))[0],e=new c1.Q(window.ethereum),f=new c2.CH(eA,eg.Mt,e),a.next=10,f.balanceOf(d);case 10:g=a.sent,console.log("Balance: ",g.toString());case 12:case"end":return a.stop()}},a)}))).apply(this,arguments)}function v(){return(v=ei(bD().mark(function a(){var b,c,d,e;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(f){a.next=2;break}return a.abrupt("return");case 2:if(!(void 0!==window.ethereum)){a.next=14;break}return a.next=5,q();case 5:return c=(b=new c1.Q(window.ethereum)).getSigner(),d=new c2.CH(ez,ef.Mt,c),a.next=10,d.setGreeting(f);case 10:return e=a.sent,a.next=13,e.wait();case 13:s();case 14:case"end":return a.stop()}},a)}))).apply(this,arguments)}function w(){return(w=ei(bD().mark(function a(){var b,c,d,e;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(void 0!==window.ethereum)){a.next=12;break}return a.next=3,q();case 3:return c=(b=new c1.Q(window.ethereum)).getSigner(),d=new c2.CH(eA,eg.Mt,c),a.next=8,d.transfer(userAccount,amount);case 8:return e=a.sent,a.next=11,e.wait();case 11:console.log("".concat(amount," Coins successfully sent to ").concat(userAccount));case 12:case"end":return a.stop()}},a)}))).apply(this,arguments)}return(0,bB.useEffect)(function(){ey&&c_.V.checkPermissions().then(function(a){"granted"===a.receive?o():c_.V.requestPermissions().then(function(a){"denied"===a.receive?p("Push Notification permission denied"):(p("Push Notification permission granted"),o())})})},[]),bB.createElement(bJ._i,null,bB.createElement(c3.Z,{container:!0},bB.createElement(dN,{variant:bQ.variants.inline}),bB.createElement("h1",null,"Account")),bB.createElement(bJ.W2,{className:"ion-padding"},bB.createElement(c3.Z,{container:!0,spacing:2},bB.createElement(c3.Z,{item:!0,xs:12},bB.createElement(c3.Z,{container:!0},bB.createElement(c3.Z,{item:!0,xs:6},bB.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"}),bB.createElement("div",null,bB.createElement("button",{onClick:s},"Fetch Greeting"),bB.createElement("br",null),bB.createElement("button",{onClick:function(){return v.apply(this,arguments)}},"Set Greeting"),bB.createElement("br",null),bB.createElement("input",{value:f,onChange:function(a){return g(a.target.value)},placeholder:"Set greeting"})),bB.createElement("hr",null),bB.createElement("div",null,bB.createElement("button",{onClick:function(){return u.apply(this,arguments)}},"Get Balance"),bB.createElement("br",null),bB.createElement("button",{onClick:function(){return w.apply(this,arguments)}},"Send Coins"),bB.createElement("br",null),bB.createElement("input",{onChange:function(a){return setUserAccount(a.target.value)},placeholder:"Account ID"}),bB.createElement("br",null),bB.createElement("input",{onChange:function(a){return setAmount(a.target.value)},placeholder:"Amount"}))),bB.createElement(c3.Z,{item:!0,xs:6},!!c&&bB.createElement(bB.Fragment,null,bB.createElement("h4",null,c.email),bB.createElement("ul",null,bB.createElement("li",null,bB.createElement(c4.rU,{to:"/en/account/my/galleries"},"My Galleries")),bB.createElement("li",null,bB.createElement("a",{onClick:function(){return a.history.push("/en/account/my/videos")}},"My Videos")),bB.createElement("li",null,bB.createElement(e$,null))))||bB.createElement(bB.Fragment,null,bB.createElement("h4",null,"Not logged in"),bB.createElement(eC,null,bB.createElement(eY,null),bB.createElement(eB,null))))),bB.createElement(c3.Z,{container:!0,spacing:2},bB.createElement(c3.Z,{item:!0,xs:6},bB.createElement("textarea",{value:l,onChange:m}),bB.createElement("button",{type:"submit",onClick:n},"Save Scratchpad"))))),bB.createElement("hr",null),i.length&&bB.createElement(bJ.q_,null,i.map(function(a){return bB.createElement(bJ.Ie,{key:a.id},bB.createElement(bJ.Q$,null,bB.createElement(bJ.yW,null,bB.createElement("h3",{className:"notif-title"},a.title)),bB.createElement("p",null,a.body),"foreground"===a.type&&bB.createElement("p",null,"This data was received in foreground"),"action"===a.type&&bB.createElement("p",null,"This data was received on tap")))}))||"no notifications so far"),bB.createElement(bJ.fr,null,bB.createElement(bJ.sr,null,ey&&bB.createElement(bJ.YG,{color:"success",expand:"full",onClick:o},"Register for Push")||bB.createElement("div",null,bB.createElement("h1",null,"Push notifications not available")))))},eE=c(80888);c(16730);var eF=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"awardToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_idx","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"ownerTokens","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function eG(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function eH(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){eG(f,d,e,g,h,"next",a)}function h(a){eG(f,d,e,g,h,"throw",a)}g(void 0)})}}function eI(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function eJ(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var eK=bF.ZP.span(Q||(Q=eJ(["\n  border: 1px solid ",";\n\n  padding: 5px;\n  cursor: pointer;\n"])),function(a){return a.theme.colors.text}),eL=bF.ZP.div(R||(R=eJ(["\n  // display: flex;\n"]))),eM=bF.ZP.div(S||(S=eJ(["\n  border: 1px solid red;\n  background: white;\n\n  max-width: 100px;\n  max-height: 100px;\n  width: 100px;\n  height: 100px;\n"]))),eN=function(a){var b=a.src;return bB.createElement(eM,null,bB.createElement("img",{src:b,alt:""}))},eO=new da._k,eP=bF.ZP.div(T||(T=eJ(["\n  // border: 1px solid cyan;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]))),eQ=bF.ZP.div(U||(U=eJ([""]))),eR=function(a){var b=(0,bB.useContext)(ct),c=b.currentUser;b.setCurrentUser,b.useApi;var d=(0,bB.useContext)(b0),e=d.editorMode,f=d.setEditorMode;return bB.createElement(bB.Fragment,null,bB.createElement(eL,null,"[ ",void 0===c.n_unlocks?"?":c.n_unlocks," coins",bB.createElement(eK,{onClick:function(){return setPurchaseModalOpen(!0)}},"Add")," ]"),bB.createElement(fJ,null,bB.createElement("label",null,bB.createElement(eE.Z,{defaultChecked:e,icons:!1,onChange:function(){return f(!e)}}),bB.createElement("span",null,"Editor mode"))))},eS=function(a){var b,c,d=(0,bB.useContext)(ct),e=d.currentUser,f=(d.setCurrentUser,d.useApi),g=(b=(0,bB.useState)(""),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return eI(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return eI(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],i=g[1];f();var j=(0,c9.Ge)(),k=j.active,l=j.account,m=(j.library,j.connector,j.activate),n=j.deactivate;function o(){return(o=eH(bD().mark(function a(){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m(eO);case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),fQ(a.t0,"could not connect");case 8:case"end":return a.stop()}},a,null,[[0,5]])}))).apply(this,arguments)}function p(){return(p=eH(bD().mark(function a(){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:try{n()}catch(b){console.log(b)}case 1:case"end":return a.stop()}},a)}))).apply(this,arguments)}var q,r,s=(q=eH(bD().mark(function a(){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return a.stop()}},a)})),function(){return q.apply(this,arguments)}),t=(r=eH(bD().mark(function a(){var b,c,d,e,f,g;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.ethereum){a.next=15;break}return a.next=3,s();case 3:if(!l){a.next=15;break}return c=(b=new c1.Q(window.ethereum)).getSigner(),d=new c2.CH("0x3e1a03a9e1682f4dd95413e0be69e5b7bccaf15d",eF.Mt,c),a.next=9,d.tokensOfOwner(l);case 9:return e=a.sent,f=0,a.next=13,d.tokenURI(e[f]);case 13:g=a.sent,fn.get(g).then(function(a){return a.data.image}).then(function(a){i(a)});case 15:case"end":return a.stop()}},a)})),function(){return r.apply(this,arguments)});return bB.createElement(eP,{className:"MyAccountWidget"},bB.createElement(eN,{src:h||(null==e?void 0:e.profile_photo_url)}),bB.createElement(cG,null,e.email&&bB.createElement(eR,null),bB.createElement(cp,null),k&&bB.createElement(eQ,null," [",bB.createElement("span",null,"Connected with ",bB.createElement("b",null,l)),bB.createElement("button",{onClick:function(){return p.apply(this,arguments)}},"Disconnect"),bB.createElement("button",{onClick:t},"myBodies")," ]"),!k&&bB.createElement(eQ,null,bB.createElement("span",null,"Not Connected"),bB.createElement("button",{onClick:function(){return o.apply(this,arguments)}},"Connect to MetaMask"))),bB.createElement(dY,null))};eS.propTypes={};var eT=eS;function eU(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function eV(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var eW=cX.Vn.FacebookLogin,eX=["email"],eY=function(a){var b,c,d=cW(),e=(0,bB.useContext)(b0),f=(e.currentUser,e.setCurrentUser),g=(c=(b=bD().mark(function a(){var b;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,eW.login({permissions:eX});case 2:(b=a.sent).accessToken?fn.post("".concat(bH().apiOrigin).concat(d.longTermTokenPath),{accessToken:b.accessToken.token}).then(function(a){localStorage.setItem(bQ.jwt_token,a.data.jwt_token),localStorage.setItem(bQ.current_user,JSON.stringify(a.data)),f(a.data)}).catch(function(a){fQ(a,"Could not post request to ".concat(bH().apiOrigin).concat(d.longTermTokenPath))}):fQ("canceled");case 4:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){eV(f,d,e,g,h,"next",a)}function h(a){eV(f,d,e,g,h,"throw",a)}g(void 0)})}),function(){return c.apply(this,arguments)});return bB.createElement(fG,{onClick:g},"FB Login")},eZ=bF.ZP.span(V||(V=eU(["\n  border: 1px solid ",";\n\n  padding: 5px;\n  cursor: pointer;\n"])),function(a){return a.theme.colors.text}),e$=function(){var a=(0,bB.useContext)(b0),b=(a.currentUser,a.setCurrentUser),c=function(){localStorage.removeItem(bQ.jwt_token),localStorage.removeItem(bQ.current_user),b({})};return bB.createElement(eZ,{onClick:c},"X")};function e_(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e0(a,b){if(a){if("string"==typeof a)return e1(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return e1(a,b)}}function e1(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function e2(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function e3(a){if(Array.isArray(a))return a}bF.ZP.div(W||(W=eU(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n"])));var e4={cityVenuesPath:function(a){return"/en/cities/travel-to/".concat(a,"/venues")},cityPath:function(a){return"/en/cities/travel-to/".concat(a)}},e5=["children","variant"],e6=["children"];function e7(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e8(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e7(Object(c),!0).forEach(function(b){e9(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e7(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function e9(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function fa(a,b){if(null==a)return{};var c,d,e=fb(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function fb(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function fc(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var fd=function(){return bB.createElement("span",null,"\xa0>\xa0\xa0")},fe=bF.ZP.div(X||(X=fc(["\n  // border: 2px solid red;\n  // max-height: 100vh;\n\n  clear: left;\n"]))),ff=bF.ZP.div(Y||(Y=fc(["\n  display: flex;\n  margin-bottom: ",";\n  color: ",";\n"])),function(a){return a.theme.borderWidth},function(a){return a.theme.colors.text}),fg=bF.ZP.div(Z||(Z=fc(["\n  background: ",";\n  padding: 0 .5em .5em .5em;\n"])),function(a){return a.theme.colors.background}),fh=function(a){var b=a.children,c=a.variant,d=fa(a,e5);return c===bQ.variants.bordered?bB.createElement(fV,d,b):bB.createElement(fg,d,b)},fi=function(a){var b=a.children,c=fa(a,e6),d=c.className,e=c.config,f=c.variant,g=(0,bB.useContext)(fK);if(!g)return null;var h=g.collapsibles,i=g.setCollapsibles,j=function(){return i(e8(e8({},h),{},e9({},c.slug,!h[c.slug])))},k=void 0===e|| void 0===e.collapsible||e.collapsible;return bB.createElement(fh,{variant:f,className:"Collapsible ".concat(void 0===d?"":d)},c.label&&k&&bB.createElement(ff,{onClick:j},bB.createElement(fd,null)," ",c.label),c.label&&!k&&bB.createElement(ff,null,c.label),bB.createElement(fe,null,b))};fi.propTypes={className:dc().string,config:dc().shape({collapsible:dc().bool}),label:dc().string,slug:dc().string.isRequired,variant:dc().string};var fj=fi,fk=c(9669),fl=c.n(fk),fm={baseURL:bH().apiOrigin},fn=fl().create(fm);function fo(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function fp(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?fo(Object(c),!0).forEach(function(b){fq(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):fo(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function fq(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var fr={borderWidth:"10px",bottomDrawerClosedHeight:"20px",bottomDrawerOpenHeight:"115px",breadcrumbsHeight:"30px",thinBorderWidth:"2px",thinBorderRadius:"5px"},fs=fp(fp({},fr),{},{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",blue:"#6aa3e9",darkGrey:"#605d5d",lightGrey:"#988b8b",red:"red",border:"black",cardBackground:"white"}}),ft=fp(fp({},fr),{},{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",blue:"#73b0fa",darkGrey:"#b3afaf",lightGrey:"#4a4343",red:"#eb83a8",border:"white",cardBackground:"#1a1a1a"}}),fu={lightTheme:fs,darkTheme:ft};function fv(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var fw=function(){var a,b,c=(a=(0,bB.useState)([0,0]),b=2,function a(b){if(Array.isArray(b))return b}(a)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(a,b)||function a(b,c){if(b){if("string"==typeof b)return fv(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return fv(b,c)}}(a,b)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],e=c[1];return(0,bB.useLayoutEffect)(function(){function a(){e([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",a),a(),function(){return window.removeEventListener("resize",a)}},[]),d},fx=["children"],fy=["children"],fz=["children"];function fA(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function fB(a,b){if(null==a)return{};var c,d,e=fC(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function fC(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function fD(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var fE=(0,bF.ZP)(bJ.gu)(_||(_=fD(["\n  margin-right: 5px;\n  cursor: pointer;\n"]))),fF=function(){var a=(0,bP.k6)(),b=(0,bB.useContext)(b0),c=(b.showItem,b.setShowItem);fQ((0,bB.useContext)(b0),"BackBtn usedContext");var d=function(){c(null),a.goBack()};return bB.createElement(fE,{className:"BackBtn",icon:bI.XRs,onClick:d})},fG=bF.ZP.div(aa||(aa=fD(["\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n"]))),fH=(0,bF.ZP)(bM.Z)(ab||(ab=fD(["\n  color: ","\n"])),function(a){return a.theme.colors.text}),fI=(0,bF.ZP)(bN.Z)(ac||(ac=fD(["\n  color: ","\n"])),function(a){return a.theme.colors.text}),fJ=(0,bF.ZP)(bL.Z)(ad||(ad=fD(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: ",";\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),function(a){return a.theme.colors.cardBackground},function(a){return a.cursor?a.cursor:"auto"}),fK=bB.createContext({}),fL=function(a){var b,c,d,e,f=a.children;fB(a,fx);var g=(c={},d=bQ.collapsible.descr,e=!0,d in c?Object.defineProperty(c,d,{value:e,enumerable:!0,configurable:!0,writable:!0}):c[d]=e,c);if(b=localStorage.getItem(bQ.collapsibles))try{g=JSON.parse(b)}catch(h){fQ(h,"Could not parse collapsibles from localStorage")}var i,j,k=(i=(0,bB.useState)(g),j=2,function a(b){if(Array.isArray(b))return b}(i)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(i,j)||function a(b,c){if(b){if("string"==typeof b)return fA(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return fA(b,c)}}(i,j)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=k[0],m=k[1],n=function(a){localStorage.setItem(bQ.collapsibles,JSON.stringify(a)),m(a)};return bB.createElement(fK.Provider,{value:{collapsibles:l,setCollapsibles:n}},f)},fM=bF.ZP.div(ae||(ae=fD(["\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n"]))),fN={classify:function(a){"ies"===a.slice(-3)&&(a=a.slice(0,-3)+"y"),"s"===a.slice(-1)&&(a=a.slice(0,-1));for(var b=a.split("_"),c=0;c<b.length;c++)b[c]=b[c].charAt(0).toUpperCase()+b[c].slice(1);return b.join("")},tableize:function(a){return"Gallery"===a?"galleries":"".concat(a.toLowerCase(),"s")}},fO=bF.ZP.div(af||(af=fD(["\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n"]))),fP=function(a){return bB.createElement(fO,null,bB.createElement(bK.Z,null))},fQ=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;(c="string"==typeof c?c:b.replace(/\W/g,"")).length>0&&(window[c]=a),console.log("+++ ".concat(b,":"),a)},fR=fQ,fS=(0,bF.ZP)(bO.Z)(ag||(ag=fD(["\n  color: ","\n"])),function(a){return a.theme.colors.text}),fT=function(){return bB.createElement("div",{className:"PurchasedIcon"},"[purchased]")},fU=function(a){return(a||"").substring(0,10)},fV=bF.ZP.div(ah||(ah=fD(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n\n\n  margin-bottom: 1em;\n  padding: .5em;\n\n  cursor: ",";\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.cardBackground},function(a){return a.onClick?"pointer":null}),fW=bF.ZP.div(ai||(ai=fD(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  color: ",";\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.cardBackground},function(a){return a.theme.colors.text}),fX=function(a){var b=a.children,c=fB(a,fy);return bB.createElement(fW,Object.assign({className:"WBorderedItem"},c),b)},fY=function(a){var b=a.children,c=fB(a,fz);return bB.createElement(fV,c,b)},fZ=bF.ZP.div(aj||(aj=fD(["\n  height: 100vh;\n"]))),f$=c(43832);function f_(a,b){return f4(a)||f3(a,b)||f1(a,b)||f0()}function f0(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f1(a,b){if(a){if("string"==typeof a)return f2(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f2(a,b)}}function f2(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function f3(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function f4(a){if(Array.isArray(a))return a}function f5(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var f6=bF.ZP.div(ak||(ak=f5(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 1em 0px;\n"]))),f7=bF.ZP.div(al||(al=f5(["\n  // border: 1px solid red;\n\n  display: flex;\n  justify-content: center;\n\n  width: 50%;\n  text-align: center;\n  position: relative;\n  padding: 0.1em;\n"]))),f8=(0,bF.ZP)(bJ.gu)(am||(am=f5(["\n  font-size: 2em;\n  color: ",";\n"])),function(a){return a.theme.darkGrey}),f9=bF.ZP.div(an||(an=f5(["\n  // border: 1px solid green;\n\n  padding: 0.5em;\n\n  color: ",";\n  font-size: 0.9em;\n  font-weight: 600;\n"])),function(a){return a.theme.lightGrey}),ga=function(a){var b=f_((0,bB.useState)([]),2),c=b[0],d=b[1],e=f_((0,bB.useState)([]),2),f=e[0],g=e[1],h=(0,bB.useState)(!1),i=f_(h,2),j=i[0],k=i[1],l=cW(),m=(0,bP.k6)();(0,bB.useEffect)(function(){k(!0),l.getCities().then(function(a){k(!1),g(a),d(a)})},[]);var n=function(a){g(c.filter(function(b){return b.name.toLowerCase().indexOf(a.target.value.trim().toLowerCase())> -1}))};return bB.createElement(bB.Fragment,null,bB.createElement(fZ,{className:"cities"},bB.createElement("h1",{className:"heading"},"Cities"),bB.createElement("div",{className:"filter-section"},bB.createElement("input",{className:"filter-input",onChange:n}),bB.createElement(f8,{className:"filter-icon",icon:bI.qmg})),bB.createElement("div",{className:"container"},f.map(function(a,b){return bB.createElement("div",{key:b,className:"cities",onClick:function(){return m.push(e4.cityPath(a.slug))}},bB.createElement("div",{className:"img-section"},bB.createElement("span",{className:"bookmark"},bB.createElement(f8,{className:"bookmark-icon",icon:bI.vjt})),bB.createElement("img",{className:"city-img",src:a.photo}),bB.createElement("span",{className:"city-title"},a.name)),bB.createElement(f6,null,bB.createElement(f7,null,bB.createElement(f9,null,a.n_reports),bB.createElement(f8,{icon:bI.U7$})),bB.createElement(f7,null,bB.createElement(f9,null,a.n_galleries),bB.createElement(f8,{icon:bI.BHj})),bB.createElement(f7,null,bB.createElement(f9,null,a.n_videos),bB.createElement(f8,{icon:bI.HIy}))))})),"\xa0"),bB.createElement(bJ.wh,{isOpen:j,onDidDismiss:function(){return k(!1)},message:"Please wait...",duration:5e3}))};function gb(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var gc=bF.ZP.div(ao||(ao=gb(["\n  position: relative;\n"]))),gd=bF.ZP.img(ap||(ap=gb(["\n  width: 200px;\n"]))),ge=bF.ZP.img(aq||(aq=gb(["\n  position: absolute;\n  left: 200px;\n  top: 0;\n"]))),gf=bF.ZP.img(ar||(ar=gb(["\n  position: absolute;\n  left: 200px;\n  top: 100px;\n"]))),gg=function(a){var b=a.item,c=a.variant;return bB.createElement(gJ,{item:b,variant:c},bB.createElement(gc,null,b.photos[0]&&bB.createElement(gd,{src:b.photos[0].thumb_url}),b.photos[1]&&bB.createElement(ge,{src:b.photos[1].thumb_url}),b.photos[2]&&bB.createElement(gf,{src:b.photos[2].thumb_url})))};gg.propTypes={item:dc().shape({photos:dc().array.isRequired}),variant:dc().string};var gh=gg;function gi(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var gj=bF.ZP.img(as||(as=gi(["\n  max-width: 100%;\n"]))),gk=bF.ZP.div(at||(at=gi(["\n  display: flex;\n  justify-content: center;\n"]))),gl=function(a){var b=a.item,c=a.variant;return bB.createElement(gJ,{className:"Newsitem NewsitemPhoto",item:b,variant:c},bB.createElement(gk,null,b.photos[0]&&bB.createElement(gj,{src:b.photos[0].large_url})))};gl.propTypes={item:dc().shape({photos:dc().array.isRequired}),variant:dc().string};var gm=gl,gn=function(a){var b=a.item,c=a.variant;return bB.createElement(gJ,{item:b,variant:c})};gn.propTypes={item:dc().object.isRequired,variant:dc().string};var go=gn,gp=function(a){var b=a.item,c=a.variant;return bB.createElement(gJ,{item:b,variant:c},bB.createElement("div",{style:{display:"flex",justifyContent:"center"}},b.youtube_id?bB.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"https://www.youtube.com/embed/".concat(b.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):bB.createElement("video",{style:{maxWidth:"100%",maxHeight:"50vh"},preload:"metadata",height:"auto",controls:!0},bB.createElement("source",{src:b.url,type:"video/mp4"}))))};gp.propTypes={item:dc().object.isRequired,variant:dc().string};var gq=gp,gr=["children"];function gs(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var gt={1:"/assets/newsfeed/sunglass.png",2:"/assets/newsfeed/gem_premium.png"},gu=bF.ZP.div(au||(au=gs(["\n"]))),gv=bF.ZP.div(av||(av=gs(["\n  position: relative;\n"]))),gw=bF.ZP.div(aw||(aw=gs(["\n  position: absolute;\n  right: 1em;\n  top: 1em;\n  z-index: 2;\n"]))),gx=function(a){a.children;var b=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,gr).item;if(!(0,bB.useContext)(b0).editorMode)return null;var c=cW(),d=function(a){confirm("Are you sure?")&&c.deleteNewsitem({id:b.newsitem_id}).then(function(a){(0,cY.Am)("Removed the story")}).catch(function(a){fQ("320 - cannot delete newsitem")})};return bB.createElement(gw,null,bB.createElement(fG,{onClick:d},"Remove Story"))},gy=function(a){var b=a.newsitems,c=void 0===b?[]:b,d=a.variant;return c.length?bB.createElement(gu,{className:"Newsitems",variant:d},c.map(function(a,b){var c,e=a.premium_tier||0;switch(gt[e],a.item_type){case bQ.item_types.gallery:c=bB.createElement(gh,{item:a,variant:d});break;case bQ.item_types.report:c=bB.createElement(go,{item:a,variant:d});break;case bQ.item_types.video:c=bB.createElement(gq,{item:a,variant:d});break;case bQ.item_types.photo:c=bB.createElement(gm,{item:a,variant:d});break;default:c=bB.createElement(gR,{item:a})}return bB.createElement(gv,{key:b,className:"premium-".concat(e)},bB.createElement(gx,{item:a}),c)})):bB.createElement("div",null,"No Newsitems")};gy.propTypes={newsitems:dc().array.isRequired,variant:dc().string};var gz=gy,gA=["children"];function gB(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var gC=bF.ZP.div(ax||(ax=gB(["\n  display: flex;\n  flex-direction: column;\n"]))),gD=bF.ZP.div(ay||(ay=gB(["\n  display: flex;\n  align-items: flex-start;\n"]))),gE=bF.ZP.h2(az||(az=gB(["\n  margin-top: 0;\n  margin-bottom: 0;\n  color: ",";\n"])),function(a){return a.theme.colors.text}),gF=function(a){var b=a.children,c=a.navigateToItem,d=a.variant;return d===bQ.variants.bordered?bB.createElement(fY,Object.assign({},a,{onClick:c,cursor:"pointer"}),b):bB.createElement(fJ,Object.assign({boxShadow:2},a,{onClick:c,cursor:"pointer"}))},gG=function(a){var b=a.children,c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,gA),d=c.className,e=c.item,f=c.variant,g=e.item_type,h=e.slug,i=(0,bP.k6)(),j=(0,bB.useContext)(b0),k=(j.itemToUnlock,j.setItemToUnlock),l=j.layout,m=j.location;j.showItem,j.setShowItem;var n=function(){e.is_premium&&!e.is_purchased?k(e):l===bQ.layout_mapui?i.push("/en/locations/show/".concat(m.slug,"/").concat(fN.tableize(g),"/show/").concat(h)):i.push("/en/".concat(fN.tableize(g),"/show/").concat(h))};return e.item_type===bQ.item_types.photo?bB.createElement(gF,{className:d,navigateToItem:function(){},variant:f},bB.createElement(gC,null,bB.createElement(gE,null,e.name),bB.createElement(dQ,e)),b):bB.createElement(gF,{className:d,navigateToItem:n,variant:f},b,bB.createElement(gD,null,bB.createElement(gC,{style:{alignItems:"center"}},bB.createElement(ee,{item:e})),bB.createElement(gC,{style:{overflowWrap:"break-word",maxWidth:"calc(100vw - 100px)"}},bB.createElement(gD,null,bB.createElement(gQ,e),bB.createElement(gE,null,e.name)),bB.createElement(dQ,e))),bB.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:e.subhead}}))};gG.propTypes={item:dc().object.isRequired,variant:dc().string};var gH,gI,gJ=gG,gK=["children"],gL=function(){return bB.createElement("h1",null,"ReportIcon")},gM=function(){return bB.createElement("h1",null,"Diamond")},gN=bF.ZP.div(aA||(aA=(gH=["\n  // border: 1px solid red;\n\n  padding: 10px 10px 0 10px;\n  margin-right: 10px;\n\n  box-sizing: border-box;\n"],gI||(gI=gH.slice(0)),Object.freeze(Object.defineProperties(gH,{raw:{value:Object.freeze(gI)}}))))),gO=function(a){var b=a.children,c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,gK);return bB.createElement(gN,Object.assign({className:"ItemIcon"},c),b)},gP=function(a){var b=a.is_purchased,c=a.item_type,d=a.premium_tier,e=(0,bF.Fg)();if(b)return bB.createElement("img",{className:"icon",src:"/assets/icons/glasses.png",alt:""});if(d>0)return bB.createElement("img",{className:"icon",src:"/assets/icons/gem.png",alt:""});switch(c){case bQ.item_types.gallery:return bB.createElement(gO,null,bB.createElement("img",{className:"icon",src:"/assets/icons/gallery.png",alt:""}));case bQ.item_types.report:return bB.createElement(gO,null,bB.createElement(gL,{style:{color:e.colors.text}}),bB.createElement(gM,null));case bQ.item_types.video:return bB.createElement(gO,null,bB.createElement("img",{className:"icon",src:"/assets/newsfeed/video_icon.svg",alt:""}));default:return bB.createElement(gO,null,"[unknown kind]")}};gP.propTypes={is_purchased:dc().bool,item_type:dc().string.isRequired,premium_tier:dc().number};var gQ=gP,gR=function(a){var b=a.item;return bB.createElement(bB.Fragment,null,"generic newsitem",bB.createElement("div",{dangerouslySetInnerHTML:{__html:b.description}}))};function gS(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function gT(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var gU=bF.ZP.p(aB||(aB=gT(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n  font-size: 14px;\n"])),function(a){return a.theme.darkGrey}),gV=bF.ZP.div(aC||(aC=gT([""]))),gW=bF.ZP.div(aD||(aD=gT(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),gX=function(){return bB.createElement(gW,null,bB.createElement("img",{className:"forward-arrow",src:"/assets/16x16/arrow-right.png"}))},gY=bF.ZP.div(aE||(aE=gT(["\n  display: flex;\n"]))),gZ=bF.ZP.div(aF||(aF=gT(["\n  font-size: 1.5em;\n"]))),g$=bF.ZP.div(aG||(aG=gT(["\n  width: 100vw;\n  padding: 1em;\n  margin-bottom: 0.5em;\n  border-bottom: 1px solid #e3d3d3;\n  box-shadow: 0px 1px 5px 1px #b3aeae;\n  background-color: white;\n  position: relative;\n\n  display: flex;\n  justify-content: space-between;\n\n  img.thumb {\n    border-radius: 10px;\n  }\n\n  > div {\n    // border: 1px solid red;\n  }\n"]))),g_=function(a){fQ(a,"Venues");var b,c,d=(b=(0,bB.useState)(a.venues),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return gS(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return gS(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=d[0],f=d[1];return bB.createElement("div",{className:"venues-section"},bB.createElement("div",null,bB.createElement("div",{className:"filter-section"},bB.createElement("input",{className:"filter-input",onChange:function(b){f(a.venues.filter(function(a){return a.name.toLowerCase().includes(b.target.value.toLowerCase())}))}}),bB.createElement(bJ.gu,{className:"filter-icon",icon:bI.qmg}))),bB.createElement("div",{className:"container"},e.map(function(a,b){return bB.createElement(g$,{key:b},bB.createElement(gY,null,bB.createElement(gV,null,bB.createElement("img",{style:{paddingRight:"1em"},className:"thumb",src:a.photo})),bB.createElement(gV,null,bB.createElement(gZ,null,a.name),bB.createElement("div",{className:"rating-section"},bB.createElement(d$,{rate:3.5}),bB.createElement("span",{className:"reviews"},"5 reviews")),bB.createElement("div",{className:"tags-section"},a.tags.map(function(a,b){return bB.createElement("span",{key:b,className:"tags"},a.name)})),bB.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:a.subhead}}),a.address&&bB.createElement(gU,null,a.address))),bB.createElement(gX,null))})))};g_.propTypes={venues:dc().array.isRequired};var g0=g_;function g1(a,b){return g6(a)||g5(a,b)||g3(a,b)||g2()}function g2(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g3(a,b){if(a){if("string"==typeof a)return g4(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g4(a,b)}}function g4(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function g5(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function g6(a){if(Array.isArray(a))return a}var g7=function(a){fQ(a,"CitiesShow");var b=a.match,c=cW(),d=(0,bP.k6)(),e=e4.cityPath(b.params.name),f=(0,bP.TH)(),g=g1((0,bB.useState)(null),2),h=g[0],i=g[1],j=g1((0,bB.useState)(!1),2),k=j[0],l=j[1],m=(0,bB.useRef)("init");return(0,bB.useEffect)(function(){return l(!0),c.getCity(b.params.name).then(function(a){m.current&&(i(a.data.city),l(!1))}),function(){return m.current=!1}},[b.params.name]),bB.createElement(fZ,null,h&&bB.createElement("div",{className:"wrapper"},bB.createElement("div",{className:"city-show"},bB.createElement("header",{style:{backgroundImage:"url(".concat(h.hero_img,"}"),backgroundSize:"contain"}}),bB.createElement("section",{className:"section-one"},bB.createElement(bJ.gu,{icon:bI.Cjr,className:"location"}),bB.createElement("h1",{className:"city-name"},h.name),bB.createElement("div",{className:"status"},bB.createElement("div",{className:"status-grid"},bB.createElement(bJ.gu,{className:"info-icon",icon:bI.U7$}),bB.createElement("span",{className:"numbers"},h.n_reports)),bB.createElement("div",{className:"status-grid"},bB.createElement(bJ.gu,{className:"info-icon",icon:bI.BHj}),bB.createElement("span",{className:"numbers"},h.n_galleries)),bB.createElement("div",{className:"status-grid mid"},bB.createElement(bJ.gu,{className:"info-icon",icon:bI.HIy}),bB.createElement("span",{className:"numbers "},h.n_videos)))),bB.createElement("section",{className:"section-three"},bB.createElement("div",{className:"menu-option",onClick:function(){return d.push(e4.cityPath(b.params.name))}},bB.createElement("img",{src:"/assets/newsfeed-icon.svg",alt:"Newsfeed"}),bB.createElement("p",{className:"".concat(f.pathname==e?"selected":""," menu-item")},"Newsfeed")),bB.createElement("div",{className:"menu-option",onClick:function(){return d.push(e4.cityVenuesPath(b.params.name))}},bB.createElement("img",{src:"/assets/venue-icon.svg",alt:"Venues"}),bB.createElement("p",{className:"".concat(f.pathname.includes("venues")?"selected":""," menu-item")},"Venues"))),bB.createElement(bP.rs,null,bB.createElement(bP.AW,{exact:!0,path:"".concat(b.url,"/venues"),render:function(){return bB.createElement(g0,{venues:h.venues})}}),bB.createElement(bP.AW,{exact:!0,path:b.url,render:function(){return bB.createElement(gz,{newsitems:h.newsitems})}})))),bB.createElement(bJ.wh,{isOpen:k,onDidDismiss:function(){return l(!1)},message:"Please wait...",duration:5e3}),bB.createElement("br",null),bB.createElement("br",null),bB.createElement("br",null))};function g8(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function g9(a,b){return he(a)||hd(a,b)||hb(a,b)||ha()}function ha(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hb(a,b){if(a){if("string"==typeof a)return hc(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return hc(a,b)}}function hc(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function hd(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function he(a){if(Array.isArray(a))return a}var hf,hg,hh=bF.ZP.div(aH||(aH=(hf=["\n  // border: 1px solid blue;\n  height: auto;\n"],hg||(hg=hf.slice(0)),Object.freeze(Object.defineProperties(hf,{raw:{value:Object.freeze(hg)}}))))),hi=function(a){var b=a.match,c=g9((0,bB.useState)(!1),2);c[0],c[1];var d,e,f=g9((0,bB.useState)({}),2),g=f[0],h=f[1],i=(0,bB.useRef)("init"),j=(0,bB.useContext)(b0),k=j.itemToUnlock,l=j.setItemToUnlock,m=(e=(d=bD().mark(function a(){var c;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=localStorage.getItem(bQ.jwt_token),a.next=3,fn.get("/api/galleries/view/".concat(b.params.slug),{params:{jwt_token:c}}).then(function(a){if(i.current){var b=a.data.gallery;b.is_premium&&!b.is_purchased?l(b):h(a.data.gallery)}}).catch(function(a){fQ(a,"e65")});case 3:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){g8(f,c,e,g,h,"next",a)}function h(a){g8(f,c,e,g,h,"throw",a)}g(void 0)})}),function(){return e.apply(this,arguments)});return(0,bB.useEffect)(function(){return m(),function(){i.current=null}},[g.id,k.id]),bB.createElement(hh,{className:"GalleriesShow"},bB.createElement("div",{className:"narrow"},bB.createElement("h1",{className:"heading"},bB.createElement(fF,null),bB.createElement("span",{className:"title"},g.name)),bB.createElement(dQ,g),bB.createElement("div",{className:"thumbs"},g.photos&&g.photos.map(function(a,b){return bB.createElement("div",{className:"card",key:b},bB.createElement("div",{className:"card-inner"},bB.createElement(bJ.Xz,{src:a.thumb_url})))})),bB.createElement("div",{dangerouslySetInnerHTML:{__html:g.description}})),bB.createElement("div",{className:"full-img-section"},g.photos&&g.photos.map(function(a,b){return bB.createElement("div",{className:"item",key:b},bB.createElement("img",{src:a.large_url}))})))};function hj(a,b){return ho(a)||hn(a,b)||hl(a,b)||hk()}function hk(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hl(a,b){if(a){if("string"==typeof a)return hm(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return hm(a,b)}}function hm(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function hn(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function ho(a){if(Array.isArray(a))return a}var hp=function(a){var b=hj((0,bB.useState)(null),2),c=b[0],d=b[1],e=hj((0,bB.useState)(!1),2),f=e[0],g=e[1];return(0,bB.useEffect)(function(){g(!0);var a=localStorage.getItem("jwtToken");fn.get("/api/my/galleries",{params:{jwt_token:a}}).then(function(a){fQ(a.data,"MyGalleries data"),d(a.data),g(!1)})},[]),bB.createElement(bB.Fragment,null,bB.createElement(bJ.wh,{isOpen:f,onDidDismiss:function(){return g(!1)},message:"Please wait...",duration:5e3}),c&&c.length&&c.map(function(a){return bB.createElement(gh,{key:a.id,data:a})}))};function hq(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function hr(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var hs=bF.ZP.div(aI||(aI=hr(["\n  color: ",";\n  // padding-right: 0.5em;\n"])),function(a){return a.theme.colors.text}),ht=bF.ZP.div(aJ||(aJ=hr(["\n  padding: 0.5em;\n  color: ",";\n"])),function(a){return a.theme.colors.text}),hu=(bF.ZP.div(aK||(aK=hr(["\n  color: ",";\n  margin-top: .5em;\n"])),function(a){return a.theme.colors.text}),bF.ZP.div(aL||(aL=hr(["\n  // border: 1px solid green;\n  display: flex;\n  margin: 0 1em;\n"])))),hv=bF.ZP.div(aM||(aM=hr(["\n  width: 45px;\n  height: 45px;\n  // background-image: url(",");\n"])),{src:"/_next/static/media/45x45_day-night-2.d49d5561.png",height:45,width:45,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAABgNAAAYDQGlUVtWAAABE0lEQVQY0wEIAff+AJ/E8wCsz/I4rtP3v77S1/S90t3yrdL4t7DS9CmixvMAAJW47DiZvOz/l8P8/86qdv/LrH3/l8L7/5m87fKWuewkAIOp8L+Cpu3/f6Xw+I+s4/6QreL+f6Xv94Kn7v+DqPGxAFp5v/Raeb//W3m//lp6wf5ZecL+W3m//1p5v/1besD/ADpOgfI6T4H/OU6A/i9Ggv42S4H+O0+A/jpPgf46ToH7ACo5XrcsO2D/MT9j92ZmVP8/SFn+KDli9yw6X/8qOV+lAB4oQSkbJDvyGCE5/2RdOP2MfkH+ERw5/yAoPugcJj8bABUcMAAKDhckCAwbsREUH/8wLiT7CQ0bpQ0QGBsRGSwAZPSKit00ZW8AAAAASUVORK5CYII="}),hw=function(a){var b,c,d=a.theme,e=a.toggleTheme,f=(0,bB.useState)(null),g=(c=2,function a(b){if(Array.isArray(b))return b}(b=f)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return hq(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return hq(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=g[0],i=g[1],j=function(){i("rotating"),setTimeout(function(){i(null),e()},1e3)};return bB.createElement(hu,{onClick:j},bB.createElement(hv,{className:"theme-".concat(d," ").concat(h)}))},hx=bF.ZP.div(aN||(aN=hr(["\n  background: ",";\n  border: ","px solid cyan;\n\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n\n  z-index: 1;\n\n  // height: ",";\n"])),function(a){return a.theme.colors.cardBackground},function(a){return a.debug?"1":"0"},function(a){return a.theme.breadcrumbsHeight}),hy=bF.ZP.div(aO||(aO=hr(["\n  display: block;\n  flex-grow: 1;\n  // flex-direction: row;\n  // flex-grow: 1;\n  // flex-wrap: wrap;\n\n  > * {\n    // border: 1px solid red;\n    display: inline;\n  }\n"]))),hz=function(a){var b=a.breadcrumbs,c=(0,bB.useContext)(b0),d=c.layout,e=c.toggleTheme,f=c.theme,g=(0,bP.k6)(),h=[];return(void 0===b?[]:b).map(function(b,c){c+1===a.breadcrumbs.length?h.push(bB.createElement(hs,{key:c},b.name)):(h.push(bB.createElement(hs,{key:c,style:{textDecoration:"underline",cursor:"pointer"},onClick:function(){return g.push("/en/locations/show/".concat(b.slug))}},b.name)),h.push(bB.createElement(ht,{key:"".concat(c,"-divider")},">")))}),bB.createElement(hx,{debug:bH().debug,className:"Breadcrumbs"},d===bQ.layout_mapui&&bB.createElement(dN,{variant:bQ.variants.inline}),bB.createElement(hy,{className:"WBreadcrumbs"},h),bB.createElement(hw,{toggleTheme:e,theme:f}))};hz.propTypes={breadcrumbs:dc().arrayOf(dc().shape({name:dc().string.isRequired,slug:dc().string.isRequired}))};var hA=hz,hB=c(37212),hC=c(89049),hD=c.n(hC),hE=function(a){var b=(0,bB.useContext)(h3),c=b.markerModalOpen,d=b.setMarkerModalOpen;return bB.createElement(dS(),{className:"MarkerModal ".concat(hD().MarkerModal),isOpen:c},bB.createElement("h1",null,"marker modal",bB.createElement("span",{onClick:function(){return d(!1)}},"[x]")),bB.createElement(hX,null))},hF=hE,hG=["children","variant"],hH=["children","variant"];function hI(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function hJ(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function hK(a,b){if(null==a)return{};var c,d,e=hL(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function hL(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function hM(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var hN=bF.ZP.div(aP||(aP=hM(["\n  color: ",";\n\n  margin-bottom: 10px;\n  max-width: 33%;\n  min-width: 100px;\n\n  text-align: center;\n\n  width: min(33%, 100px);\n"])),function(a){return a.theme.colors.text}),hO=function(a){var b=a.children,c=a.variant,d=hK(a,hG);return c===bQ.variants.bordered?bB.createElement(fX,d,b):bB.createElement(hN,Object.assign({className:"Marker"},d),b)},hP=bF.ZP.div(aQ||(aQ=hM(['\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  // justify-content: flex-start;\n\n  ::after {\n    content: "";\n    flex: auto;\n  }\n']))),hQ=function(a){var b=a.children,c=a.variant,d=hK(a,hH);return c===bQ.variants.bordered?bB.createElement(fV,d,b):bB.createElement(hP,d,b)},hR=function(a){var b=a.variant,c=(0,bB.useContext)(b0),d=(c.itemToUnlock,c.setItemToUnlock),e=(c.showUrl,c.setShowUrl),f=(0,bP.k6)(),g=function(a){a.premium_tier&&!a.is_purchased?d(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?hI(Object(c),!0).forEach(function(b){hJ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):hI(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a)):a.url?e(a.url):f.push("/en/locations/show/".concat(a.slug))},h=[];return a.markers.map(function(a,c){h.push(bB.createElement(hO,{className:"Marker",key:c,variant:b,onClick:function(){return g(a)}},bB.createElement("img",{src:a.title_img_path}),bB.createElement("br",null),a.is_purchased&&bB.createElement(fT,null),a.name))}),bB.createElement(hQ,{className:"MarkersList"},h)};hR.propTypes={variant:dc().string};var hS=hR;function hT(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var hU=bF.ZP.div(aR||(aR=hT([""]))),hV=bF.ZP.div(aS||(aS=hT([""]))),hW=function(a){return a.item,bB.createElement(hV,null,bB.createElement("form",null,bB.createElement(cG,null,bB.createElement("input",{type:"text",name:"name"})," name"),bB.createElement(cG,null,bB.createElement("input",{type:"text",name:"name"})," destination"),bB.createElement(cG,null,bB.createElement("input",{type:"file",name:"title_image"}),"map image"),bB.createElement(cG,null,bB.createElement("input",{type:"file",name:"title_image"}),"title image"),bB.createElement(cG,null,bB.createElement("checkbox",{name:"is_active"})," active?"),bB.createElement(cG,null,bB.createElement("checkbox",{name:"is_public"})," public?"),bB.createElement(cG,null,bB.createElement("input",{type:"text",name:"url"})," url"),bB.createElement("textarea",null)," description",bB.createElement(hU,null,bB.createElement("button",{type:"submit"},"Create"))))};hW.propTypes={};var hX=hW,hY=["children"];function hZ(a,b){return h2(a)||h1(a,b)||h_(a,b)||h$()}function h$(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h_(a,b){if(a){if("string"==typeof a)return h0(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h0(a,b)}}function h0(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h1(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function h2(a){if(Array.isArray(a))return a}var h3=bB.createContext({}),h4=function(a){var b=a.children;!function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,hY);var c=(0,bB.useState)(),d=hZ(c,2),e=d[0],f=d[1],g=(0,bB.useState)(!1),h=hZ(g,2),i=h[0],j=h[1];return bB.createElement(h3.Provider,{value:{marker:e,setMarker:f,markerModalOpen:i,setMarkerModalOpen:j}},b)};function h5(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h6(a,b){if(a){if("string"==typeof a)return h7(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return h7(a,b)}}function h7(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h8(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function h9(a){if(Array.isArray(a))return a}function ia(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(aT||(aT=ia(["\n  border: 1px solid red;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  z-index: 2;\n"]))),bF.ZP.div(aU||(aU=ia(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.background}),bF.ZP.div(aV||(aV=ia(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n  height: 100%;\n"])));var ib=function(a){var b,c,d=a.center,e=a.zoom,f=useRef(),g=(b=React.useState(),c=2,h9(b)||h8(b,c)||h6(b,c)||h5()),h=g[0],i=g[1];return React.useEffect(function(){h&&(["click","idle"].forEach(function(a){return google.maps.event.clearListeners(h,a)}),onClick&&h.addListener("click",onClick),onIdle&&h.addListener("idle",function(){return onIdle(h)}))},[h,onClick,onIdle]),useEffect(function(){f.current&&!h&&i(new window.google.maps.Map(f.current,{center:d,zoom:e}))},[f,h]),React.createElement("div",{ref:f,id:"GoogleMaps"})},ic=function(){return React.createElement("h1",null,"Loading...")},id=function(){return React.createElement("h1",null,"No luck loading GoogleMaps")};function ie(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var ig=bF.ZP.div(aW||(aW=ie([""]))),ih=bF.ZP.div(aX||(aX=ie([""]))),ii=function(a){return a.item,bB.createElement(ih,null,bB.createElement("h1",null,"Report Form (@TODO: remove)"),bB.createElement("form",null,bB.createElement(cG,null,bB.createElement("input",{type:"text",name:"name"})," name"),bB.createElement(cG,null,bB.createElement("textarea",{name:"name"})," subhead"),bB.createElement(cG,null,"item_type: default? longscroll?"),bB.createElement(cG,null,"@TODO: editable slug, the fucking slug hasn't been solved in 10 years!"),bB.createElement(cG,null,"@TODO: premium tier"),bB.createElement(cG,null,"@TODO: tags"),bB.createElement(cG,null,"public?"),bB.createElement("textarea",null)," description",bB.createElement(ig,null,bB.createElement("button",{type:"submit"},"Create"))))};ii.propTypes={};var ij=ii;function ik(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var il,im,io=bF.ZP.div(aY||(aY=(il=[""],im||(im=il.slice(0)),Object.freeze(Object.defineProperties(il,{raw:{value:Object.freeze(im)}}))))),ip=function(a){var b,c,d=(b=(0,bB.useState)({}),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return ik(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return ik(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=d[0],f=d[1],g=cW();return(0,bB.useEffect)(function(){g.getReport(a.match.params.slug).then(function(a){f(a)}).catch(function(a){fQ(a,"cannot getReport")})},[]),bB.createElement(io,null,bB.createElement("h1",null,e.name),bB.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))};ip.propTypes={};var iq=ip,ir=function(a){fQ(a,"ItemModal");var b=a.item,c=(0,bP.UO)(),d=(0,bP.k6)(),e=(0,bB.useContext)(b0),f=e.showItem,g=e.setShowItem,h=function(){d.push(bH().router.locationPath(c.slug)),g(null)};if(b)return b.action||(b.action=bQ.actions.show),bB.createElement(dS(),{isOpen:!!f,className:"ItemModal"},bB.createElement(cB,null,bB.createElement(cD,{onClick:h})),b.item_type===bQ.item_types.report&&b.action===bQ.actions.show&&bB.createElement(iq,{match:{params:{slug:b.reportname}}}),b.item_type===bQ.item_types.report&&b.action===bQ.actions.new&&bB.createElement(ij,null),b.item_type===bQ.item_types.gallery&&bB.createElement(hi,{match:{params:{slug:b.slug}}}),".^.")};function is(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function it(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function iu(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function iv(a,b){return iA(a)||iz(a,b)||ix(a,b)||iw()}function iw(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ix(a,b){if(a){if("string"==typeof a)return iy(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iy(a,b)}}function iy(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function iz(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function iA(a){if(Array.isArray(a))return a}function iB(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var iC=bF.ZP.div(aZ||(aZ=iB(["\n"]))),iD=function(a){var b=a.item,c=void 0===b?{}:b;if(c.description)return bB.createElement(iC,{className:"Description",dangerouslySetInnerHTML:{__html:c.description}})},iE=bF.ZP.div(a$||(a$=iB(["\n  // border: 1px solid cyan;\n\n  position: fixed;\n  top: 5px;\n  left: ",";\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  width: 30px;\n  height: 95%; /* @TODO: this needs to account for bottom being open */\n"])),function(a){return a.foldedLeft?"10px":a.foldedRight?"98%":"calc(".concat(100*a.twofoldPercent,"% - 10px)")}),iF=function(a){var b=fw(),c=iv(b,1)[0],d=iv((0,bB.useState)(),2),e=d[0],f=d[1],g=iv((0,bB.useState)(!1),2),h=g[0],i=g[1],j=function(){m===bQ.foldedRight?n(bQ.foldedCenter):n(bQ.foldedLeft)},k=function(){m===bQ.foldedLeft?n(bQ.foldedCenter):n(bQ.foldedRight)},l=(0,bB.useContext)(b0),m=l.folded,n=l.setFolded,o=l.twofoldPercent,p=l.setTwofoldPercent,q=function(a){i(!0),f(a.pageX)},r=function(a){if(h&&0!==a.clientX){var b=a.clientX-e;if(0!==b){var d=b/c;p(function(a){return a+d})}}},s=function(a){i(!1)},t=m===bQ.foldedLeft,u=m===bQ.foldedRight;return bB.createElement(iE,{className:"Handle",foldedLeft:t,foldedRight:u,twofoldPercent:o,onMouseMove:r,onMouseDown:q,onMouseLeave:s,onMouseUp:s,style:{pointer:"cursor"}},bB.createElement(fS,null),bB.createElement(fH,{onClick:j}),bB.createElement(fI,{onClick:k}),-1!==[bQ.foldedRight,bQ.foldedLeft].indexOf(m)&&bB.createElement(dd,{orientation:bQ.vertical}))},iG=function(a){var b=(0,bB.useContext)(b0),c=b.showUrl,d=b.setShowUrl;return bB.createElement(dS(),{ariaHideApp:!1,isOpen:!!c},bB.createElement("span",{onClick:function(){d(!1)}},"[x]"),bB.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:a.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))},iH=bF.ZP.div(a_||(a_=iB(["\n  background: ",";\n  flex: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-direction: column;\n\n  height: calc(100vh - ","\n    - ",");\n"])),function(a){return a.theme.colors.background},function(a){return a.foldedRight?"99%":"".concat(100*a.twofoldPercent,"%")},function(a){return"calc(2*".concat(a.theme.borderWidth,")")},function(a){return a.bottomDrawerOpen?a.theme.bottomDrawerOpenHeight:a.theme.bottomDrawerClosedHeight}),iI=bF.ZP.div(a0||(a0=iB(["\n  background: ",";\n  position: relative;\n\n  padding: 0 0 0 1em;\n  flex: ",";\n  overflow-x: hidden;\n  overflox-y: auto;\n  height: calc(100vh - ","\n    - ",");\n"])),function(a){return a.theme.colors.background},function(a){return a.foldedRight?"2%":"".concat((1-a.twofoldPercent)*100,"%")},function(a){return"calc(2*".concat(a.theme.borderWidth,")")},function(a){return a.bottomDrawerOpen?a.theme.bottomDrawerOpenHeight:a.theme.bottomDrawerClosedHeight}),iJ=bF.ZP.div(a1||(a1=iB(["\n  // border: 1px solid magenta;\n\n  display: flex;\n  position: relative;\n"]))),iK=function(a){var b=a.match,c=fw(),d=iv(c,2),e=d[0],f=d[1],g=(0,bB.useState)(!1),h=iv(g,2),i=h[0],j=h[1],k=(0,bB.useState)([]),l=iv(k,2),m=l[0],n=l[1],o=(0,bB.useRef)("init");(0,bB.useRef)("init");var p,q,r=(0,bB.useRef)(null),s=cW(),t=(0,bB.useContext)(b0),u=t.bottomDrawerOpen,v=t.editorMode,w=t.folded,x=(t.setFolded,t.itemToUnlock,t.setItemToUnlock),y=t.location,z=t.setLocation,A=(t.mapPanelWidth,t.setMapPanelWidth),B=(t.mapPanelHeight,t.setMapPanelHeight),D=t.ratedConfirmation,E=t.setRatedConfirmation,F=t.showItem,G=t.setShowItem,H=t.showUrl,I=(t.setShowUrl,t.twofoldPercent);(0,bB.useEffect)(function(){y&&(n(y.markers),y.is_premium&&!y.is_purchased&&x(function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?it(Object(c),!0).forEach(function(b){iu(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):it(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({closable:!1,item_type:"Location"},y)))},[y]);var J=(q=(p=bD().mark(function a(b){return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c0.F.show({text:b});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=p.apply(a,b);function f(a){is(e,c,d,f,g,"next",a)}function g(a){is(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a){return q.apply(this,arguments)});(0,bB.useEffect)(function(){j(!0);var a=localStorage.getItem("jwt_token");return fn.get("/api/maps/view/".concat(b.params.slug),{params:{jwt_token:a}}).then(function(a){return o.current===b.params.slug?null:a.data.map?void(z(a.data.map),a.data.map.rated!==bQ.rated.nc17||D||E(!1),j(!1)):(j(!1),J("could not get Location"),null)}).catch(function(a){fQ(a,"Cannot get map ".concat(b.params.slug))}),function(){o.current=b.params.slug}},[b.params.slug]),(0,bB.useEffect)(function(){r.current&&(A(r.current.offsetWidth),B(r.current.offsetHeight))},[u,w,r.current,I,e,f]),(0,bB.useEffect)(function(){if(b.params.item_type){var a=fN.classify(b.params.item_type);switch(a){case bQ.item_types.gallery:s.getGallery(b.params.item_slug).then(G);break;case bQ.item_types.report:s.getReport(b.params.item_slug).then(G);break;default:fQ(a,"cannot get this item type")}}},[b.params.item_slug,b.params.item_type]);var K=w===bQ.foldedLeft,L=w===bQ.foldedRight;return bB.createElement(iJ,null,bB.createElement(h4,null,!K&&bB.createElement(iH,{className:"Left",bottomDrawerOpen:u,folded:w,foldedLeft:K,foldedRight:L,twofoldPercent:I},bB.createElement(hA,y),y&&bB.createElement(kp,{map:y.map?y.map:y,ref:r,slug:b.params.slug})),bB.createElement(iI,{className:"Right",bottomDrawerOpen:u,folded:w,foldedLeft:K,foldedRight:L,twofoldPercent:I},bB.createElement(iF,null),y&&!L&&bB.createElement(bB.Fragment,null,m&&m.length&&bB.createElement(fj,{config:{collapsible:!1},slug:bQ.collapsible.markers,variant:bQ.variants.transparent},bB.createElement(hS,{markers:m,variant:bQ.variants.bordered}))||null,bB.createElement(fM,{style:{marginBottom:"1em",flexWrap:"wrap"}},y.tags.map(function(a){return bB.createElement(fJ,null,a.name)})),v&&bB.createElement(fM,{style:{marginBottom:"1em"}},bB.createElement(fJ,{onClick:function(){return G({action:bQ.actions.new,item_type:bQ.item_types.report})}},"+ Report"),bB.createElement(fJ,null,"+ Photo"),bB.createElement(fJ,null,"+ Gallery"),bB.createElement(fJ,null,"+ File"),bB.createElement(fJ,null," + Marker ")),y.description&&bB.createElement(fj,{label:y.labels.description,slug:bQ.collapsible.description,variant:bQ.variants.bordered},bB.createElement(iD,{item:y}))||null,y.newsitems&&y.newsitems.length&&bB.createElement(gz,{variant:bQ.variants.bordered,newsitems:y.newsitems})||null)||null),H&&bB.createElement(iG,{src:H}),F&&bB.createElement(ir,{item:F}),i&&bB.createElement(fP,null),!D&&bB.createElement(jb,{ratedConfirmation:D,setRatedConfirmation:E}),bB.createElement(hF,null)))};function iL(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function iM(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?iL(Object(c),!0).forEach(function(b){iN(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):iL(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function iN(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function iO(a,b){return iT(a)||iS(a,b)||iQ(a,b)||iP()}function iP(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iQ(a,b){if(a){if("string"==typeof a)return iR(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iR(a,b)}}function iR(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function iS(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function iT(a){if(Array.isArray(a))return a}function iU(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(a2||(a2=iU(["\n  // border: 2px solid brown;\n\n  text-align: center;\n  display: block;\n\n  position: relative; /* required for mobile, so that zoomCtrl, etc are inside the collapsible div */\n\n  overflow: scroll;\n  max-height: 80vh; // @TODO: huh?\n"]))),(0,bF.ZP)(fj)(a3||(a3=iU(["\n  margin: 0;\n  padding: 0;\n"])));var iV=bF.ZP.div(a4||(a4=iU(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),iW=function(a){var b=a.item;return bB.createElement(iV,{dangerouslySetInnerHTML:{__html:b.description}})};bF.ZP.div(a5||(a5=iU(["\n  // border: 1px solid red;\n\n  position: relative;\n"])));var iX=bF.ZP.div(a6||(a6=iU(["\n  // border: 1px solid yellow;\n"]))),iY=(bF.ZP.div(a7||(a7=iU(["\n  // border: 1px solid orange;\n\n  position: absolute;\n  top: 0;\n  left: calc(100vw - 80px);\n  background: white;\n  padding: 5px;\n\n  display: flex;\n  flex-direction: column;\n  z-index: 10;\n"]))),function(a){fQ(a,"LocationsShowMobile");var b,c=a.match,d=(0,bB.useContext)(b0),e=d.bottomDrawerOpen,f=d.folded,g=(d.setFolded,d.location),h=d.setLocation,i=(d.mapPanelWidth,d.setMapPanelWidth),j=(d.mapPanelHeight,d.setMapPanelHeight),k=d.showItem,l=d.setShowItem,m=d.showUrl,n=(d.setShowUrl,d.twofoldPercent),o=fw(),p=iO(o,2),q=p[0],r=p[1],s=(0,bB.useState)(!1),t=iO(s,2),u=t[0],v=t[1],w=cW(),x=(0,bB.useRef)("init"),y=(0,bB.useRef)(null),z=(0,bP.k6)();(0,bB.useEffect)(function(){v(!0);var a=localStorage.getItem("jwt_token");return fn.get("/api/maps/view/".concat(c.params.slug),{params:{jwt_token:a}}).then(function(a){return x.current===c.params.slug?null:a.data.map?void(h(a.data.map),v(!1)):(v(!1),showToast("could not get Location"),null)}).catch(function(a){fQ(a,"e13"),z.push("/")}).finally(function(){}),function(){x.current=c.params.slug}},[c.params.slug]);var A=[];return g&&(A=g.markers),(0,bB.useEffect)(function(){y.current&&(i(y.current.offsetWidth),j(y.current.offsetHeight))},[e,f,y.current,n,q,r]),g&&(b=g.map||g,b=iM(iM({},b),{},{config:iM(iM({},b.config),{},{map_panel_type:bQ.map_panel_types.MapPanelNoZoom})})),(0,bB.useEffect)(function(){if(c.params.item_type){var a=fN.classify(c.params.item_type);switch(a){case bQ.item_types.gallery:w.getGallery(c.params.item_slug).then(l);break;case bQ.item_types.report:w.getReport(c.params.item_slug).then(l);break;default:fQ(a,"cannot get this item type")}}},[c.params.item_slug,c.params.item_type]),bB.createElement(iX,{className:"LocationsShowMobile"},u&&bB.createElement("i",null,"Loading..."),g&&bB.createElement(hA,g),g&&bB.createElement(fj,{label:g.labels.map,slug:bQ.collapsible.map},bB.createElement(kp,{map:b,ref:y,slug:c.params.slug,withZoom:!1})),A&&A.length&&bB.createElement(fj,{label:g.labels.markers,slug:bQ.collapsible.markers},bB.createElement(hS,{markers:A}))||null,g&&g.description&&bB.createElement(fj,{config:g.config.description,label:g.labels.description,slug:bQ.collapsible.description},bB.createElement(iW,{item:g}))||null,g&&g.newsitems.length&&bB.createElement(fj,{label:g.labels.newsitems,slug:"news-sec"},bB.createElement(gz,{newsitems:g.newsitems}))||null,m&&bB.createElement(IframeModal,{src:m}),k&&bB.createElement(ir,{item:k}),u&&bB.createElement(fP,null))});function iZ(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var i$=bF.ZP.div(a8||(a8=iZ(["\n  // border: 3px solid green;\n\n  text-align: center;\n  display: block;\n\n  position: relative;\n  overflow: auto;\n\n  height: calc(100vh - ","\n    - ","\n    - ",");\n\n"])),function(a){return"calc(2*".concat(a.theme.borderWidth,")")},function(a){return a.theme.breadcrumbsHeight},function(a){return a.bottomDrawerOpen?a.theme.bottomDrawerOpenHeight:a.theme.bottomDrawerClosedHeight}),i_=bF.ZP.div(a9||(a9=iZ(["\n  // border: 2px solid cyan;\n  display: inline-block;\n  position: relative;\n"]))),i0=bF.ZP.div(ba||(ba=iZ(["\n  border: ","px solid red;\n\n  position: relative;\n  overflow: auto;\n\n  height: calc(100vh - ","\n    - ","\n    - ",");\n\n"])),function(a){return a.debug?"1":"0"},function(a){return"calc(2*".concat(a.theme.borderWidth,")")},function(a){return a.theme.breadcrumbsHeight},function(a){return a.bottomDrawerOpen?a.theme.bottomDrawerOpenHeight:a.theme.bottomDrawerClosedHeight}),i1=function(a){var b=(0,bB.useContext)(b0),c=b.zoom,d=b.setZoom,e=function(){d(c/2)},f=function(){d(2*c)},g=function(){d(1)};return bB.createElement("div",{style:{position:"absolute",top:0,right:0,zIndex:1,background:"white",padding:"5px",display:"flex",flexDirection:"column"}},bB.createElement("span",{onClick:e},"[+]"),bB.createElement("span",{onClick:f},"[-]"),bB.createElement("span",{onClick:g},"[1]"))},i2=function(a){var b=a.map,c=a.withZoom,d=(0,bB.useContext)(b0),e=d.bottomDrawerOpen,f=(d.setBottomDrawerOpen,d.showUrl,d.setShowUrl),g=d.zoom;d.setZoom;var h=(0,bB.useRef)(null),i=(0,bP.k6)();(0,bB.useEffect)(function(){h.current.scroll({top:200,left:200,behavior:"smooth"})},[]);var j=[];return b.markers.map(function(a,b){var c=bB.createElement("div",{key:b,onClick:function(){return a.url?f(a.url):i.push("/en/locations/show/".concat(a.slug))},style:{position:"absolute",top:(a.y-a.centerOffsetY)/g,left:(a.x-a.centerOffsetX)/g}},bB.createElement("img",{src:a.img_path,style:{display:"block",maxWidth:"".concat(a.w/g,"px"),maxHeight:"".concat(a.h/g,"px"),width:"".concat(a.w/g,"px"),height:"".concat(a.h/g,"px")}}));j.push(c)}),bB.createElement(i0,{bottomDrawerOpen:e,debug:bH().debug,className:"MapPanel"},(void 0===c||c)&&bB.createElement(i1,null),bB.createElement(i$,{bottomDrawerOpen:e},bB.createElement(i_,{ref:h,style:{width:"".concat(b.w/g,"px"),height:"".concat(b.h/g,"px")}},bB.createElement("img",{src:b.img_path,style:{width:"".concat(b.w/g,"px"),height:"".concat(b.h/g,"px")}}),j)))};i2.propTypes={map:dc().object.isRequired,withZoom:dc().bool};var i3=i2;function i4(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i5(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var i6=bF.ZP.div(bb||(bb=i5(["\n  border: 1px solid red;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n\n  z-index: 2;\n"]))),i7=bF.ZP.div(bc||(bc=i5(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n\n  height: 100%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n"])),function(a){return a.theme.thinBorder},function(a){return a.theme.thinBorderRadius},function(a){return a.theme.colors.background}),i8=bF.ZP.div(bd||(bd=i5(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: relative;\n  height: 100%;\n"]))),i9=function(a){var b,c,d=a.map,e=(0,bB.useContext)(b0),f=(e.bottomDrawerOpen,e.editorMode),g=e.mapPanelWidth,h=e.mapPanelHeight,i=e.zoom,j=e.setZoom,k=(0,bB.useContext)(h3),l=(k.markerModalOpen,k.setMarkerModalOpen),m=(0,bP.k6)(),n=fw(),o=(c=2,function a(b){if(Array.isArray(b))return b}(b=n)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return i4(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return i4(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=o[0],q=o[1];(0,bB.useEffect)(function(){if(0!==p){var a=p/d.w,b=q/d.h,c=Math.min(a,b);j(c+=.01)}},[g,h,d.id,p,q]);var r=[];return a.map.markers.map(function(a,b){var c=bB.createElement("div",{key:b,onClick:function(){return m.push("/en/locations/show/".concat(a.slug))},style:{position:"absolute",top:a.y*i,left:a.x*i,zIndex:2}},bB.createElement("img",{src:a.img_path,style:{display:"block",maxWidth:"".concat(a.w*i,"px"),maxHeight:"".concat(a.h*i,"px"),width:"auto",height:"auto"}}));r.push(c)}),bB.createElement(i7,{className:"MapPanelNoZoom W0"},f&&bB.createElement(i6,null,bB.createElement(fJ,{onClick:function(){return l(!0)}},"+ Marker")),bB.createElement(i8,{className:"W1"},bB.createElement("img",{src:d.img_path,style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",position:"relative",zIndex:1}}),r))},ja=function(a){var b=a.ratedConfirmation,c=a.setRatedConfirmation;return bB.createElement(dS(),{isOpen:!b},bB.createElement("p",null,"You must be 18 years of age or older to view this content."),bB.createElement("button",{onClick:function(){return c(!0)}},"I am over 18"),"\xa0 \xa0",bB.createElement("button",{onClick:function(){return window.location="https://disney.com"}},"I am NOT over 18"))};ja.propTypes={};var jb=ja;c(73935);var jc=["onClick","onIdle","children","style"];function jd(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function je(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?jd(Object(c),!0).forEach(function(b){jf(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):jd(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function jf(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function jg(a,b){return jl(a)||jk(a,b)||ji(a,b)||jh()}function jh(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ji(a,b){if(a){if("string"==typeof a)return jj(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return jj(a,b)}}function jj(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function jk(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function jl(a){if(Array.isArray(a))return a}be="AIzaSyB8kkxbSgjmUpGmpigro-N7uXKiQmpBoyE";var jm=function(a){var b=a.map,c=jg(bB.useState([]),2),d=c[0],e=c[1],f=jg(bB.useState(12),2),g=f[0],h=f[1],i=jg(bB.useState({lat:b.x,lng:b.y}),2),j=i[0],k=i[1],l=function(a){},m=function(a){a.getZoom()&&h(a.getZoom()),a.getCenter()&&k(a.getCenter().toJSON())},n=bB.createElement("div",{style:{display:"none",padding:"1rem",flexBasis:"250px",height:"100%",overflow:"auto"}},bB.createElement("label",{htmlFor:"zoom"},"Zoom"),bB.createElement("input",{type:"number",id:"zoom",name:"zoom",value:g,onChange:function(a){return h(Number(a.target.value))}}),bB.createElement("br",null),bB.createElement("label",{htmlFor:"lat"},"Latitude"),bB.createElement("input",{type:"number",id:"lat",name:"lat",value:j.lat,onChange:function(a){return k(je(je({},j),{},{lat:Number(a.target.value)}))}}),bB.createElement("br",null),bB.createElement("label",{htmlFor:"lng"},"Longitude"),bB.createElement("input",{type:"number",id:"lng",name:"lng",value:j.lng,onChange:function(a){return k(je(je({},j),{},{lng:Number(a.target.value)}))}}),bB.createElement("h3",null,0===d.length?"Click on map to add markers":"Clicks"),d.map(function(a,b){return bB.createElement("pre",{key:b},JSON.stringify(a.toJSON(),null,2))}),bB.createElement("button",{onClick:function(){return e([])}},"Clear"));return bB.createElement("div",{style:{display:"flex",height:"100%"}},bB.createElement(hB.Wrapper,{apiKey:be},bB.createElement(jn,{center:j,onClick:l,onIdle:m,zoom:g,style:{flexGrow:"1",height:"100%"}},b.markers.map(function(a,b){return bB.createElement(jo,{key:b,position:{lat:a.x,lng:a.y}})}))),n)},jn=function(a){var b=a.onClick,c=a.onIdle,d=a.children,e=a.style,f=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,jc),g=bB.useRef(null),h=bB.useState(),i=jg(h,2),j=i[0],k=i[1];return bB.useEffect(function(){g.current&&!j&&k(new window.google.maps.Map(g.current,{}))},[g,j]),jv(function(){j&&j.setOptions(f)},[j,f]),bB.useEffect(function(){j&&(["click","idle"].forEach(function(a){return google.maps.event.clearListeners(j,a)}),b&&j.addListener("click",b),c&&j.addListener("idle",function(){return c(j)}))},[j,b,c]),bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:g,style:e}),bB.Children.map(d,function(a){if(bB.isValidElement(a))return bB.cloneElement(a,{map:j})}))},jo=function(a){var b=jg(bB.useState(),2),c=b[0],d=b[1];return bB.useEffect(function(){return c||d(new google.maps.Marker),function(){c&&c.setMap(null)}},[c]),bB.useEffect(function(){c&&c.setOptions(a)},[c,a]),null};function jp(a){var b=bB.useRef();return a!==b.current&&(b.current=a),b.current}var jq,jr,js,jt,ju,jv=function(a,b){bB.useEffect(a,b.map(jp))},jw=jm,jx=c(87011),jy=bF.ZP.div(bf||(bf=(jq=["\n  border: 2px solid red;\n\n  position: relative;\n  // height: calc(100% - ",");\n  width: 700px;\n  height: 350px;\n\n  #Crosshair {\n    // border: 1px solid yellow;\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"],jr||(jr=jq.slice(0)),Object.freeze(Object.defineProperties(jq,{raw:{value:Object.freeze(jr)}})))),function(a){return a.breadcrumbsHeight}),jz=bF.ZP.div(bg||(bg=(js=["\n// border: 2px solid yellow;\n\nwidth: 50px;\nheight: 50px;\n\nposition: absolute;\nleft: 50%;\ntop: 50%;\n\n::before {\n  content: '';\n  position: absolute;\n  border-color: white;\n  border-style: solid;\n  border-width: 0 2px 0 0;\n  height: 20px;\n  top: -10px;\n  left: -1px;\n  transform: rotate(90deg);\n\n  // margin-top: -1em;\n\n}\n::after {\n  content: '';\n  position: absolute;\n  border-color: white;\n  border-style: solid;\n  border-width: 0 2px 0 0;\n  height: 20px;\n  top: -10px;\n  left: -1px;\n\n  // margin-top: -1em;\n  // width: 0.5em;\n}\n"],jt||(jt=js.slice(0)),Object.freeze(Object.defineProperties(js,{raw:{value:Object.freeze(jt)}}))))),jA=c(2212);function jB(a,b){return(jB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function jC(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function jD(a){return(jD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var jE=new jA.Euler(0,0,0,"YXZ"),jF=new jA.Vector3,jG={type:"change"},jH={type:"lock"},jI={type:"unlock"},jJ=Math.PI/2,jK=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),b&&jB(a,b)}(e,a);var b,c,d=(b=e,c=function a(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(b){return!1}}(),function(){var a,d=jD(b);if(c){var e=jD(this).constructor;a=Reflect.construct(d,arguments,e)}else a=d.apply(this,arguments);return function a(b,c){if(c&&("object"==typeof c||"function"==typeof c))return c;if(void 0!==c)throw TypeError("Derived constructors may only return object or undefined");return jC(b)}(this,a)});function e(a,b){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),f=d.call(this),void 0===b&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),b=document.body),f.domElement=b,f.isLocked=!1,f.minPolarAngle=0,f.maxPolarAngle=Math.PI;var c,f,g=jC(f);function h(b){if(!1!==g.isLocked){var c=b.movementX||b.mozMovementX||b.webkitMovementX||0,d=b.movementY||b.mozMovementY||b.webkitMovementY||0;jE.setFromQuaternion(a.quaternion),jE.y-=.002*c,jE.x-=.002*d,jE.x=Math.max(jJ-g.maxPolarAngle,Math.min(jJ-g.minPolarAngle,jE.x)),a.quaternion.setFromEuler(jE),g.dispatchEvent(jG)}}function i(){g.domElement.ownerDocument.pointerLockElement===g.domElement?(g.dispatchEvent(jH),g.isLocked=!0):(g.dispatchEvent(jI),g.isLocked=!1)}function j(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return f.connect=function(){g.domElement.ownerDocument.addEventListener("mousemove",h),g.domElement.ownerDocument.addEventListener("pointerlockchange",i),g.domElement.ownerDocument.addEventListener("pointerlockerror",j)},f.disconnect=function(){g.domElement.ownerDocument.removeEventListener("mousemove",h),g.domElement.ownerDocument.removeEventListener("pointerlockchange",i),g.domElement.ownerDocument.removeEventListener("pointerlockerror",j)},f.dispose=function(){this.disconnect()},f.getObject=function(){return a},f.getDirection=(c=new jA.Vector3(0,0,-1),function(b){return b.copy(c).applyQuaternion(a.quaternion)}),f.moveForward=function(b){jF.setFromMatrixColumn(a.matrix,0),jF.crossVectors(a.up,jF),a.position.addScaledVector(jF,b)},f.moveRight=function(b){jF.setFromMatrixColumn(a.matrix,0),a.position.addScaledVector(jF,b)},f.lock=function(){this.domElement.requestPointerLock()},f.unlock=function(){g.domElement.ownerDocument.exitPointerLock()},f.connect(),f}return e}(jA.EventDispatcher);function jL(a){var b=this,c=a.container,d=a.camera,e=a.options,f=a.THREE,g=a.RotationPad;return function(a){var c=b;c.config=$.extend({speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40},e);var h,i,j,k,a=a,l=!1,m=[],n=[],o=!1,p=!1,q=!1,r=!1,s=!1,t=!1,u=!1,v=!1,w=1,x=1,y=c.config.maxPitch*Math.PI/180,z=new f.Vector3(0,0,0),A=new f.Object3D;function B(a){l=!1}function D(a,b,d){var d=d||c.config.rotationFactor,e=c.fpsBody.rotation.y-a*d,f=A.rotation.x-b*d;return{rx:f=Math.max(-y,Math.min(y,f)),ry:e}}function E(a){0==a?c.lockMoveForward(!0):1==a?c.lockMoveBackward(!0):2==a?c.lockMoveLeft(!0):3==a&&c.lockMoveRight(!0)}A.name="cameraHolder",A.add(d),c.scene=null,c.fpsBody=new f.Object3D,c.fpsBody.add(A),c.enabled=!0,c.mouse=new f.Vector2,c.rotationPad=new g(a),$(c.rotationPad).on("YawPitch",function(a){var b=D(a.detail.deltaX,a.detail.deltaY);c.setRotation(b.rx,b.ry)}),c.movementPad=new MovementPad(a),$(c.movementPad).on("move",function(a){w=Math.abs(a.detail.deltaY),x=Math.abs(a.detail.deltaX),a.detail.deltaY==a.detail.middle?(w=1,o=p=!1):a.detail.deltaY>a.detail.middle?(o=!0,p=!1):a.detail.deltaY<a.detail.middle&&(o=!1,p=!0),a.detail.deltaX==a.detail.middle?(x=1,r=q=!1):a.detail.deltaX<a.detail.middle?(r=!0,q=!1):a.detail.deltaX>a.detail.middle&&(r=!1,q=!0)}),$(c.movementPad).on("stopMove",function(a){w=x=1,o=p=q=r=!1}),a.on("contextmenu",function(a){a.preventDefault()}),a.on("mousedown",function(a){c.enabled&&2===a.button&&(l=!0,a.preventDefault(),a.stopPropagation())}),a.on("mouseup",function(a){c.enabled&&2===a.button&&(l=!1)}),$(document).on("keydown",function(a){if(c.enabled)switch(a.keyCode){case 38:case 87:o=!0;break;case 37:case 65:q=!0;break;case 40:case 83:p=!0;break;case 39:case 68:r=!0}}),$(document).on("keyup",function(a){switch(a.keyCode){case 38:case 87:o=!1;break;case 37:case 65:q=!1;break;case 40:case 83:p=!1;break;case 39:case 68:r=!1}}),$(document).on("mousemove",function(a){if(c.mouse.x=a.clientX/window.innerWidth*2-1,c.mouse.y=-(2*(a.clientY/window.innerHeight))+1,c.enabled&&l){var b=a.originalEvent.movementX||a.originalEvent.mozMovementX||a.originalEvent.webkitMovementX||0,d=a.originalEvent.movementY||a.originalEvent.mozMovementY||a.originalEvent.webkitMovementY||0,e=D(-1*b,-1*d);c.setRotation(e.rx,e.ry)}}),$(document).on("mouseout",B),(h=new f.Matrix4).makeRotationY(0),m.push(h),(i=new f.Matrix4).makeRotationY(180*Math.PI/180),m.push(i),(j=new f.Matrix4).makeRotationY(90*Math.PI/180),m.push(j),(k=new f.Matrix4).makeRotationY(270*Math.PI/180),m.push(k),c.update=function(){c.config.hitTest&&c.hitTest(),z.x+=-1*z.x*.75*c.config.delta,z.z+=-1*z.z*.75*c.config.delta,o&&!s&&(z.z-=w*c.config.speedFactor*c.config.delta),p&&!t&&(z.z+=w*c.config.speedFactor*c.config.delta),q&&!u&&(z.x-=x*c.config.speedFactor*c.config.delta),r&&!v&&(z.x+=x*c.config.speedFactor*c.config.delta),c.fpsBody.translateX(z.x),c.fpsBody.translateY(z.y),c.fpsBody.translateZ(z.z)},c.hitTest=function(){c.unlockAllDirections(),n=[];for(var a=c.getDirection2(new f.Vector3(0,0,0)).clone(),b=0;b<4;b++){var d=a.clone();d.applyMatrix4(m[b]);var e=new f.Raycaster(c.fpsBody.position,d).intersectObject(c.scene,!0);e.length>0&&e[0].distance<c.config.hitTestDistance&&(E(b),n.push(e[0]))}return n},c.getDirection2=function(a){var b=new f.Vector3(0,0,-1),c=new f.Euler(0,0,0,"YXZ"),d=this.fpsBody.getObjectByName("cameraHolder").rotation.x,e=this.fpsBody.rotation.y;return c.set(d,e,0),a.copy(b).applyEuler(c),a},c.getDirection=function(){var a=0,b=0,c=new f.Vector3(0,0,-1),d=new f.Euler(0,0,0,"YXZ");return void 0!=this&&(a=this.fpsBody.getObjectByName("cameraHolder").rotation.x,b=this.fpsBody.rotation.y,console.log(a,b)),function(e){return d.set(a,b,0),e.copy(c).applyEuler(d),e}}(),c.moveLeft=function(){return q},c.moveRight=function(){return r},c.moveForward=function(){return o},c.moveBackward=function(){return p},c.lockMoveForward=function(a){s=a},c.lockMoveBackward=function(a){t=a},c.lockMoveLeft=function(a){u=a},c.lockMoveRight=function(a){v=a},c.unlockAllDirections=function(){c.lockMoveForward(!1),c.lockMoveBackward(!1),c.lockMoveLeft(!1),c.lockMoveRight(!1)}}(c)}jL.prototype={addToScene:function(a){this.scene=a,a.add(this.fpsBody)},setPosition:function(a,b,c){this.fpsBody.position.set(a,b,c)},stopMouseMoving:function(){isRightMouseDown=!1},setRotation:function(a,b){var c=this.fpsBody.getObjectByName("cameraHolder");null!==a&&(c.rotation.x=a),null!==b&&(this.fpsBody.rotation.y=b)},getHitObjects:function(){return hitObjects}};var jM=jL,jN=void 0,jO=function(a){var b,c,d,e,f,g=!1,h=(0,bB.useRef)(null),i=h.current,j=(0,bB.useRef)(null),k=j.current,l={},m={},n=function(){i.animate({top:jN.regionData.centerY-m.radius,left:jN.regionData.centerX-m.radius,opacity:.1},"fast")};function o(a,b){c=a-l.offset.left,d=b-l.offset.top,e=Math.pow(l.centerX-c,2)+Math.pow(l.centerY-d,2),e>Math.pow(l.radius,2)&&(f=Math.atan2(d-l.centerY,c-l.centerX),c=Math.cos(f)*l.radius+l.centerX,d=Math.sin(f)*l.radius+l.centerY),d=Math.round(10*d)/10,c=Math.round(10*c)/10,i.css({top:d-m.radius,left:c-m.radius});var g=l.centerX-parseInt(c),h=l.centerY-parseInt(d);g=-2+4*(g- -l.radius)/(l.radius- -l.radius),h=-2+4*(h- -l.radius)/(l.radius- -l.radius),g=-1*Math.round(10*g)/10,h=-1*Math.round(10*h)/10,p(g,h)}function p(a,c){if(!g){clearTimeout(b);return}clearTimeout(b),b=setTimeout(function(){p(a,c)},5);var d=$.Event("YawPitch",{detail:{deltaX:a,deltaY:c},bubbles:!1});$(self).trigger(d)}return k&&k.on("mousedown",function(a){g=!0,i.css("opacity","1.0"),o(a.pageX,a.pageY)}),$(document).on("mouseup",function(){g=!1,i&&n()}),$(document).on("mousemove",function(a){g&&o(a.pageX,a.pageY)}),k&&k.on("touchstart",function(a){g=!0,i.css("opacity","1.0"),o(a.originalEvent.targetTouches[0].pageX,a.originalEvent.targetTouches[0].pageY)}),$(document).on("touchend touchcancel",function(){g=!1,i&&n()}),$(document).on("touchmove",function(a){g&&o(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY)}),i&&n(),bB.createElement("div",{className:"rotation-pad"},bB.createElement("div",{className:"region",ref:j}),bB.createElement("div",{className:"handle",ref:h}))};function jP(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function jQ(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(bh||(bh=jP(["\n  border: 1px dashed red;\n\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  #Crosshair {\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"]))),bF.ZP.div(bi||(bi=jP(["\n  border: 1px solid blue;\n  height: 90vh;\n"])));var jR,jS,jT,jU,jV,jW,jX=bF.ZP.div(bj||(bj=jQ(["\n  border: 1px dashed red;\n\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  #Crosshair {\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"]))),jY=bF.ZP.div(bk||(bk=jQ(["\n  border: 1px solid blue;\n  height: 90vh;\n"]))),jZ=function(a){fQ(a,"Equirectangular2");var b=a.map;(0,bP.k6)();var c,d,e,f,g,h,i=[],j=(0,bB.useContext)(b0),k=j.bottomDrawerOpen,l=j.folded,m=(j.setFolded,j.itemToUnlock,j.setItemToUnlock,j.mapPanelWidth,j.setMapPanelWidth,j.mapPanelHeight,j.setMapPanelHeight,j.ratedConfirmation,j.setRatedConfirmation,j.showItem,j.setShowItem,j.showUrl,j.setShowUrl,j.twofoldPercent),n=(0,bB.useRef)(null),o=(0,bB.useRef)(null),p=(0,bB.useRef)(null);(0,bB.useEffect)(function(){y(),A()},[]),(0,bB.useEffect)(function(){window.dispatchEvent(new Event("resize"))},[k,l,m]);var q=!1,r=!1,s=!1,t=!1,u=!1,v=performance.now(),w=new jA.Vector3,x=new jA.Vector3;function y(){(c=new jA.PerspectiveCamera(75,2,1,1e3)).position.y=10,(h=new jA.Scene).background=new jA.Color(16777215),h.fog=new jA.Fog(16777215,0,750);var a=new jA.HemisphereLight(15658751,7829384,.75);a.position.set(.5,1,.75),h.add(a),d=new jK(c,document.body),n.current.addEventListener("click",function(){fQ("locked controls"),d.lock()}),d.addEventListener("lock",function(){fQ("event #lock")}),d.addEventListener("unlock",function(){}),h.add(d.getObject());var i=function(a){switch(a.code){case"ArrowUp":case"KeyW":q=!0;break;case"ArrowLeft":case"KeyA":s=!0;break;case"ArrowDown":case"KeyS":r=!0;break;case"ArrowRight":case"KeyD":t=!0;break;case"Space":!0===u&&(w.y+=350),u=!1}},j=function(a){switch(a.code){case"ArrowUp":case"KeyW":q=!1;break;case"ArrowLeft":case"KeyA":s=!1;break;case"ArrowDown":case"KeyS":r=!1;break;case"ArrowRight":case"KeyD":t=!1}};document.addEventListener("keydown",i),document.addEventListener("keyup",j),e=new jA.Raycaster(new jA.Vector3,new jA.Vector3(0,-1,0),0,10);var k=new jA.AxisHelper(700);h.add(k);var l=o.current;(d=new jM({container:l,camera:c,options:{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40},RotationPad:rotationPad,THREE:jA})).setPosition(0,35,400),d.addToScene(h);var m=new jA.PlaneGeometry(100,100,10,10);m.rotateX(-Math.PI/2),(g=jA.ImageUtils.loadTexture("/assets/textures/100x100_lazer-floor.png")).wrapS=jA.RepeatWrapping,g.wrapT=jA.RepeatWrapping,g.repeat.set(10,10);var p=new jA.MeshPhongMaterial({map:g}),v=new jA.Mesh(m,p);h.add(v);var x=new jA.TextureLoader,y=b.img_path;g=x.load(y,function(){var a=new jA.WebGLCubeRenderTarget(g.image.height);a.fromEquirectangularTexture(f,g),h.background=a.texture}),(f=new jA.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),f.setSize(n.current.clientWidth,n.current.clientHeight),n.current.appendChild(f.domElement),window.addEventListener("resize",z)}function z(){var a,b,d,e;if(a=f.domElement,b=n.current.clientWidth,d=n.current.clientHeight,e=a.width!==b||a.height!==d,e&&f.setSize(b,d),e){var g=n.current.clientWidth,h=n.current.clientHeight;c.aspect=g/h,c.updateProjectionMatrix()}}function A(){requestAnimationFrame(A);var a=performance.now();if(!0===d.isLocked){var b=d.getDirection(new jA.Vector3(0,0,0)).clone();e=new jA.Raycaster(c.position,b);var g=e.intersectObjects(i,!0);g.length&&(g[0].object,g[0].distance<5&&(q=!1));var j=g.length>0,k=(a-v)/1e3;w.x-=10*w.x*k,w.z-=10*w.z*k,w.y-=9.8*100*k,x.z=Number(q)-Number(r),x.x=Number(t)-Number(s),x.normalize(),(q||r)&&(w.z-=400*x.z*k),(s||t)&&(w.x-=400*x.x*k),!0===j&&(w.y=Math.max(0,w.y),u=!0),d.moveRight(-w.x*k),d.moveForward(-w.z*k),d.getObject().position.y+=w.y*k,d.getObject().position.y<10&&(w.y=0,d.getObject().position.y=10,u=!0)}v=a,f.render(h,c)}return new jA.Vector3,new jA.Color,bB.createElement(jY,{ref:o},bB.createElement("div",{ref:p}),bB.createElement(jX,{ref:n},bB.createElement("div",{id:"Crosshair"}),bB.createElement(jO,null)))},j$=function(a){var b,c,d,e,f,g,h,i=(0,bB.useRef)(null);function j(){b.aspect=i.current.clientWidth/i.current.clientHeight,b.updateProjectionMatrix(),f.setSize(i.current.clientWidth,i.current.clientHeight)}function k(){requestAnimationFrame(k),e.rotation.y+=35e-5,f.render(h,b)}return(0,bB.useRef)(null),(0,bB.useEffect)(function(){var a;(b=new jA.PerspectiveCamera(75,2,.1,1e3)).position.y=10,b.position.z=-10,(h=new jA.Scene).background=new jA.Color(3220255),h.fog=new jA.Fog(16777215,0,750),(a=new jA.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),h.add(a),g=jA.ImageUtils.loadTexture("/assets/textures/2k_mercury.jpeg"),c=new jA.SphereBufferGeometry(1,32,32),d=new jA.MeshBasicMaterial({map:g}),e=new jA.Mesh(c,d),e.position.y=10,e.position.z=-12,h.add(e),f=new jA.WebGLRenderer({antialias:!0}),f.setPixelRatio(window.devicePixelRatio),f.setSize(700,350),i.current.appendChild(f.domElement),window.addEventListener("resize",j),k()},[]),bB.createElement(bB.Fragment,null,bB.createElement(jy,Object.assign({},fu,{ref:i})))},j_=c(1217),j0=c(35344),j1=bF.ZP.div(bl||(bl=(jR=["\n  border: 2px solid red;\n\n  position: relative;\n  // height: calc(100% - ",");\n  width: 700px;\n  height: 350px;\n\n  #Crosshair {\n    // border: 1px solid yellow;\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"],jS||(jS=jR.slice(0)),Object.freeze(Object.defineProperties(jR,{raw:{value:Object.freeze(jS)}})))),function(a){return a.breadcrumbsHeight}),j2=function(a){fQ(a,"ThreePanelV4");var b=a.map;(0,bP.k6)();var c,d,e,f,g,h,i=[],j=(0,bB.useRef)(null),k=(0,bB.useRef)(null);(0,bB.useEffect)(function(){v(),x()},[]);var l=!1,m=!1,n=!1,o=!1,p=!1,q=performance.now(),r=new jA.Vector3,s=new jA.Vector3;new jA.Vector3,new jA.Color;var t=new j_.E,u=new j0.V;function v(){(c=new jA.PerspectiveCamera(75,2,1,1e3)).position.y=10,(h=new jA.Scene).background=new jA.Color(16777215),h.fog=new jA.Fog(16777215,0,750);var a=new jA.HemisphereLight(15658751,7829384,.75);a.position.set(.5,1,.75),h.add(a),d=new jK(c,document.body),j.current.addEventListener("click",function(){fQ("locked controls"),d.lock()}),d.addEventListener("lock",function(){fQ("event #lock")}),d.addEventListener("unlock",function(){}),h.add(d.getObject());var i=function(a){switch(a.code){case"ArrowUp":case"KeyW":l=!0;break;case"ArrowLeft":case"KeyA":n=!0;break;case"ArrowDown":case"KeyS":m=!0;break;case"ArrowRight":case"KeyD":o=!0;break;case"Space":!0===p&&(r.y+=350),p=!1}},k=function(a){switch(a.code){case"ArrowUp":case"KeyW":l=!1;break;case"ArrowLeft":case"KeyA":n=!1;break;case"ArrowDown":case"KeyS":m=!1;break;case"ArrowRight":case"KeyD":o=!1}};document.addEventListener("keydown",i),document.addEventListener("keyup",k),e=new jA.Raycaster(new jA.Vector3,new jA.Vector3(0,-1,0),0,10),g=jA.ImageUtils.loadTexture("/assets/textures/moon-1.jpg");var q=new jA.CircleGeometry(1e3,32);q.rotateX(-Math.PI/2);var s=new jA.MeshBasicMaterial({map:g}),v=new jA.Mesh(q,s);h.add(v),b.markers.map(function(a,b){t.load(a.asset3d_path,function(a){h.add(a.scene),u.fromGraphNode(a.scene),a.scene.traverse(function(a){a.isMesh&&(a.castShadow=!0,a.receiveShadow=!0,a.material.map&&(a.material.map.anisotropy=4))})})});var x=new jA.TextureLoader;g=x.load("/assets/textures/space-5.jpg",function(){var a=new jA.WebGLCubeRenderTarget(g.image.height);a.fromEquirectangularTexture(f,g),h.background=a.texture}),(f=new jA.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),f.setSize(700,350),j.current.appendChild(f.domElement),window.addEventListener("resize",w)}function w(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}function x(){requestAnimationFrame(x);var a=performance.now();if(!0===d.isLocked){var b=d.getDirection(new jA.Vector3(0,0,0)).clone();e=new jA.Raycaster(c.position,b);var g=e.intersectObjects(i,!0);g.length&&g[0].object;var j=g.length>0,k=(a-q)/1e3;r.x-=10*r.x*k,r.z-=10*r.z*k,r.y-=9.8*100*k,s.z=Number(l)-Number(m),s.x=Number(o)-Number(n),s.normalize(),(l||m)&&(r.z-=400*s.z*k),(n||o)&&(r.x-=400*s.x*k),!0===j&&(r.y=Math.max(0,r.y),p=!0),d.moveRight(-r.x*k),d.moveForward(-r.z*k),d.getObject().position.y+=r.y*k,d.getObject().position.y<10&&(r.y=0,d.getObject().position.y=10,p=!0)}q=a,f.render(h,c)}return bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:k}),bB.createElement(j1,Object.assign({},fu,{ref:j}),bB.createElement("div",{id:"Crosshair"})))},j3=bF.ZP.div(bm||(bm=(jT=["\n  height: calc(100% - ",");\n"],jU||(jU=jT.slice(0)),Object.freeze(Object.defineProperties(jT,{raw:{value:Object.freeze(jU)}})))),function(a){return a.breadcrumbsHeight}),j4=function(a){var b,c,d,e,f,g,h=[],i=(0,bB.useRef)(null),j=(0,bB.useRef)(null);(0,bB.useEffect)(function(){u(),w()},[]);var k=!1,l=!1,m=!1,n=!1,o=!1,p=performance.now(),q=new jA.Vector3,r=new jA.Vector3,s=new jA.Vector3,t=new jA.Color;function u(){(b=new jA.PerspectiveCamera(75,2,1,300)).position.y=10,(g=new jA.Scene).background=new jA.Color(16777215),g.fog=new jA.Fog(16777215,0,750);var a=new jA.HemisphereLight(15658751,7829384,.75);a.position.set(.5,1,.75),g.add(a),c=new jK(b,document.body),i.current.addEventListener("click",function(){fQ("locked controls"),c.lock()}),c.addEventListener("lock",function(){fQ("event #lock")}),c.addEventListener("unlock",function(){}),g.add(c.getObject());var h=function(a){switch(a.code){case"ArrowUp":case"KeyW":k=!0;break;case"ArrowLeft":case"KeyA":m=!0;break;case"ArrowDown":case"KeyS":l=!0;break;case"ArrowRight":case"KeyD":n=!0;break;case"Space":!0===o&&(q.y+=350),o=!1}},j=function(a){switch(a.code){case"ArrowUp":case"KeyW":k=!1;break;case"ArrowLeft":case"KeyA":m=!1;break;case"ArrowDown":case"KeyS":l=!1;break;case"ArrowRight":case"KeyD":n=!1}};document.addEventListener("keydown",h),document.addEventListener("keyup",j),e=new jA.Raycaster(new jA.Vector3,new jA.Vector3(0,-1,0),0,10);var p=new jA.PlaneGeometry(460,680,100,100);p.rotateX(-Math.PI/2);for(var r=p.attributes.position,u=0,w=r.count;u<w;u++)s.fromBufferAttribute(r,u),s.x+=20*Math.random()-10,s.y+=2*Math.random(),s.z+=20*Math.random()-10,r.setXYZ(u,s.x,s.y,s.z);(p=p.toNonIndexed()).x=-200,p.y=-200,p.z=-200,r=p.attributes.position;for(var x=[],y=0,z=r.count;y<z;y++)t.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),x.push(t.r,t.g,t.b);p.setAttribute("color",new jA.Float32BufferAttribute(x,3));var A=new jA.MeshBasicMaterial({vertexColors:!0}),B=new jA.Mesh(p,A);g.add(B);var D=function(){d.traverse(function(a){a.isMesh&&(a.material.map=G,a.geometry.scale(10,10,10))}),d.position.x=100,d.position.y=10,d.position.z=100,g.add(d)},E=new jA.LoadingManager(D);E.onProgress=function(a,b,c){console.log(a,b,c)};var F=new jA.TextureLoader(E),G=F.load("textures/uv_grid_opengl.jpg"),H=new jx.L(E);H.load("/assets/scenes/tiny-house-1/tiny-house-1.obj",function(a){d=a},function(a){if(a.lengthComputable){var b=a.loaded/a.total*100;console.log("model "+Math.round(b,2)+"% downloaded")}},function(a){fQ(a,"onError")});var I=new jA.BoxGeometry(10,10,10),J=new jA.MeshBasicMaterial({color:65280}),K=new jA.Mesh(I,J);K.position.x=0,K.position.y=5,K.position.z=0,g.add(K),[{color:16711680,x:1,y:0,z:0},{color:65280,x:0,y:1,z:0},{color:255,x:0,y:0,z:1}].map(function(a,b){fQ(a,"item");var c=a.color,d=a.x,e=a.y,f=a.z;I=new jA.BoxGeometry(1+10*d,1+10*e,1+10*f),J=new jA.MeshBasicMaterial({color:c}),K=new jA.Mesh(I,J),K.position.x=5*d,K.position.y=10+5*e,K.position.z=5*f,g.add(K)}),[{color:16711680,x:100,y:1,z:100},{color:65280,x:100,y:1,z:320},{color:255,x:-120,y:1,z:320},{color:6684672,x:-120,y:1,z:100},{color:26112,x:-120,y:1,z:-120},{color:102,x:100,y:1,z:-120}].map(function(a,b){var c=a.color,d=a.x,e=a.y,f=a.z,h=new jA.BoxGeometry(200,2,200),i=new jA.MeshBasicMaterial({color:c}),j=new jA.Mesh(h,i);j.position.x=d,j.position.y=e,j.position.z=f,g.add(j)}),(f=new jA.WebGLRenderer({antialias:!0})).setPixelRatio(1),f.setSize(800,400),i.current.appendChild(f.domElement),window.addEventListener("resize",v)}function v(){b.aspect=window.innerWidth/window.innerHeight,b.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}function w(){requestAnimationFrame(w);var a=performance.now();if(!0===c.isLocked){e.ray.origin.copy(c.getObject().position),e.ray.origin.y-=10;var d=e.intersectObjects(h,!1).length>0,i=(a-p)/1e3;q.x-=10*q.x*i,q.z-=10*q.z*i,q.y-=9.8*100*i,r.z=Number(k)-Number(l),r.x=Number(n)-Number(m),r.normalize(),(k||l)&&(q.z-=400*r.z*i),(m||n)&&(q.x-=400*r.x*i),!0===d&&(q.y=Math.max(0,q.y),o=!0),c.moveRight(-q.x*i),c.moveForward(-q.z*i),c.getObject().position.y+=q.y*i,c.getObject().position.y<10&&(q.y=0,c.getObject().position.y=10,o=!0)}p=a,f.render(g,b)}return bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:j}),bB.createElement(j3,Object.assign({},fu,{ref:i})))},j5=c(36023),j6=bF.ZP.div(bn||(bn=(jV=["\n  border: 2px solid red;\n\n  position: relative;\n  // height: calc(100% - ",");\n  width: 700px;\n  height: 350px;\n\n  #Crosshair {\n    // border: 1px solid yellow;\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"],jW||(jW=jV.slice(0)),Object.freeze(Object.defineProperties(jV,{raw:{value:Object.freeze(jW)}})))),function(a){return a.breadcrumbsHeight}),j7=function(a){(0,bP.k6)();var b,c,d,e,f,g,h=[],i=[],j=(0,bB.useRef)(null),k=(0,bB.useRef)(null);(0,bB.useEffect)(function(){t(),v()},[]);var l=!1,m=!1,n=!1,o=!1,p=!1,q=performance.now(),r=new jA.Vector3,s=new jA.Vector3;function t(){(b=new jA.PerspectiveCamera(75,2,1,1e3)).position.y=10,(g=new jA.Scene).background=new jA.Color(16777215),g.fog=new jA.Fog(16777215,0,750);var a=new jA.HemisphereLight(15658751,7829384,.75);a.position.set(.5,1,.75),g.add(a),c=new jK(b,document.body),j.current.addEventListener("click",function(){fQ("locked controls"),c.lock()}),c.addEventListener("lock",function(){fQ("event #lock")}),c.addEventListener("unlock",function(){}),g.add(c.getObject());var k=new jA.ShaderMaterial({uniforms:{main_color:{value:{r:1,g:1,b:1}},border_color:{value:{r:0,g:0,b:.1}},thickness:{value:.006},height:{value:.13},offset:{value:.05},border:{value:.003},opacity:{value:1},center:{value:{x:.5,y:.5}},rotation:{value:0}},vertexShader:"\n                uniform float rotation;\n                uniform vec2 center;\n                #include <common>\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n                    vec2 scale;\n                    scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n                    scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n                    #ifndef USE_SIZEATTENUATION\n                        bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n                        if ( isPerspective ) scale *= - mvPosition.z;\n                    #endif\n                    vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n                    vec2 rotatedPosition;\n                    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n                    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n                    mvPosition.xy += rotatedPosition;\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n            uniform vec3 main_color;\n            uniform vec3 border_color;\n            uniform float opacity;\n\n            uniform float thickness;\n            uniform float height;\n            uniform float offset;\n            uniform float border;\n\n            varying vec2 vUv;\n            void main() {\n\n                float a = (step(abs(vUv.x - 0.5), thickness)) * step(abs(vUv.y - 0.5), height + offset) * step(offset, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness)) * step(abs(vUv.x - 0.5), height + offset) * step(offset, abs(vUv.x - 0.5));\n                float b = (step(abs(vUv.x - 0.5), thickness - border)) * step(abs(vUv.y - 0.5), height + offset - border) * step(offset + border, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness - border)) * step(abs(vUv.x - 0.5), height + offset - border) * step(offset + border, abs(vUv.x - 0.5));\n                gl_FragColor = vec4( mix(border_color, main_color, b), a * opacity);\n            }\n        ",transparent:!0});new jA.Sprite(k);var q=function(a){switch(a.code){case"ArrowUp":case"KeyW":l=!0;break;case"ArrowLeft":case"KeyA":n=!0;break;case"ArrowDown":case"KeyS":m=!0;break;case"ArrowRight":case"KeyD":o=!0;break;case"Space":!0===p&&(r.y+=350),p=!1}},s=function(a){switch(a.code){case"ArrowUp":case"KeyW":l=!1;break;case"ArrowLeft":case"KeyA":n=!1;break;case"ArrowDown":case"KeyS":m=!1;break;case"ArrowRight":case"KeyD":o=!1}};document.addEventListener("keydown",q),document.addEventListener("keyup",s),d=new jA.Raycaster(new jA.Vector3,new jA.Vector3(0,-1,0),0,10),f=jA.ImageUtils.loadTexture("/assets/textures/moon-1.jpg");var t=new jA.CircleGeometry(1e3,32);t.rotateX(-Math.PI/2);var v=new jA.MeshBasicMaterial({map:f}),w=new jA.Mesh(t,v);g.add(w);var x="/assets/scenes/",y="/assets/objects/",z="polycity",A="girl",B="".concat(z,"/").concat(z,".mtl"),D="".concat(z,"/").concat(z,".obj"),E="".concat(A,"/").concat(A,".obj"),F=new jA.LoadingManager,G=function(a){if(a.lengthComputable){var b=a.loaded/a.total*100;console.log(Math.round(b,2)+"% downloaded")}},H=function(){},I=function(a){a.preload();var b=new jx.L(F);b.setMaterials(a),b.setPath(x),b.load(D,function(a){a.traverse(function(a){a.isMesh&&a.geometry.scale(.1,.1,.1)}),a.position.x=500*Math.random(),a.position.y=10,a.position.z=500*Math.random(),fQ(a,"1st object"),g.add(a),h.push(a),i.push({uuid:a.uuid,name:"camaro75",slug:"construct1"})},G,H)},J=function(a){var b=new jx.L(F);b.setPath(y),b.load(E,function(a){a.traverse(function(a){a.isMesh&&a.geometry.scale(10,10,10)}),a.position.x=500*Math.random(),a.position.y=10,a.position.z=500*Math.random(),fQ(a,"2st object"),g.add(a),h.push(a),i.push({uuid:a.uuid,name:"girl",slug:"demmitv"})},G,H)},K=new j5.v(F);K.setPath(x),K.load(B,I),K.load(B,J);var L=new jA.TextureLoader;f=L.load("/assets/textures/space-5.jpg",function(){var a=new jA.WebGLCubeRenderTarget(f.image.height);a.fromEquirectangularTexture(e,f),g.background=a.texture}),(e=new jA.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),e.setSize(700,350),j.current.appendChild(e.domElement),window.addEventListener("resize",u)}function u(){b.aspect=window.innerWidth/window.innerHeight,b.updateProjectionMatrix(),e.setSize(window.innerWidth,window.innerHeight)}function v(){requestAnimationFrame(v);var a=performance.now();if(!0===c.isLocked){var f=c.getDirection(new jA.Vector3(0,0,0)).clone();d=new jA.Raycaster(b.position,f);var i=d.intersectObjects(h,!0);i.length&&(i[0].object,i[0].distance<5&&(l=!1));var j=i.length>0,k=(a-q)/1e3;r.x-=10*r.x*k,r.z-=10*r.z*k,r.y-=9.8*100*k,s.z=Number(l)-Number(m),s.x=Number(o)-Number(n),s.normalize(),(l||m)&&(r.z-=400*s.z*k),(n||o)&&(r.x-=400*s.x*k),!0===j&&(r.y=Math.max(0,r.y),p=!0),c.moveRight(-r.x*k),c.moveForward(-r.z*k),c.getObject().position.y+=r.y*k,c.getObject().position.y<10&&(r.y=0,c.getObject().position.y=10,p=!0)}q=a,e.render(g,b)}return new jA.Vector3,new jA.Color,bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:k}),bB.createElement(j6,Object.assign({},fu,{ref:j}),bB.createElement("div",{id:"Crosshair"})))};c(15079);var j8=c(42936);function j9(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk=bF.ZP.div(bo||(bo=(ka=["\n  // border: 2px solid red;\n\n  position: relative;\n  width: 100%;\n  height: 100%;\n"],kb||(kb=ka.slice(0)),Object.freeze(Object.defineProperties(ka,{raw:{value:Object.freeze(kb)}}))))),kl=function(a){(0,bP.k6)();var b,c,d,e,f,g,h,i=(0,bB.useContext)(b0),j=i.bottomDrawerOpen,k=i.folded,l=(i.setFolded,i.itemToUnlock,i.setItemToUnlock,i.mapPanelWidth,i.setMapPanelWidth,i.mapPanelHeight,i.setMapPanelHeight,i.ratedConfirmation,i.setRatedConfirmation,i.showItem,i.setShowItem,i.showUrl,i.setShowUrl,i.twofoldPercent),m=(0,bB.useRef)(null),n=(0,bB.useRef)(null);(0,bB.useEffect)(function(){E(),P()},[]),(0,bB.useEffect)(function(){window.dispatchEvent(new Event("resize"))},[j,k,l]);var o=performance.now();new jA.Vector3,new jA.Vector3;var p=new jA.IcosahedronGeometry(.2,5),q=new jA.MeshLambertMaterial({color:12303172}),r=[],s=0,t=new j0.V,u=new j8.s(new jA.Vector3(0,.35,0),new jA.Vector3(0,1,0),.35),v=new jA.Vector3,w=new jA.Vector3,x=!1,y=0,z={},A=new jA.Vector3,B=new jA.Vector3,D=new jA.Vector3,E=function(){c=new jA.Clock,h=new jA.Scene,h.background=new jA.Color(8965358),h.fog=new jA.Fog(8965358,0,50),b=new jA.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.1,1e3),b.rotation.order="YXZ",e=new jA.HemisphereLight(4491451,8772,.5),e.position.set(2,1,1),h.add(e),d=new jA.DirectionalLight(16777215,.8),d.position.set(-5,25,-1),d.castShadow=!0,d.shadow.camera.near=.01,d.shadow.camera.far=500,d.shadow.camera.right=30,d.shadow.camera.left=-30,d.shadow.camera.top=30,d.shadow.camera.bottom=-30,d.shadow.mapSize.width=1024,d.shadow.mapSize.height=1024,d.shadow.radius=4,d.shadow.bias=-.00006,h.add(d);for(var a=0;a<100;a++){var i=new jA.Mesh(p,q);i.castShadow=!0,i.receiveShadow=!0,h.add(i),r.push({mesh:i,collider:new jA.Sphere(new jA.Vector3(0,-100,0),.2),velocity:new jA.Vector3})}f=new jK(b,document.body),m.current.addEventListener("click",function(){f.lock()}),f.addEventListener("lock",function(){fQ("event #lock")}),f.addEventListener("unlock",function(){}),h.add(f.getObject()),(g=new jA.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),g.setSize(m.current.clientWidth,m.current.clientHeight),g.shadowMap.enabled=!0,g.shadowMap.type=jA.VSMShadowMap,g.outputEncoding=jA.sRGBEncoding,g.toneMapping=jA.ACESFilmicToneMapping,m.current.appendChild(g.domElement),window.addEventListener("resize",F),new j_.E().setPath("./assets/objects/gltf/").load("collision-world.glb",function(a){h.add(a.scene),t.fromGraphNode(a.scene),a.scene.traverse(function(a){a.isMesh&&(a.castShadow=!0,a.receiveShadow=!0,a.material.map&&(a.material.map.anisotropy=4))}),P()}),document.addEventListener("keydown",function(a){z[a.code]=!0}),document.addEventListener("keyup",function(a){z[a.code]=!1}),document.addEventListener("mouseup",function(){null!==document.pointerLockElement&&H()}),document.addEventListener("mousedown",function(){document.body.requestPointerLock(),y=performance.now()})};function F(){b.aspect=m.current.clientWidth/m.current.clientHeight,b.updateProjectionMatrix(),g.setSize(m.current.clientWidth,m.current.clientHeight)}function G(a){r.forEach(function(b){b.collider.center.addScaledVector(b.velocity,a);var c=t.sphereIntersect(b.collider);c?(b.velocity.addScaledVector(c.normal,-(1.5*c.normal.dot(b.velocity))),b.collider.center.add(c.normal.multiplyScalar(c.depth))):b.velocity.y-=30*a,b.velocity.addScaledVector(b.velocity,Math.exp(-1.5*a)-1),M(b)}),L();var b,c=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=function a(b,c){if(b){if("string"==typeof b)return j9(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return j9(b,c)}}(a))){c&&(a=c);var d=0,e=function(){};return{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function(){c=c.call(a)},n:function(){var a=c.next();return g=a.done,a},e:function(a){h=!0,f=a},f:function(){try{g||null==c.return||c.return()}finally{if(h)throw f}}}}(r);try{for(c.s();!(b=c.n()).done;){var d=b.value;d.mesh.position.copy(d.collider.center)}}catch(e){c.e(e)}finally{c.f()}}function H(){var a=r[s];b.getWorldDirection(w),a.collider.center.copy(u.end).addScaledVector(w,1.5*u.radius);var c=15+30*(1-Math.exp((y-performance.now())*.001));a.velocity.copy(w).multiplyScalar(c),a.velocity.addScaledVector(v,2),s=(s+1)%r.length}function I(){return b.getWorldDirection(w),w.y=0,w.normalize(),w}function J(){return b.getWorldDirection(w),w.y=0,w.normalize(),w.cross(b.up),w}function K(a){var c=Math.exp(-4*a)-1;x||(v.y-=30*a,c*=.1),v.addScaledVector(v,c);var d,e=v.clone().multiplyScalar(a);u.translate(e),d=t.capsuleIntersect(u),x=!1,d&&((x=d.normal.y>0)||v.addScaledVector(d.normal,-d.normal.dot(v)),u.translate(d.normal.multiplyScalar(d.depth))),b.position.copy(u.end)}function L(){for(var a=0,b=r.length;a<b;a++)for(var c=r[a],d=a+1;d<b;d++){var e=r[d],f=c.collider.center.distanceToSquared(e.collider.center),g=c.collider.radius+e.collider.radius;if(f<g*g){var h=A.subVectors(c.collider.center,e.collider.center).normalize(),i=B.copy(h).multiplyScalar(h.dot(c.velocity)),j=D.copy(h).multiplyScalar(h.dot(e.velocity));c.velocity.add(j).sub(i),e.velocity.add(i).sub(j);var k=(g-Math.sqrt(f))/2;c.collider.center.addScaledVector(h,k),e.collider.center.addScaledVector(h,-k)}}}function M(a){for(var b=A.addVectors(u.start,u.end).multiplyScalar(.5),c=a.collider.center,d=u.radius+a.collider.radius,e=d*d,f=0,g=[u.start,u.end,b];f<g.length;f++){var h=g[f],i=h.distanceToSquared(c);if(i<e){var j=A.subVectors(h,c).normalize(),k=B.copy(j).multiplyScalar(j.dot(v)),l=D.copy(j).multiplyScalar(j.dot(a.velocity));v.add(l).sub(k),a.velocity.add(k).sub(l);var m=(d-Math.sqrt(i))/2;c.addScaledVector(j,-m)}}}function N(){b.position.y<= -25&&(u.start.set(0,.35,0),u.end.set(0,1,0),u.radius=.35,b.position.copy(u.end),b.rotation.set(0,0,0))}function O(a){var b=a*(x?25:8);z.KeyW&&v.add(I().multiplyScalar(b)),z.KeyS&&v.add(I().multiplyScalar(-b)),z.KeyA&&v.add(J().multiplyScalar(-b)),z.KeyD&&v.add(J().multiplyScalar(b)),x&&z.Space&&(v.y=15)}function P(){requestAnimationFrame(P);var a=performance.now();if(!0===f.isLocked)for(var d=Math.min(.05,c.getDelta())/5,e=0;e<5;e++)O(d),K(d),G(d),N();o=a,g.render(h,b)}return bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:n}),bB.createElement(kk,{ref:m},bB.createElement(jz,null)))},km=bF.ZP.div(bp||(bp=(kc=["\n  border: 2px solid red;\n\n  position: relative;\n  // height: calc(100% - ",");\n  width: 700px;\n  height: 350px;\n\n  #Crosshair {\n    // border: 1px solid yellow;\n    width: 50px;\n    height: 50px;\n\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    color: white;\n\n    ::before {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      transform: rotate(90deg);\n      // width: 0.5em;\n    }\n    ::after {\n      content: '';\n      position: absolute;\n      border-color: white;\n      border-style: solid;\n      border-width: 0 0.1em 0 0;\n      height: 1em;\n      top: 0em;\n      left: 0.3em;\n      // margin-top: -1em;\n      // width: 0.5em;\n    }\n  }\n"],kd||(kd=kc.slice(0)),Object.freeze(Object.defineProperties(kc,{raw:{value:Object.freeze(kd)}})))),function(a){return a.breadcrumbsHeight}),kn=function(a){fQ(a,"ThreePanelV4");var b=a.map;(0,bP.k6)();var c,d,e,f,g,h,i=[],j=[],k=(0,bB.useRef)(null),l=(0,bB.useRef)(null);(0,bB.useEffect)(function(){u(),w()},[]);var m=!1,n=!1,o=!1,p=!1,q=!1,r=performance.now(),s=new jA.Vector3,t=new jA.Vector3;function u(){(c=new jA.PerspectiveCamera(75,2,1,1e3)).position.y=10,(h=new jA.Scene).background=new jA.Color(16777215),h.fog=new jA.Fog(16777215,0,750);var a=new jA.HemisphereLight(15658751,7829384,.75);a.position.set(.5,1,.75),h.add(a),d=new jK(c,document.body),k.current.addEventListener("click",function(){fQ("locked controls"),d.lock()}),d.addEventListener("lock",function(){fQ("event #lock")}),d.addEventListener("unlock",function(){}),h.add(d.getObject());var l=new jA.ShaderMaterial({uniforms:{main_color:{value:{r:1,g:1,b:1}},border_color:{value:{r:0,g:0,b:.1}},thickness:{value:.006},height:{value:.13},offset:{value:.05},border:{value:.003},opacity:{value:1},center:{value:{x:.5,y:.5}},rotation:{value:0}},vertexShader:"\n                uniform float rotation;\n                uniform vec2 center;\n                #include <common>\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n                    vec2 scale;\n                    scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n                    scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n                    #ifndef USE_SIZEATTENUATION\n                        bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n                        if ( isPerspective ) scale *= - mvPosition.z;\n                    #endif\n                    vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n                    vec2 rotatedPosition;\n                    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n                    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n                    mvPosition.xy += rotatedPosition;\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n            uniform vec3 main_color;\n            uniform vec3 border_color;\n            uniform float opacity;\n\n            uniform float thickness;\n            uniform float height;\n            uniform float offset;\n            uniform float border;\n\n            varying vec2 vUv;\n            void main() {\n\n                float a = (step(abs(vUv.x - 0.5), thickness)) * step(abs(vUv.y - 0.5), height + offset) * step(offset, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness)) * step(abs(vUv.x - 0.5), height + offset) * step(offset, abs(vUv.x - 0.5));\n                float b = (step(abs(vUv.x - 0.5), thickness - border)) * step(abs(vUv.y - 0.5), height + offset - border) * step(offset + border, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness - border)) * step(abs(vUv.x - 0.5), height + offset - border) * step(offset + border, abs(vUv.x - 0.5));\n                gl_FragColor = vec4( mix(border_color, main_color, b), a * opacity);\n            }\n        ",transparent:!0});new jA.Sprite(l);var r=function(a){switch(a.code){case"ArrowUp":case"KeyW":m=!0;break;case"ArrowLeft":case"KeyA":o=!0;break;case"ArrowDown":case"KeyS":n=!0;break;case"ArrowRight":case"KeyD":p=!0;break;case"Space":!0===q&&(s.y+=350),q=!1}},t=function(a){switch(a.code){case"ArrowUp":case"KeyW":m=!1;break;case"ArrowLeft":case"KeyA":o=!1;break;case"ArrowDown":case"KeyS":n=!1;break;case"ArrowRight":case"KeyD":p=!1}};document.addEventListener("keydown",r),document.addEventListener("keyup",t),e=new jA.Raycaster(new jA.Vector3,new jA.Vector3(0,-1,0),0,10),g=jA.ImageUtils.loadTexture("/assets/textures/moon-1.jpg");var u=new jA.CircleGeometry(1e3,32);u.rotateX(-Math.PI/2);var w=new jA.MeshBasicMaterial({map:g}),x=new jA.Mesh(u,w);h.add(x);var y="/assets/objects/",z=new jA.LoadingManager,A=new j5.v(z);A.setPath("/assets/textures/");var B=function(a){if(a.lengthComputable){var b=a.loaded/a.total*100;console.log(Math.round(b,2)+"% downloaded")}},D=function(){};b.markers.map(function(a,b){var c=a.slug,d="".concat(c,"/").concat(c,".mtl"),e="".concat(c,"/").concat(c,".obj"),f=function(a,b){return function(c){c.preload();var d=new jx.L(z);d.setMaterials(c),d.setPath(y),d.load(a,function(a){a.traverse(function(a){a.isMesh&&a.geometry.scale(10,10,10)}),a.position.x=100*Math.random(),a.position.y=10,a.position.z=100*Math.random(),fQ(a,"loaded obj"),h.add(a),i.push(a),j.push({uuid:a.uuid,name:b})},B,D)}};A.load(d,f(e,c))}),g=new jA.TextureLoader().load("/assets/textures/space-5.jpg",function(){var a=new jA.WebGLCubeRenderTarget(g.image.height);a.fromEquirectangularTexture(f,g),h.background=a.texture}),f=new jA.WebGLRenderer({antialias:!0}),f.setPixelRatio(window.devicePixelRatio),f.setSize(700,350),k.current.appendChild(f.domElement),window.addEventListener("resize",v)}function v(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight)}function w(){requestAnimationFrame(w);var a=performance.now();if(!0===d.isLocked){var b=d.getDirection(new jA.Vector3(0,0,0)).clone();e=new jA.Raycaster(c.position,b);var g=e.intersectObjects(i,!0);g.length&&g[0].object;var j=g.length>0,k=(a-r)/1e3;s.x-=10*s.x*k,s.z-=10*s.z*k,s.y-=9.8*100*k,t.z=Number(m)-Number(n),t.x=Number(p)-Number(o),t.normalize(),(m||n)&&(s.z-=400*t.z*k),(o||p)&&(s.x-=400*t.x*k),!0===j&&(s.y=Math.max(0,s.y),q=!0),d.moveRight(-s.x*k),d.moveForward(-s.z*k),d.getObject().position.y+=s.y*k,d.getObject().position.y<10&&(s.y=0,d.getObject().position.y=10,q=!0)}r=a,f.render(h,c)}return new jA.Vector3,new jA.Color,bB.createElement(bB.Fragment,null,bB.createElement("div",{ref:l}),bB.createElement(km,Object.assign({},fu,{ref:k}),bB.createElement("div",{id:"Crosshair"})))},ko=bF.ZP.div(bq||(bq=(ke=["\n  overflow: hidden;\n\n  flex-grow: 1;\n\n  // max-height: 100vh;\n  // min-height: 50vh;\n\n"],kf||(kf=ke.slice(0)),Object.freeze(Object.defineProperties(ke,{raw:{value:Object.freeze(kf)}}))))),kp=bB.forwardRef(function(a,b){switch(a.map.config.map_panel_type){case bQ.map_panel_types.Equirectangular:return bB.createElement(ko,{ref:b,className:"Equirectangular4"},bB.createElement(jZ,a));case bQ.map_panel_types.MapPanelNoZoom:return bB.createElement(ko,{ref:b,className:"WrappedMapPanel"},bB.createElement(i9,Object.assign({withZoom:!1},a)));case bQ.map_panel_types.ThreePanelV1:switch(a.slug){case"threev1":return bB.createElement(ko,null,bB.createElement(j4,a));case"threev2":return bB.createElement(ko,null,bB.createElement(j7,a));case"threev3":return bB.createElement(ko,null,bB.createElement(kl,a));default:return bB.createElement(ko,null,bB.createElement(j2,a))}case bQ.map_panel_types.TabiversePlanet:return bB.createElement(ko,null,bB.createElement(j$,a));case bQ.map_panel_types.ThreePanelV4:return bB.createElement(ko,null,bB.createElement(kn,a));case bQ.map_panel_types.GoogleMaps:return bB.createElement(ko,null,bB.createElement(jw,a));default:return fQ(null,"This map_panel_type is not implemented! ".concat(a.map.config.map_panel_type)),bB.createElement(ko,{ref:b,className:"WrappedMapPanel"},bB.createElement(i3,a))}}),kq=(bF.ZP.div(br||(br=(kg=["\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n  background: white;\n  padding: 5px;\n\n  display: flex;\n  flex-direction: column;\n"],kh||(kh=kg.slice(0)),Object.freeze(Object.defineProperties(kg,{raw:{value:Object.freeze(kh)}}))))),["features","label"]),kr=bF.ZP.div(bs||(bs=(ki=[""],kj||(kj=ki.slice(0)),Object.freeze(Object.defineProperties(ki,{raw:{value:Object.freeze(kj)}}))))),ks=function(a){var b=a.features,c=a.label;!function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,kq);var d=[];return b.map(function(a){a.inner_html&&d.push(bB.createElement(c3.Z,{item:!0,sm:3,dangerouslySetInnerHTML:{__html:a.inner_html}}))}),bB.createElement(bB.Fragment,null,c&&bB.createElement(kr,null,c),bB.createElement(c3.Z,{style:{marginBottom:"1em"},container:!0,spacing:2},d))};ks.propTypes={features:dc().arrayOf(dc().shape({inner_html:dc().string})),label:dc().string};var kt=ks;function ku(a,b){return kz(a)||ky(a,b)||kw(a,b)||kv()}function kv(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kw(a,b){if(a){if("string"==typeof a)return kx(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kx(a,b)}}function kx(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ky(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function kz(a){if(Array.isArray(a))return a}function kA(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(bt||(bt=kA(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])));var kB=bF.ZP.div(bu||(bu=kA(["\n  margin: 0;\n  padding-bottom: 1em;\n"]))),kC=function(a){var b=ku((0,bB.useState)({features:[],newsitems:[]}),2),c=b[0],d=b[1],e=ku((0,bB.useState)(!1),2),f=e[0],g=e[1],h=cW(),i=(0,bB.useRef)("init");return(0,bB.useEffect)(function(){return h.applicationHome().then(function(a){if(!i.current)return null;d(a),g(!1)}),function(){i.current=!1}},[]),bB.createElement(bB.Fragment,null,bB.createElement(kB,null,bB.createElement(du,null),bB.createElement(kt,{features:c.features}),bB.createElement(gz,{newsitems:c.newsitems})),bB.createElement(bJ.wh,{isOpen:f,onDidDismiss:function(){return g(!1)},message:"Please wait...",duration:5e3}))};function kD(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function kE(a,b){return kJ(a)||kI(a,b)||kG(a,b)||kF()}function kF(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kG(a,b){if(a){if("string"==typeof a)return kH(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kH(a,b)}}function kH(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function kI(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function kJ(a){if(Array.isArray(a))return a}function kK(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}bF.ZP.div(bv||(bv=kK(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])));var kL=bF.ZP.div(bw||(bw=kK(["\n  margin: 0;\n  padding-bottom: 1em;\n"]))),kM=function(a){var b=kE((0,bB.useState)({features:[],newsitems:[]}),2),c=b[0],d=b[1],e=(0,bB.useState)({features:[]}),f=kE(e,2),g=f[0];f[1];var h=(0,bB.useState)({features:[]}),i=kE(h,2),j=i[0];i[1];var k=(0,bB.useState)({features:[]}),l=kE(k,2),m=l[0];l[1];var n=(0,bB.useState)(!1),o=kE(n,2),p=o[0],q=o[1],r=cW(),s=(0,bB.useRef)("init");return(0,bB.useEffect)(function(){var a,b;return(b=(a=bD().mark(function a(){var b;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(s.current){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,r.applicationHome();case 4:fQ(b=a.sent,"zeDataZ"),d(b);case 7:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){kD(f,d,e,g,h,"next",a)}function h(a){kD(f,d,e,g,h,"throw",a)}g(void 0)})}),function(){return b.apply(this,arguments)})(),function(){s.current=!1}},[]),bB.createElement(bB.Fragment,null,bB.createElement(kL,null,bB.createElement(du,null),bB.createElement(kt,{features:m.features,label:"Interesting Locations"}),bB.createElement(kt,{features:j.features,label:"Interesting Tags"}),bB.createElement(kt,{features:g.features,label:"art"}),bB.createElement(gz,{newsitems:c.newsitems})),bB.createElement(bJ.wh,{isOpen:p,onDidDismiss:function(){return q(!1)},message:"Please wait...",duration:5e3}))},kN=c(41120);function kO(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var kP,kQ,kR=(0,kN.Z)(function(a){return{paper:{padding:a.spacing(2),textAlign:"center",color:a.palette.text.secondary},redBorder:{border:"1px solid red"},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}}),kS=bF.ZP.div(bx||(bx=(kP=["\n  border-bottom: 1px solid red;\n"],kQ||(kQ=kP.slice(0)),Object.freeze(Object.defineProperties(kP,{raw:{value:Object.freeze(kQ)}}))))),kT=function(a){fQ(a,"Video"),cW();var b=a.item;return bB.createElement(kS,{key:a.idx},bB.createElement("h5",null,"Video ",b.name),bB.createElement("p",null,"created ",b.created_at),bB.createElement("video",{controls:!0,preload:"metadata",type:"video/mp4",src:b.video_url,style:{maxWidth:"500px",maxHeight:"90vh"}}))},kU=function(){fQ(bH(),"Videos component"),console.log(JSON.stringify(bH()));var a,b,c=(a=(0,bB.useState)([]),b=2,function a(b){if(Array.isArray(b))return b}(a)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(a,b)||function a(b,c){if(b){if("string"==typeof b)return kO(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return kO(b,c)}}(a,b)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],e=c[1],f=localStorage.getItem("jwtToken"),g=kR(),h=cW();return(0,bB.useEffect)(function(){fQ("posting..."),fn.post(h.myVideosPath,{jwtToken:f}).then(function(a){return a.data}).then(function(a){var b=a.videos;fQ(b,"data"),e(b)})},[]),bB.createElement(f$.Z,{maxWidth:"md"},bB.createElement(c3.Z,{container:!0,className:g.root},bB.createElement(c3.Z,{item:!0,xs:12},bB.createElement("h2",null,"My Videos")),bB.createElement(c3.Z,{item:!0,xs:12},d&&d.map(function(a,b){return bB.createElement(kT,{key:b,item:a})}))))};c(11197),c(39463),c(86022),c(39487),c(66394),c(53232),c(71164),c(62943),c(7632),c(5971);function kV(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var kW,kX,kY=bF.ZP.div(by||(by=(kW=["\n  // border: 1px solid #741741;\n\n  background: ",";\n  height: 100vh;\n  overflow: auto;\n"],kX||(kX=kW.slice(0)),Object.freeze(Object.defineProperties(kW,{raw:{value:Object.freeze(kX)}})))),function(a){return a.theme.colors.background}),kZ=function(a){var b,c,d=(b=(0,bB.useState)(bQ.layout_onecol),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return kV(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return kV(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=d[0],f=d[1],g=function(a){switch(e){case bQ.layout_onecol:return bB.createElement(f$.Z,Object.assign({maxWidth:"md"},a));case bQ.layout_mapui:return bB.createElement(dw,a)}},h=function(a){return(0,bB.useEffect)(function(){a.layout?f(a.layout):f(bQ.layout_onecol)},[a.layout]),bB.createElement(bP.AW,a)};return bB.createElement(c4.VK,null,bB.createElement(cu,{useApi:cW},bB.createElement(b_,Object.assign({},a,{layout:e,setLayout:f}),bB.createElement(fL,null,bB.createElement(kY,null,bB.createElement(g,null,bB.createElement(bP.rs,{id:"main",main:!0},bB.createElement(bP.l_,{exact:!0,from:"/",to:bH().homePath}),bB.createElement(h,{exact:!0,path:"/en"},bB.createElement(kM,null)),bB.createElement(h,{exact:!0,path:"/en/account",component:eD}),bB.createElement(h,{exact:!0,path:"/en/account/my/videos",component:kU}),bB.createElement(h,{exact:!0,path:"/en/account/my/galleries",component:hp}),bB.createElement(h,{exact:!0,path:"/en/cities",component:ga}),bB.createElement(h,{path:"/en/cities/travel-to/:name",component:g7}),bB.createElement(h,{exact:!0,path:"/en/galleries/show/:slug",component:hi}),bB.createElement(h,{exact:!0,path:"/en/reports/show/:slug",component:iq}),bB.createElement(h,{exact:!0,path:"/en/locations/show/:slug",component:iK,layout:bQ.layout_mapui}),bB.createElement(h,{exact:!0,path:"/en/locations/show/:slug/:item_type/show/:item_slug",component:iK,layout:bQ.layout_mapui})))),bB.createElement(dl,null),bB.createElement(d7,null),bB.createElement(cY.Ix,null)))))},k$=["children"];function k_(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k0(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}var k1=bF.ZP.div(bz||(bz=k0(["\n  background: ",";\n  height: 100vh;\n  overflow: auto;\n"])),function(a){return a.theme.colors.background}),k2=(0,bF.ZP)(f$.Z)(bA||(bA=k0(["\n  padding: 0;\n  height: 100vh;\n  overflow: scroll;\n"]))),k3=function(a){fQ(a,"AppMobile");var b,c,d=(b=(0,bB.useState)(bQ.layout_onecol),c=2,function a(b){if(Array.isArray(b))return b}(b)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(b,c)||function a(b,c){if(b){if("string"==typeof b)return k_(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k_(b,c)}}(b,c)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=d[0],f=d[1],g=(0,bF.Fg)(),h=function(a){var b=a.children,c=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,k$),d={paddingBottom:(0,bB.useContext)(b0).bottomDrawerOpen?g.bottomDrawerOpenHeight:null};switch(e){case bQ.layout_onecol:return bB.createElement(k2,Object.assign({style:d,maxWidth:"md"},c),b);case bQ.layout_mapui:return bB.createElement(dy,Object.assign({style:d},c),b)}},i=function(a){return(0,bB.useEffect)(function(){a.layout?f(a.layout):f(bQ.layout_onecol)},[a.layout]),bB.createElement(bP.AW,a)};return bB.createElement(c4.VK,null,bB.createElement(cu,{useApi:cW},bB.createElement(b_,Object.assign({},a,{layout:e,setLayout:f}),bB.createElement(fL,null,e===bQ.layout_onecol&&bB.createElement(dN,{variant:bQ.variants.floating}),bB.createElement(k1,{className:"Root"},bB.createElement(h,{className:"Container"},bB.createElement(bP.rs,{id:"main",main:!0},bB.createElement(bP.l_,{exact:!0,from:"/",to:bH().homePath}),bB.createElement(i,{exact:!0,path:"/en"},bB.createElement(kC,null)),bB.createElement(i,{exact:!0,path:"/en/account",component:eD}),bB.createElement(i,{exact:!0,path:"/en/account/my/videos",component:kU}),bB.createElement(i,{exact:!0,path:"/en/account/my/galleries",component:hp}),bB.createElement(i,{exact:!0,path:"/en/cities",component:ga}),bB.createElement(i,{path:"/en/cities/travel-to/:name",component:g7}),bB.createElement(i,{exact:!0,path:"/en/galleries/show/:slug",component:hi}),bB.createElement(i,{exact:!0,path:"/en/reports/show/:slug",component:iq}),bB.createElement(i,{exact:!0,path:"/en/locations/show/:slug",component:iY,layout:bQ.layout_mapui}),bB.createElement(i,{exact:!0,path:"/en/locations/show/:slug/:item_type/show/:item_slug",component:iY,layout:bQ.layout_mapui})))),bB.createElement(dl,null),bB.createElement(d7,null),bB.createElement(cq,null),bB.createElement(cr,null),bB.createElement(cY.Ix,null)))))};function k4(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k5(a,b){return la(a)||k9(a,b)||k7(a,b)||k6()}function k6(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k7(a,b){if(a){if("string"==typeof a)return k8(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k8(a,b)}}function k8(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k9(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}function la(a){if(Array.isArray(a))return a}var lb=function(a){var b,c,d=k5((0,bB.useState)(null),2),e=d[0],f=d[1];(c=(b=bD().mark(function a(){var b;return bD().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,bE.A.getInfo();case 2:f((b=a.sent).operatingSystem);case 4:case"end":return a.stop()}},a)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k4(f,d,e,g,h,"next",a)}function h(a){k4(f,d,e,g,h,"throw",a)}g(void 0)})}),function(){return c.apply(this,arguments)})();var g=k5((0,bB.useState)(window.localStorage.getItem(bQ.theme)||bQ.themes.light),2),h=g[0],i=g[1],j=function(a){h===bQ.themes.light?(window.localStorage.setItem(bQ.theme,bQ.themes.dark),i(bQ.themes.dark)):(window.localStorage.setItem(bQ.theme,bQ.themes.light),i(bQ.themes.light))},k={theme:h,toggleTheme:j};return e?bB.createElement(bF.f6,{theme:h==bQ.themes.light?fu.lightTheme:fu.darkTheme},"ios android".includes(e)?bB.createElement(k3,k):bB.createElement(kZ,k)):null};function lc(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var ld=function(){var a,b,c=(a=(0,bB.useState)(!1),b=2,function a(b){if(Array.isArray(b))return b}(a)||function a(b,c){var d,e,f=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=f){var g=[],h=!0,i=!1;try{for(f=f.call(b);!(h=(d=f.next()).done)&&(g.push(d.value),!c||g.length!==c);h=!0);}catch(j){i=!0,e=j}finally{try{h||null==f.return||f.return()}finally{if(i)throw e}}return g}}(a,b)||function a(b,c){if(b){if("string"==typeof b)return lc(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(b);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return lc(b,c)}}(a,b)||function a(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=c[0],e=c[1];return((0,bB.useEffect)(function(){e(!0)},[]),d)?bB.createElement(lb,null):null}},39865:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...app]]",function(){return c(70402)}])},89049:function(a){a.exports={MarkerModal:"Markers_MarkerModal__fpXAb",MarkerModalOverlay:"Markers_MarkerModalOverlay__K7qz9"}},65583:function(a,b,c){var d={"./ion-accordion_2.entry.js":[76333,6333],"./ion-action-sheet.entry.js":[93005,3005],"./ion-alert.entry.js":[39873,9873],"./ion-app_8.entry.js":[14539,4539],"./ion-avatar_3.entry.js":[6969,6969],"./ion-back-button.entry.js":[41568,1568],"./ion-backdrop.entry.js":[17310,7310],"./ion-breadcrumb_2.entry.js":[32173,2173],"./ion-button_2.entry.js":[56897,6897],"./ion-card_5.entry.js":[40074,74],"./ion-checkbox.entry.js":[70748,748],"./ion-chip.entry.js":[17141,7141],"./ion-col_3.entry.js":[62360,2360],"./ion-datetime_3.entry.js":[40407,407],"./ion-fab_3.entry.js":[27805,7805],"./ion-img.entry.js":[35228,5228],"./ion-infinite-scroll_2.entry.js":[51853,1853],"./ion-input.entry.js":[7260,7260],"./ion-item-option_3.entry.js":[30920,920],"./ion-item_8.entry.js":[75477,5477],"./ion-loading.entry.js":[47184,7184],"./ion-menu_3.entry.js":[47951,7951],"./ion-modal.entry.js":[38648,8648],"./ion-nav_2.entry.js":[46661,6661],"./ion-picker-column-internal.entry.js":[86415,6415],"./ion-picker-internal.entry.js":[31080,1080],"./ion-popover.entry.js":[46670,6670],"./ion-progress-bar.entry.js":[59412,9412],"./ion-radio_2.entry.js":[41759,1759],"./ion-range.entry.js":[51824,1824],"./ion-refresher_2.entry.js":[65048,5048],"./ion-reorder_2.entry.js":[96724,6724],"./ion-ripple-effect.entry.js":[11963,1963],"./ion-route_4.entry.js":[2050,2050],"./ion-searchbar.entry.js":[13734,3734],"./ion-segment_2.entry.js":[3374,3374],"./ion-select_3.entry.js":[77788,7788],"./ion-slide_2.entry.js":[71738,1738],"./ion-spinner.entry.js":[14955,4955],"./ion-split-pane.entry.js":[38451,7115],"./ion-tab-bar_2.entry.js":[53355,3355],"./ion-tab_2.entry.js":[66390,6390],"./ion-text.entry.js":[50116,116],"./ion-textarea.entry.js":[39122,9122],"./ion-toast.entry.js":[65123,5123],"./ion-toggle.entry.js":[15151,5151],"./ion-virtual-scroll.entry.js":[91697,1697]};function e(a){if(!c.o(d,a))return Promise.resolve().then(function(){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b});var b=d[a],e=b[0];return c.e(b[1]).then(function(){return c(e)})}e.keys=function(){return Object.keys(d)},e.id=65583,a.exports=e},1711:function(a){function b(a){return Promise.resolve().then(function(){var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b})}b.keys=function(){return[]},b.resolve=b,b.id=1711,a.exports=b},62859:function(){},75304:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},69386:function(){},31616:function(){},29120:function(){},46586:function(){},6567:function(){},43503:function(){},92407:function(){},33557:function(){}},function(a){a.O(0,[9774,3482,3174,6302,7492,3737,3714,6864,2888,179],function(){var b;return a(a.s=39865)}),_N_E=a.O()}])