"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{303:function(e,n,s){s.r(n),s.d(n,{FacebookLoginWeb:function(){return o}});var t=s(9895);class o extends t.Uw{constructor(){super({name:"FacebookLogin",platforms:["web"]})}initialize(e){let n={version:"v10.0"};return new Promise((s,t)=>{try{return this.loadScript(e.locale).then(()=>{FB.init(Object.assign(Object.assign({},n),e)),s()})}catch(o){t(o)}})}loadScript(e){if("undefined"==typeof document)return Promise.resolve();let n=null==document?void 0:document.getElementById("fb");if(n)return Promise.resolve();let s=document.getElementsByTagName("head")[0],t=document.createElement("script");return new Promise(n=>{t.defer=!0,t.async=!0,t.id="fb",t.onload=()=>{n()},t.src=`https://connect.facebook.net/${null!=e?e:"en_US"}/sdk.js`,s.appendChild(t)})}async login(e){return console.log("FacebookLoginWeb.login",e),new Promise((n,s)=>{FB.login(e=>{console.debug("FB.login",e),"connected"===e.status?n({accessToken:{token:e.authResponse.accessToken}}):s({accessToken:{token:null}})},{scope:e.permissions.join(",")})})}async logout(){return new Promise(e=>{FB.logout(()=>e())})}async reauthorize(){return new Promise(e=>{FB.reauthorize(n=>e(n))})}async getCurrentAccessToken(){return new Promise((e,n)=>{FB.getLoginStatus(s=>{if("connected"===s.status){let t={accessToken:{applicationId:void 0,declinedPermissions:[],expires:void 0,isExpired:void 0,lastRefresh:void 0,permissions:[],token:s.authResponse.accessToken,userId:s.authResponse.userID}};e(t)}else n({accessToken:{token:null}})})})}async getProfile(e){let n=e.fields.join(",");return new Promise((e,s)=>{FB.api("/me",{fields:n},n=>{if(n.error){s(n.error.message);return}e(n)})})}}}}]);