(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5499],{379:function(e,t,n){var r={"./ion-action-sheet.entry.js":[8451,8451],"./ion-alert.entry.js":[8550,8550],"./ion-app_8.entry.js":[1006,1006],"./ion-avatar_3.entry.js":[9169,9169],"./ion-back-button.entry.js":[9112,9112],"./ion-backdrop.entry.js":[9389,9389],"./ion-button_2.entry.js":[7733,7733],"./ion-card_5.entry.js":[2011,2011],"./ion-checkbox.entry.js":[3562,3562],"./ion-chip.entry.js":[2185,2185],"./ion-col_3.entry.js":[7478,7478],"./ion-datetime_3.entry.js":[9440,9440],"./ion-fab_3.entry.js":[6608,6608],"./ion-img.entry.js":[8014,8014],"./ion-infinite-scroll_2.entry.js":[6270,6270],"./ion-input.entry.js":[2865,2865],"./ion-item-option_3.entry.js":[964,964],"./ion-item_8.entry.js":[7419,7419],"./ion-loading.entry.js":[9740,9740],"./ion-menu_3.entry.js":[9936,9936],"./ion-modal.entry.js":[3731,3731],"./ion-nav_2.entry.js":[4288,4288],"./ion-popover.entry.js":[6560,6560],"./ion-progress-bar.entry.js":[5051,5051],"./ion-radio_2.entry.js":[2932,2932],"./ion-range.entry.js":[6074,6074],"./ion-refresher_2.entry.js":[8290,8290],"./ion-reorder_2.entry.js":[3479,3479],"./ion-ripple-effect.entry.js":[4905,4905],"./ion-route_4.entry.js":[5095,5095],"./ion-searchbar.entry.js":[7421,2880],"./ion-segment_2.entry.js":[3806,3806],"./ion-select_3.entry.js":[6306,7421],"./ion-slide_2.entry.js":[4208,4208],"./ion-spinner.entry.js":[3046,3046],"./ion-split-pane.entry.js":[4774,4774],"./ion-tab-bar_2.entry.js":[3196,3196],"./ion-tab_2.entry.js":[3965,3965],"./ion-text.entry.js":[2516,2516],"./ion-textarea.entry.js":[2117,2117],"./ion-toast.entry.js":[4617,4617],"./ion-toggle.entry.js":[9125,9125],"./ion-virtual-scroll.entry.js":[9480,9480]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=379,e.exports=o},3414:function(e){"use strict";e.exports={appIndexPath:"src/index",apiOrigin:"",domain:"tgm.piousbox.com",debug:!1,REACT_ENV:"N/A",requireLogin:!0,siteTitle:"Infinite Shelter - Location Discovery Guide",stripePublicKey:""}},5553:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(3414);e.exports=o(o({},i),{apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",debug:!1,GOOGLE_MAPS_KEY:"AIzaSyCPzonnRCpTIUJauMMQcL3k69Vm5O8vz3M",APP_ENV:"development_web",homePath:"/en/locations/show/root",REACT_ENV:"production_ish",requireLogin:!1,stripePublicKey:"pk_live_xQX97vdZNe11A3HBVZc1GX6H"})},8433:function(e,t,n){"use strict";n.d(t,{X:function(){return p}});var r=n(7294),o=n(3727),a=n(6775),i=n(5553),l=n.n(i),c=n(8935),u=n(6707),s=n(3204),d=n(5502),f=n(8085),p={item:function e(t){t.item_type?e=t:(e=t.item,n=t.location);var e,n,r=e,o=r.item_type,a=r.slug;return(a||(a=e.id),o===f.C.item_types.location)?"/en/locations/show/".concat(a):n?"/en/locations/show/".concat(n.slug,"/").concat(f.$z.tableize(o),"/show/").concat(a):"/en/".concat(f.$z.tableize(o),"/show/").concat(a)},gallery:function(e){var t=e.location,n=e.location_slug,r=e.slug;return n?"/en/locations/show/".concat(n,"/galleries/show/").concat(r):t?"/en/locations/show/".concat(t.slug,"/galleries/show/").concat(r):"/en/galleries/show/".concat(r)},location:function(e){var t=e.slug,n=e.newsitems_page,r=n?"newsitems_page=".concat(n):"";return"/en/locations/show/".concat(t,"?").concat(r)}},m=function(e){return r.createElement(o.VK,null,r.createElement(a.rs,{main:!0},r.createElement(a.l_,{exact:!0,from:"/",to:l().homePath}),r.createElement(a.AW,{exact:!0,path:"/en/account",component:d.mR}),r.createElement(a.AW,{exact:!0,path:"/en/galleries/show/:slug",component:c.q}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show/:slug",component:u.qm,layout:f.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show/:slug/:item_type/show/:item_slug",component:u.qm,layout:f.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show2/:slug",component:u.qm,layout:f.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show3d/:slug",component:u.HZ,layout:f.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/reports/show/:slug",component:s.X})))};t.Z=m},8233:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(7294),o=n(2132),a=n(9430),i=n(179),l=n(8085),c=n(8433);n(1197),n(9463),n(6022),n(9487),n(5505),n(3232),n(1164),n(2943),n(7632),n(5971);var u=a.ZP.div.withConfig({displayName:"WrappedApp__Root",componentId:"sc-lecg9m-0"})(["padding:var(--ion-small-padding);"]),s=function(e){return!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),r.createElement(l.wI,null,r.createElement(u,{className:"Root"},r.createElement(c.Z,null)),r.createElement(i.lY,null),r.createElement(o.Ix,{position:"bottom-left"}))};s.propTypes={},t.Z=s},2947:function(e,t,n){"use strict";n.d(t,{zF:function(){return C},h9:function(){return g},LW:function(){return I},Nd:function(){return T},AO:function(){return N}});var r=n(5697),o=n.n(r),a=n(7294),i=n(9430),l=n(8085),c=["children"],u=["children","variant"],s=["children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var y=a.createContext({}),g=function(e){var t,n=e.children;h(e,c);var r=m({},l.C.collapsible.descr,!0);try{(t=localStorage.getItem(l.C.collapsibles))&&(r=JSON.parse(t))}catch(o){(0,l.IJ)(o,"Could not parse collapsibles from localStorage")}var i,u=function(e){if(Array.isArray(e))return e}(i=(0,a.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(i,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=u[0],d=u[1],f=function(e){localStorage.setItem(l.C.collapsibles,JSON.stringify(e)),d(e)};return a.createElement(y.Provider,{value:{collapsibles:s,setCollapsibles:f}},n)},v=function(){return a.createElement("span",null,"\xa0>\xa0\xa0")},w=i.ZP.div.withConfig({displayName:"Collapsible__Inner",componentId:"sc-92wcj7-0"})(["clear:left;"]),_=function(){return a.createElement("span",null,"\xa0<\xa0\xa0")},b=i.ZP.div.withConfig({displayName:"Collapsible__Label",componentId:"sc-92wcj7-1"})(["display:flex;margin-bottom:",";color:",";"],function(e){return e.theme.borderWidth},function(e){return e.theme.colors.text}),E=i.ZP.div.withConfig({displayName:"Collapsible__WTransparent",componentId:"sc-92wcj7-2"})(["padding:0 .5em .5em .5em;"]),x=function(e){var t=e.children,n=e.variant,r=h(e,u);return n===l.C.variants.bordered?a.createElement(l.xP,r,t):a.createElement(E,r,t)},k=function(e){var t=e.children,n=h(e,s),r=n.className,o=n.config,i=void 0===o?{}:o,l=n.slug,c=n.variant,u=(0,a.useContext)(y),d=u.collapsibles,p=u.setCollapsibles,g=function(){return p(f(f({},d),{},m({},l,!d[l])))},E=void 0===i.collapsible||i.collapsible,k=!!E&&!!d[l];return a.createElement(x,{variant:c,className:"Collapsible ".concat(void 0===r?"":r)},n.label&&E&&a.createElement(b,{onClick:g},k?a.createElement(_,null):a.createElement(v,null)," ",n.label),n.label&&!E&&a.createElement(b,null,n.label),!k&&a.createElement(w,null,t))};k.propTypes={className:o().string,config:o().shape({collapsible:o().bool}),label:o().string,slug:o().string.isRequired,variant:o().string};var C=k,P=i.ZP.div.withConfig({displayName:"LongLine",componentId:"sc-1nwgz2l-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);flex-grow:1;width:",";height:",";padding:2px;background:",";"],function(e){return e.orientation===l.C.horizontal?"auto":"10px"},function(e){return e.orientation===l.C.horizontal?"10px":"auto"},function(e){return e.theme.colors.background});P.propTypes={orientation:o().string};var I=P,L=["children"];function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=a.createContext({}),N=function(e){var t,n=e.children,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,L);r.currentUser,r.setCurrentUser;var o=r.itemToUnlock,i=r.setItemToUnlock,c=r.layout,u=r.setLayout,s=r.showItem,d=r.setShowItem,f=r.zoom,p=void 0===f?1:f,m=r.setZoom,h=O((0,a.useState)(!0),2),y=h[0],g=h[1],v=function(e){try{localStorage.setItem(l.C.bottomDrawerOpen,JSON.stringify(e))}catch(t){}g(e)};(0,a.useEffect)(function(){try{var e=JSON.parse(localStorage.getItem(l.C.bottomDrawerOpen));g(e)}catch(t){}},[]);var w=O((0,a.useState)(!1),2),_=w[0],b=w[1],E=O((0,a.useState)(),2),x=E[0],k=E[1],C=x===l.C.foldedLeft,P=x===l.C.foldedRight,I=O((0,a.useState)({}),2),S=I[0],N=I[1];o||(o=S,i=N);var T=O((0,a.useState)(null),2),A=T[0],j=T[1],D=O((0,a.useState)(null),2),R=D[0],z=D[1],Z=O((0,a.useState)(!1),2),F=Z[0],U=Z[1],W=O((0,a.useState)(!0),2),G=W[0],V=W[1],H=O((0,a.useState)(0),2),B=H[0],q=H[1],J=function(){return q(B+1)},Y=O((0,a.useState)(!1),2),X=Y[0],K=Y[1];d&&(K=d),s&&(X=s);var Q=O((0,a.useState)(!1),2),ee=Q[0],et=Q[1];try{t=JSON.parse(localStorage.getItem(l.C.twofoldPercent))}catch(en){}var er=(0,a.useState)(t||.5),eo=O(er,2),ea=eo[0],ei=eo[1],el=function(e){try{localStorage.setItem(l.C.twofoldPercent,JSON.stringify(e))}catch(t){}ei(e)},ec=O((0,a.useState)(1),2),eu=ec[0],es=ec[1];return m||(p=eu,m=es),a.createElement(M.Provider,{value:{bottomDrawerOpen:y,setBottomDrawerOpen:v,editorMode:_,setEditorMode:b,folded:x,setFolded:k,foldedLeft:C,foldedRight:P,itemToUnlock:o,setItemToUnlock:i,layout:c,setLayout:u,mapPanelHeight:R,setMapPanelHeight:z,mapPanelWidth:A,setMapPanelWidth:j,purchaseModalOpen:F,setPurchaseModalOpen:U,ratedConfirmation:G,setRatedConfirmation:V,resizeCount:B,touchResize:J,showItem:X,setShowItem:K,showUrl:ee,setShowUrl:et,twofoldPercent:ea,setTwofoldPercent:el,zoom:p,setZoom:m}},n)},T=M},179:function(e,t,n){"use strict";n.d(t,{lY:function(){return _},Oo:function(){return S},rC:function(){return A},_I:function(){return z},to:function(){return et},fv:function(){return eu},ce:function(){return ey}});var r=n(1682),o=n(7812),a=n(7294),i=n(9430),l=n(7918),c=n.n(l),u=n(7044);n(9857);var s=n(2947),d=n(5502),f=n(8085),p=(0,i.ZP)(r.ZP).withConfig({displayName:"BottomDrawer__Drawer",componentId:"sc-1cfcaai-0"})([".MuiDrawer-paper{background:",";z-index:0;}.MuiDrawer-paperAnchorDockedBottom{border-top:0;}"],function(e){return e.theme.colors.background});function m(e){return new(c())(e)}var h=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner0",componentId:"sc-1cfcaai-1"})(["display:flex;align-items:flex-start;color:",";"],function(e){return e.theme.colors.text}),y=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner1",componentId:"sc-1cfcaai-2"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);height:calc("," + 1*",");margin:",";flex-grow:1;"],function(e){return e.theme.bottomDrawerOpenHeight},function(e){return e.theme.borderHeight},function(e){return e.theme.borderWidth}),g=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner2",componentId:"sc-1cfcaai-3"})(["height:100px;display:flex;"]),v=i.ZP.div.withConfig({displayName:"BottomDrawer__WClosed",componentId:"sc-1cfcaai-4"})(["position:absolute;bottom:-10px;width:calc(100% - 2*",");display:flex;align-items:center;"],function(e){return e.theme.borderWidth}),w=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,a.useContext)(s.Nd),n=t.bottomDrawerOpen,r=t.setBottomDrawerOpen;return a.createElement(a.Fragment,null,a.createElement(v,null,a.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return r(!0)}},a.createElement(f.Oq,{fontSize:"small"})),a.createElement(s.LW,{orientation:f.C.horizontal})),a.createElement(p,{anchor:"bottom",elevation:1,open:!!n,onClose:function(){return r(!1)},BackdropProps:{invisible:!0},variant:"persistent"},a.createElement(h,null,a.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return r(!1)},style:{paddingRight:0}},a.createElement(f.Oq,{fontSize:"small"})),a.createElement(y,null,a.createElement(g,null,a.createElement(u.Ht,{getLibrary:m},a.createElement(d.pu,null)))))))};w.propTypes={};var _=w,b=n(5697),E=n.n(b),x=n(5553),k=n.n(x),C=i.ZP.a.withConfig({displayName:"Breadcrumbs__B0",componentId:"sc-1yfagtc-0"})(["color:var(--ion-color);display:block;"]),P=i.ZP.div.withConfig({displayName:"Breadcrumbs__B1",componentId:"sc-1yfagtc-1"})(["padding:0.5em;color:var(--ion-color);"]),I=i.ZP.div.withConfig({displayName:"Breadcrumbs__W0",componentId:"sc-1yfagtc-2"})(["border:","px solid cyan;display:flex;align-items:center;justify-content:stretch;z-index:0;"],function(e){return e.debug?"1":"0"}),L=i.ZP.div.withConfig({displayName:"Breadcrumbs__WBreadcrumbs",componentId:"sc-1yfagtc-3"})(["display:block;flex-grow:1;> *{display:inline;}"]),O=function(e){var t=e.breadcrumbs,n=(0,(0,a.useContext)(f.Il).useHistory)(),r=[];return(void 0===t?[]:t).map(function(t,o){if(o+1===e.breadcrumbs.length)r.push(a.createElement(C,{key:o},t.name));else{var i=f.XO.location({slug:t.slug}),l=function(e){e.preventDefault(),n.push(i)};r.push(a.createElement(C,{key:o,href:i,onClick:l},t.name)),r.push(a.createElement(P,{key:"".concat(o,"-divider")},">"))}}),a.createElement(I,{debug:k().debug,className:"Breadcrumbs"},a.createElement(eu,{variant:f.C.variants.inline}),a.createElement(L,{className:"WBreadcrumbs"},r),a.createElement(A,null))};O.propTypes={breadcrumbs:E().arrayOf(E().shape({name:E().string.isRequired,slug:E().string.isRequired}))};var S=O,M=n(652),N=n.n(M),T=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,a.useContext)(f.Ni),n=t.theme,r=t.toggleTheme;return a.createElement("div",{className:"DaynightToddle ".concat(N().container),onClick:r},a.createElement("div",{className:N().switch},a.createElement("label",{htmlFor:"toggle"},a.createElement("input",{readOnly:!0,type:"checkbox",checked:n===f.C.themes.dark}),a.createElement("div",{className:N().sunMoon},a.createElement("div",{className:N().dots})),a.createElement("div",{className:N().background},a.createElement("div",{className:N().stars1}),a.createElement("div",{className:N().stars2})))))};T.propTypes={};var A=T,j=n(6567),D=n.n(j),R=i.ZP.div.withConfig({displayName:"Metaline__W0",componentId:"sc-d7epka-0"})(["margin:.5em 0;color:",";"],function(e){return e.theme.colors.text}),z=function(e){var t=e.created_at,n=(e.city,e.tags,e.username);return a.createElement(R,{className:D().Metaline},t&&a.createElement("span",{className:"date"},"On ",(0,f.KW)(t),"\xa0"),n&&a.createElement(a.Fragment,null,"by ",a.createElement("span",{className:"user",style:{textDecoration:"underline"}},n),"\xa0"))},Z=n(3253),F=n.n(Z),U=n(2132),W=n(6664),G=n(4465),V=n(2661),H=n(6681),B=n.n(H);function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function J(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){J(a,r,o,i,l,"next",e)}function l(e){J(a,r,o,i,l,"throw",e)}i(void 0)})}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=i.ZP.div.withConfig({displayName:"PurchaseModal__FlexRow",componentId:"sc-v4mx5w-0"})([""]),Q=(0,G.J)(k().stripePublicKey),ee=function(e){var t,n,r=(0,a.useContext)(V.Vo),o=(r.currentUser,r.setCurrentUser),i=(0,a.useContext)(s.Nd),l=i.purchaseModalOpen,c=i.setPurchaseModalOpen,u=(0,f.h_)(),d=(0,W.useStripe)(),p=(0,W.useElements)(),m=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(50))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],g=(n=Y(q().mark(function e(t){var n,r,a;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!d||!p)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u.initPayment({amountCents:h});case 5:return n=e.sent,e.next=8,d.confirmCardPayment(n.client_secret,{payment_method:{card:p.getElement(W.CardElement)}});case 8:(r=e.sent).error?((0,U.Am)("We are sorry, but something went wrong."),(0,f.IJ)(r.error.message,"e41 - cannot buyUnlocks()")):"succeeded"===r.paymentIntent.status&&(a=setInterval(Y(q().mark(function e(){var t;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getMyAccount();case 2:t=e.sent,(0,f.IJ)(t,"tr2 success"),t.is_purchasing||((0,f.IJ)("clearing interval!"),o(t),c(!1),clearInterval(a));case 5:case"end":return e.stop()}},e)})),500),setTimeout(function(){return clearInterval(a)},1e4));case 10:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});return F().setAppElement("body"),a.createElement(F(),{className:"PurchaseModal ".concat(B().LoginModal),isOpen:l,overlayClassName:B().LoginModalOverlay,portalClassName:B().LoginModalPortal},a.createElement(V.xB,{onClose:function(){c(!1)}},"Buy unlocks"),a.createElement("form",{onSubmit:g},a.createElement(K,null,"How many cents would you pay for 1 coin? Minimum 50 cents.",a.createElement("input",{value:h,onChange:function(e){return y(e.target.value)}})),a.createElement(W.CardElement,null),a.createElement("button",{type:"submit",disabled:!d},"Pay")))},et=function(e){return a.createElement(W.Elements,{stripe:Q},a.createElement(ee,e))};n(8816);var en=n(3758),er=n(2822),eo=n(998);function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el=i.ZP.div.withConfig({displayName:"SideMenu__W0",componentId:"sc-ove78m-0"})(["height:100vh;display:flex;flex-direction:column;justify-content:space-between;align-content:space-between;"]),ec=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,a.useContext)(f.Il).useHistory,o=ea(a.useState(!1),2),i=o[0],l=o[1],c=ea((0,a.useState)(!1),2);c[0],c[1];var u=n(),d=(0,a.useContext)(s.Nd),p=d.currentUser;return d.setCurrentUser,a.createElement(a.Fragment,null,e.variant===f.C.variants.floating?a.createElement(en.Z,{onClick:function(){return l(!0)},style:{position:"absolute",top:0,left:0,margin:".5em"},"aria-label":"main menu"},a.createElement(f.Oq,null)):a.createElement(f.Oq,{onClick:function(){return l(!0)}}),a.createElement(r.ZP,{anchor:"left",open:i,onClose:function(){return l(!1)}},a.createElement(el,null,a.createElement(er.Z,null,a.createElement(eo.Z,{button:!0,key:"newsfeed",onClick:function(){l(!1),u.push(k().homePath)}},"Home"),p&&(null===(t=p.bookmarks)||void 0===t?void 0:t.map(function(e,t){return a.createElement(eo.Z,{button:!0,key:t,onClick:function(){l(!1),u.push("/en/locations/show/".concat(e.slug))}},a.createElement("span",null,e.name))})),a.createElement(eo.Z,null,"REACT_ENV: ",k().REACT_ENV)))))};ec.propTypes={variant:E().string};var eu=ec,es=n(6707),ed=n(8433),ef=n(2293);function ep(){ep=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function em(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var eh=i.ZP.div.withConfig({displayName:"UnlockModal__BtnRow",componentId:"sc-wbtxk-0"})(["display:flex;justify-content:space-around;"]),e$=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,r=(0,(0,a.useContext)(f.Il).useHistory)(),o=(0,a.useContext)(V.Vo),i=o.currentUser,l=o.setCurrentUser,c=(o.loginModalOpen,o.setLoginModalOpen),u=o.useApi,d=(0,a.useContext)(es.LZ),p=(0,a.useContext)(s.Nd),m=p.itemToUnlock,h=p.setItemToUnlock,y=(p.purchaseModalOpen,p.setPurchaseModalOpen),g=(p.ratedConfirmation,p.setRatedConfirmation),v=u(),w=(n=(t=ep().mark(function e(){return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doUnlock({kind:m.item_type,id:m.id}).then(function(e){(0,f.IJ)(e,"UnlockModal Unlocked"),h({}),l(e),r.push(ed.X.item({item:m,location:d}))}).catch(function(e){(0,f.IJ)(e,"e19 - cannot doUnlock")});case 2:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){em(a,r,o,i,l,"next",e)}function l(e){em(a,r,o,i,l,"throw",e)}i(void 0)})}),function(){return n.apply(this,arguments)});if(!(null!=m&&m.id))return null;var _=void 0===m.closable||m.closable,b=function(){h({}),g(!0),r.push(k().homePath)},E=m.premium_tier;return F().setAppElement("body"),a.createElement(F(),{isOpen:!!m.id,className:"UnlockModal ".concat(ef.UnlockModal),overlayClassName:ef.UnlockModalOverlay,portalClassName:ef.UnlockModalPortal},a.createElement(V.xB,{onClose:function(){return _&&h(!1)}},"Unlock this item?"),a.createElement("p",null,"To access this content, please unlock it first. It costs ",E," coin(s) to unlock."),i.email&&a.createElement(a.Fragment,null,a.createElement("p",null,"You have ",a.createElement("b",null,i.n_unlocks||"-")," unlocks."),i.n_unlocks>=E&&a.createElement(f.un,{className:"doUnlock",onClick:w},"Unlock")||a.createElement(a.Fragment,null,a.createElement("p",null,"You don't have enough unlocks."),a.createElement(f.un,{onClick:function(){y(!0),h(!1)}},"Purchase more.")))||a.createElement(a.Fragment,null,a.createElement("p",null,"You have to be logged in to unlock content. ",a.createElement("a",{onClick:function(){c(!0),h(!1)}},"Please login."))),a.createElement(eh,null,!_&&a.createElement(f.un,{onClick:b},"Go Home")))};e$.propTypes={};var ey=e$},8935:function(e,t,n){"use strict";n.d(t,{q:function(){return p}});var r=n(8816),o=n(7294),a=n(9430),i=n(179),l=n(2947),c=n(8085),u=n(6468),s=n.n(u);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=a.ZP.div.withConfig({displayName:"GalleriesShow__W0",componentId:"sc-1742rhv-0"})(["height:auto;"]),p=function(e){var t,n=e.match,a=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)({}))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],p=a[1],m=(0,o.useRef)("init"),h=(0,o.useContext)(l.Nd),y=h.itemToUnlock,g=h.setItemToUnlock,v=(0,c.h_)();return(0,o.useEffect)(function(){return v.getGallery(n.params.slug).then(function(e){m.current&&((0,c.IJ)(e,"_gallery"),e.is_premium&&!e.is_purchased?g(e):p(e))}),function(){m.current=null}},[u.id,y.id]),o.createElement(f,{className:s().GalleriesShow},o.createElement("div",{className:s().narrow},o.createElement("h1",{className:s().heading},o.createElement(c.a5,null),o.createElement("span",{className:s().title},u.name)),o.createElement(i._I,u),o.createElement("div",{className:s().thumbs},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().card,key:t},o.createElement("div",null,o.createElement(r.Xz,{src:e.thumb_url})))})),o.createElement("div",{dangerouslySetInnerHTML:{__html:u.description}})),o.createElement("div",{className:s().full_img_section},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().item,key:t},o.createElement("img",{src:e.large_url}))})))}},6707:function(e,t,n){"use strict";n.d(t,{Tv:function(){return d},LZ:function(){return S},vR:function(){return M},QH:function(){return N},N2:function(){return tT},qm:function(){return tF},HZ:function(){return nU},I8:function(){return nB},fg:function(){return nY}});var r=n(7294),o=n(9430),a=n(8085);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=o.ZP.div.withConfig({displayName:"ConferenceRoom__W0",componentId:"sc-q97saq-0"})([""]),u="ce7abac6-5fa5-11ed-9b6a-0242ac120002",s=function(e){(0,a.IJ)(e,"ConferenceRoom");var t,n=io("ws://localhost:3030"),o=i((0,r.useState)(n.connected),2),l=o[0],s=o[1],d=i((0,r.useState)(null),2),f=d[0],p=d[1],m=i((0,r.useState)(),2),h=m[0],y=m[1];(0,a.IJ)(h,"myId");var g=(0,r.useRef)(),v=document.createElement("video");v.muted=!0,(0,r.useEffect)(function(){return l&&(peer.on("open",function(e){(0,a.IJ)(e,"peer onOpen Id"),y(e),t=peer.connect(u),n.emit("join",{roomId:u,myId:e})}),peer.on("connection",function(e){(0,a.IJ)(e,"peer onConnection"),e.on("data",function(e){(0,a.IJ)(e,"Peer OnData")}),e.on("open",function(){(0,a.IJ)([],"peer OnOpen"),e.send("Pong")})}),peer.on("call",function(e){(0,a.IJ)(e,"peer OnCall"),navigator.mediaDevices.getUserMedia({video:!1,audio:!1},function(t){e.answer(t),e.on("stream",function(e){(0,a.IJ)("show the stream in a <video> element 2")})},function(e){console.error("Failed to get local stream 2",e)})})),function(){}},[l]);var w=function(){n.off("connect"),n.off("disconnect"),n.off("pong"),n.off("joined")};(0,r.useEffect)(function(){return n.on("connect",function(){s(!0)}),h&&(n.on("disconnect",function(){(0,a.IJ)("socket disconnected"),s(!1)}),n.on("pong",function(){p(new Date().toISOString())}),n.on("joined",function(e){(0,a.IJ)(e,"socket OnJoined");var t=e.id;t!==h&&((0,a.IJ)([],"Calling..."),navigator.mediaDevices.getUserMedia({video:!1,audio:!1},function(e){peer.call(t,e).on("stream",function(e){(0,a.IJ)("show the stream in a <video> element")})},function(e){console.error("Failed to get local stream",e)}))})),w},[h]);var _=function(){n.emit("ping")},b=function(e,t){var n=peer.call(e,t),r=document.createElement("video");n.on("stream",function(e){x(r,e)})},E=(0,r.useRef)(),x=function(e,t){E.current&&(E.current.srcObject=t),e.addEventListener("loadedmetadata",function(){e.play()})};return navigator.mediaDevices.getUserMedia({video:!1,audio:!1}).then(function(e){x(v,e),peer.on("call",function(t){t.answer(e);var n=document.createElement("video");t.on("stream",function(e){x(n,e)})}),n.on("user-connected",function(t){b(t,e)})}),r.createElement(c,null,r.createElement("p",null,"myId: ",h," Connected: ",""+l),r.createElement("p",null,"Last pong: ",f||"-",r.createElement("button",{onClick:_},"Send ping")),r.createElement("div",{id:"videoGrid",ref:g,style:{width:"500px",height:"400px",border:"1px solid red"}},r.createElement("audio",{controls:!0,volume:"true",autoPlay:!0,ref:E})))};s.propTypes={};var d=s;n(3935);var f=n(7212),p=n(5553),m=n.n(p),h=["onClick","onIdle","children","style"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=e.map,n=w(r.useState([]),2),o=n[0],a=n[1],i=w(r.useState(12),2),l=i[0],c=i[1],u=w(r.useState({lat:t.x,lng:t.y}),2),s=u[0],d=u[1],p=function(e){},h=function(e){e.getZoom()&&c(e.getZoom()),e.getCenter()&&d(e.getCenter().toJSON())},y=r.createElement("div",{style:{display:"none",padding:"1rem",flexBasis:"250px",height:"100%",overflow:"auto"}},r.createElement("label",{htmlFor:"zoom"},"Zoom"),r.createElement("input",{type:"number",id:"zoom",name:"zoom",value:l,onChange:function(e){return c(Number(e.target.value))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lat"},"Latitude"),r.createElement("input",{type:"number",id:"lat",name:"lat",value:s.lat,onChange:function(e){return d(g(g({},s),{},{lat:Number(e.target.value)}))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lng"},"Longitude"),r.createElement("input",{type:"number",id:"lng",name:"lng",value:s.lng,onChange:function(e){return d(g(g({},s),{},{lng:Number(e.target.value)}))}}),r.createElement("h3",null,0===o.length?"Click on map to add markers":"Clicks"),o.map(function(e,t){return r.createElement("pre",{key:t},JSON.stringify(e.toJSON(),null,2))}),r.createElement("button",{onClick:function(){return a([])}},"Clear"));return r.createElement("div",{style:{display:"flex",height:"100%"}},r.createElement(f.Wrapper,{apiKey:m().GOOGLE_MAPS_KEY},r.createElement(E,{center:s,onClick:p,onIdle:h,zoom:l,style:{flexGrow:"1",height:"100%"}},t.markers.map(function(e,t){return r.createElement(x,{key:t,position:{lat:e.x,lng:e.y}})}))),y)},E=function(e){var t=e.onClick,n=e.onIdle,o=e.children,a=e.style,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,h),l=r.useRef(null),c=w(r.useState(),2),u=c[0],s=c[1];return r.useEffect(function(){l.current&&!u&&s(new window.google.maps.Map(l.current,{}))},[l,u]),C(function(){u&&u.setOptions(i)},[u,i]),r.useEffect(function(){u&&(["click","idle"].forEach(function(e){return google.maps.event.clearListeners(u,e)}),t&&u.addListener("click",t),n&&u.addListener("idle",function(){return n(u)}))},[u,t,n]),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:a}),r.Children.map(o,function(e){if(r.isValidElement(e))return r.cloneElement(e,{map:u})}))},x=function(e){var t=w(r.useState(),2),n=t[0],o=t[1];return r.useEffect(function(){return n||o(new google.maps.Marker),function(){n&&n.setMap(null)}},[n]),r.useEffect(function(){n&&n.setOptions(e)},[n,e]),null};function k(e){var t=r.useRef();return e!==t.current&&(t.current=e),t.current}var C=function(e,t){r.useEffect(e,t.map(k))},P=b,I=["children"];function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=r.createContext({}),M=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,I);return r.createElement(S.Provider,{value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){O(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n)},t)},N=function(){return r.createElement("h1",null,"This location is restricted (tmp placeholder)")},T=n(5697),A=n.n(T),j=n(3253),D=n.n(j),R=n(2661),z=n(179),Z=n(6775),F=function(e){(0,a.IJ)(e,"PhotosShow");var t=e.item;return r.createElement(r.Fragment,null,r.createElement("img",{src:t.original_url,alt:""}),t.subhead)},U=n(2947),W=n(8935),G=n(3204),V=n(8433),H=n(1935),B=n.n(H),q=function(e){(0,a.IJ)(e,"ItemModal");var t=e.item;if(!t)return null;var n=(0,Z.UO)(),o=(0,Z.k6)(),i=(0,r.useContext)(U.Nd),l=(i.showItem,i.setShowItem),c=function(){o.push(V.X.location({slug:n.slug})),l(null)};return t.action||(t.action=a.C.actions.show),D().setAppElement("body"),r.createElement(D(),{className:"ItemModal ".concat(B().ItemModal),isOpen:!!t,overlayClassName:B().ItemModalOverlay,portalClassName:B().ItemModalPortal},r.createElement(R.xB,{onClose:c},t.name),t.item_type===a.C.item_types.photo&&r.createElement(F,{item:t}),t.item_type===a.C.item_types.report&&t.action===a.C.actions.show&&r.createElement(G.X,{item:t,match:{params:{slug:t.reportname}}}),t.item_type===a.C.item_types.report&&t.action===a.C.actions.new&&r.createElement(G.v,null),t.item_type===a.C.item_types.gallery&&r.createElement(W.q,{match:{params:{slug:t.slug}}}),".^.")},J=["children","src"],Y=o.ZP.a.withConfig({displayName:"NewsitemGallery__Images",componentId:"sc-1milq4-0"})(["display:block;position:relative;width:100%;max-width:600px;height:0;padding-bottom:min( 400px,66.66% );margin:auto;"]),X=o.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb0",componentId:"sc-1milq4-1"})(["border:solid ",";border-width:1px 1px 1px 1px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;width:66.66%;height:0;padding-bottom:66.66%;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),K=o.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb1",componentId:"sc-1milq4-2"})(["border:solid ",";border-width:1px 1px 0 0;position:absolute;left:66.66%;top:0;width:33.33%;height:0;padding-bottom:33.33%;background-color:#dedede;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),Q=o.ZP.div.withConfig({displayName:"NewsitemGallery___Thumb2",componentId:"sc-1milq4-3"})(["border:solid ",";border-width:1px 1px 1px 0;position:absolute;left:66.66%;top:50%;width:33.33%;height:0;padding-bottom:33.33%;display:flex;justify-content:center;align-items:flex-start;background-color:#c4c4c4;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),ee=function(e){var t=e.children,n=e.src;return function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(e,J),r.createElement(Q,{style:{background:n}},r.createElement("div",{style:{marginTop:"calc( 50% - 0.5em )"}},t))},et=function(e){var t=e.item,n=e.variant,o=(0,r.useContext)(S).slug,i=(0,(0,r.useContext)(a.Il).useHistory)(),l=V.X.gallery({location_slug:o,slug:t.slug}),c=function(e){e.preventDefault(),i.push(l)};return r.createElement(eR,{item:t,variant:n},r.createElement(Y,{className:"Images",href:l,onClick:c},r.createElement(X,{src:t.photos[0]&&t.photos[0].thumb_url}),r.createElement(K,{src:t.photos[1]&&t.photos[1].thumb_url}),r.createElement(ee,{src:t.photos[2]&&t.photos[2].thumb_url},"(",t.n_photos," photos)")))};et.propTypes={item:A().shape({photos:A().array.isRequired})};var en=et,er=o.ZP.img.withConfig({displayName:"NewsitemPhoto__ImageLarge",componentId:"sc-2jnpzp-0"})(["max-width:100%;"]),eo=o.ZP.div.withConfig({displayName:"NewsitemPhoto__W0",componentId:"sc-2jnpzp-1"})(["display:flex;justify-content:center;"]),ea=function(e){var t=e.item,n=e.variant;return r.createElement(eR,{className:"Newsitem NewsitemPhoto",item:t,variant:n},r.createElement(eo,null,t.photos[0]&&r.createElement(er,{src:t.photos[0].large_url})))};ea.propTypes={item:A().shape({photos:A().array.isRequired}),variant:A().string};var ei=ea,el=function(e){return e.item,e.variant,r.createElement(eR,e)};el.propTypes={item:A().object.isRequired,variant:A().string};var ec=el,eu=n(2132),es=function(e){var t=e.item,n=e.variant;return r.createElement(eR,{item:t,variant:n},r.createElement("div",{style:{display:"flex",justifyContent:"center"}},t.youtube_id?r.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"//www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):r.createElement("video",{style:{maxWidth:"100%",maxHeight:"50vh"},preload:"metadata",height:"auto",controls:!0},r.createElement("source",{src:t.url,type:"video/mp4"}))))};es.propTypes={item:A().object.isRequired,variant:A().string};var ed=es,ef=["children"],ep=o.ZP.div.withConfig({displayName:"Newsitems__Pagination",componentId:"sc-16s1m55-0"})(["border:","px solid cyan;display:flex;"],function(e){return e.debug?1:0}),em=o.ZP.div.withConfig({displayName:"Newsitems__CurrentPageNum",componentId:"sc-16s1m55-1"})(["text-decoration:bold;"]),eh=o.ZP.a.withConfig({displayName:"Newsitems__PageNum",componentId:"sc-16s1m55-2"})(["display:block;"]),e$=o.ZP.div.withConfig({displayName:"Newsitems__W0",componentId:"sc-16s1m55-3"})([""]),ey=o.ZP.div.withConfig({displayName:"Newsitems__W1",componentId:"sc-16s1m55-4"})(["position:relative;::before{content:'","';position:absolute;top:2px;left:2px;color:var(--ion-debug-color);}"],function(e){return e.debug&&e._key}),eg=o.ZP.div.withConfig({displayName:"Newsitems___EditModeActions",componentId:"sc-16s1m55-5"})(["position:absolute;right:1em;top:1em;z-index:2;"]),ev=function(e){e.children;var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ef).item;if(!(0,r.useContext)(U.Nd).editorMode)return null;var n=(0,a.h_)(),o=function(e){confirm("Are you sure?")&&n.deleteNewsitem({id:t.newsitem_id}).then(function(e){(0,eu.Am)("Removed the story")}).catch(function(e){(0,a.IJ)("320 - cannot delete newsitem")})};return r.createElement(eg,null,r.createElement(a.un,{onClick:o},"Remove Story"))},ew=function(e){var t=e.newsitems,n=void 0===t?[]:t,o=e.variant;if(!n.length)return r.createElement("div",null,"No Newsitems");var i=(0,r.useContext)(S),l=i.newsitems_pagination,c=i.slug,u=[];return n.map(function(e,t){var n,i=e.premium_tier||0;switch(e.item_type){case a.C.item_types.gallery:n=r.createElement(en,{item:e,variant:o});break;case a.C.item_types.report:n=r.createElement(ec,{item:e,variant:o});break;case a.C.item_types.video:n=r.createElement(ed,{item:e,variant:o});break;case a.C.item_types.photo:n=r.createElement(ei,{item:e,variant:o});break;default:n=r.createElement(tt,{item:e})}u.push(r.createElement(ey,{key:t,_key:t+1,className:"premium-".concat(i),debug:m().debug},r.createElement(ev,{item:e}),n))}),r.createElement(e$,{className:"Newsitems",variant:o},u,r.createElement(ep,null,"Pages:",l.previous&&r.createElement(eh,{href:V.X.location({slug:c,newsitems_page:l.previous})},"previous")||null,r.createElement(em,null,l.current),l.next&&r.createElement(eh,{href:V.X.location({slug:c,newsitems_page:l.next})},"next")||null))};ew.propTypes={newsitems:A().array.isRequired,variant:A().string};var e_=ew,eb=["fill"],eE=["fill"];function e0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e8(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var e1=(0,o.ZP)(R.Ht).withConfig({displayName:"Votable__FlexCol",componentId:"sc-19mp3xk-0"})(["color:var(--ion-color);"]),e3=function(e){var t=e.fill,n=e8(e,eb);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.138 124.138",fill:t,style:{enableBackground:"new 0 0 124.138 124.138"}},r.createElement("g",null,r.createElement("path",{d:"M50.569,124.138h23.1c4.7,0,9-3.8,9-8.601V81.138c0-4.7,3.5-9,8.2-9h14.699c7.2,0,11.2-8.101,6.801-13.8l-44.101-55 c-3.5-4.5-10.2-4.4-13.6,0l-42.9,55c-4.4,5.699-0.4,13.8,6.8,13.8h14.8c4.7,0,8.3,4.2,8.3,9v34.399 C41.669,120.338,45.769,124.138,50.569,124.138z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},ek=(0,o.ZP)(e3).withConfig({displayName:"Votable__IconUp",componentId:"sc-19mp3xk-1"})(["cursor:pointer;"]),e2=function(e){var t=e.fill,n=e8(e,eE);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.075 124.075",fill:t,style:{enableBackground:"new 0 0 124.075 124.075"}},r.createElement("g",null,r.createElement("path",{d:"M54.628,120.7c3.5,4.5,10.2,4.5,13.601,0l44.1-54.9c4.4-5.7,0.4-13.8-6.8-13.8h-14.7c-4.7,0-8.2-4.2-8.2-9V8.6 c0-4.8-4.2-8.6-9-8.6h-23.1c-4.8,0-8.9,3.8-8.9,8.6V43c0,4.7-3.6,9-8.3,9h-14.8c-7.1,0-11.2,8-6.8,13.7L54.628,120.7z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},e5=(0,o.ZP)(e2).withConfig({displayName:"Votable__IconDown",componentId:"sc-19mp3xk-2"})(["cursor:pointer;"]),eC=o.ZP.div.withConfig({displayName:"Votable__WCount",componentId:"sc-19mp3xk-3"})(["text-align:center;"]),eP=function(e){var t=e.item,n=(0,r.useContext)(R.Vo),o=n.currentUser,i=(n.setCurrentUser,n.setLoginModalOpen),l=(0,a.h_)(),c=e0((0,r.useState)(void 0===t.votes_score?"-":t.votes_score),2),u=c[0],s=c[1],d=e0((0,r.useState)("#cecece"),2),f=d[0],p=d[1],m=e0((0,r.useState)("#cecece"),2),h=m[0],y=m[1],g=e0((0,r.useState)(t.current_user_vote_value),2),v=g[0],w=g[1];(0,r.useEffect)(function(){v===a.C.vote_values.up&&(p("#cc3333"),y("#cecece")),v===a.C.vote_values.down&&(p("#cecece"),y("#cc3333"))},[v]);var _=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===a.C.vote_values.up?((0,R.IJ)("unvoting is not implemented!"),(0,eu.Am)("unvoting is not implemented!"),l.unvote()):l.vote({value:a.C.vote_values.up,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,R.IJ)(e,"upvoted"),p("#cc3333"),w(a.C.vote_values.up),v===a.C.vote_values.down?(y("#cecece"),s(u+2)):s(u+1)})},b=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===a.C.vote_values.down?((0,R.IJ)("unvoting is not implemented!"),(0,eu.Am)("unvoting is not implemented!"),l.unvote()):l.vote({value:a.C.vote_values.down,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,R.IJ)(e,"downvoted"),y("#cc3333"),w(a.C.vote_values.down),v===a.C.vote_values.up?(p("#cecece"),s(u-2)):s(u-1)})};return r.createElement(e1,null,r.createElement(ek,{onClick:_,width:20,height:20,fill:f}),r.createElement(eC,null,u),r.createElement(e5,{onClick:b,width:20,height:20,fill:h}))};eP.propTypes={item:A().object.isRequired};var e4=eP,e7=["children"],e6=["children"],eI=["children"];function eL(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eO=o.ZP.div.withConfig({displayName:"NewsitemContainer__Col",componentId:"sc-11t8rkk-0"})(["display:flex;flex-direction:column;"]),eS=o.ZP.div.withConfig({displayName:"NewsitemContainer___Row",componentId:"sc-11t8rkk-1"})(["display:flex;align-items:flex-start;margin-top:",";"],function(e){return e.theme.smallWidth}),eM=function(e){var t=e.children,n=eL(e,e7);return r.createElement(eS,Object.assign({className:"Row"},n),t)},eN=o.ZP.div.withConfig({displayName:"NewsitemContainer__RowInline",componentId:"sc-11t8rkk-2"})(["> *{display:inline;}"]),eT=o.ZP.a.withConfig({displayName:"NewsitemContainer__A",componentId:"sc-11t8rkk-3"})(["color:var(--ion-color);text-decoration:none;"]),eA=o.ZP.a.withConfig({displayName:"NewsitemContainer__TitleA",componentId:"sc-11t8rkk-4"})(["margin-top:0;margin-bottom:0;color:var(--ion-color);font-size:2em;text-decoration:none;"]),ej=function(e){var t=e.children,n=eL(e,e6);if(n.variant===a.C.variants.bordered)return r.createElement(a.xP,n,t);throw"not implemented, how do I show a newsitem without a border?"},eD=function(e){var t,n=e.children,o=eL(e,eI),a=o.className,i=o.item,l=o.variant,c=(0,r.useContext)(S).slug,u=(0,r.useContext)(U.Nd),s=(u.itemToUnlock,u.setItemToUnlock);u.layout,u.showItem,u.setShowItem;var d=(0,Z.k6)(),f=V.X.item({item:i,location:{slug:c}}),p=function(e){e.preventDefault(),i.is_premium&&!i.is_purchased?s(i):d.push(f)};return r.createElement(ej,{className:a,variant:l},n,r.createElement(eM,null,r.createElement(eO,{style:{alignItems:"center"}},r.createElement(e4,{item:i})),r.createElement(eO,{style:{overflowWrap:"break-word"}},r.createElement(eN,null,r.createElement(te,i),r.createElement(eA,{href:f,onClick:p},i.name)),r.createElement(z._I,i))),(null===(t=i.subhead)||void 0===t?void 0:t.length)&&r.createElement(eT,{className:"subhead",href:f,onClick:p,dangerouslySetInnerHTML:{__html:i.subhead}})||null)};eD.propTypes={item:A().object.isRequired,variant:A().string};var eR=eD,ez=["fill","w","h"],eZ=["fill","w","h"],eF=["fill","w","h"],eU=["fill","w","h"],eW=["fill","w","h"],eG=["children"];function eV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eH=o.ZP.span.withConfig({displayName:"ItemIcon___Icon",componentId:"sc-1fvs9d6-0"})(["margin:0 "," 0 0;"],function(e){return e.theme.smallWidth}),eB=function(e){var t=e.fill,n=e.w,a=e.h;eV(e,ez);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eH,{className:"IconGem"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:t,viewBox:"0 0 45.964 45.964",style:{enableBackground:"new 0 0 45.964 45.964"}},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M7.071,30.834V11.062H4.042C1.803,11.062,0,12.893,0,15.13v26.732c0,2.24,1.803,4.051,4.042,4.051h26.733    c2.238,0,4.076-1.811,4.076-4.051v-2.92H15.179C10.733,38.943,7.071,35.281,7.071,30.834z"}),"   ",r.createElement("path",{d:"M41.913,0.05H15.179c-2.238,0-4.066,1.813-4.066,4.051v26.733c0,2.241,1.829,4.067,4.066,4.067h26.734    c2.237,0,4.051-1.826,4.051-4.067V4.102C45.964,1.862,44.15,0.05,41.913,0.05z M41.363,28.589    c-0.223,0.412-0.652,0.656-1.12,0.656H17.336c-0.403,0-0.782-0.18-1.022-0.502c-0.24-0.324-0.313-0.736-0.197-1.123l3.277-10.839    c0.216-0.713,0.818-1.24,1.554-1.361c0.736-0.12,1.476,0.19,1.908,0.797l4.582,6.437c0.617,0.867,1.812,1.082,2.689,0.484    l4.219-2.865c0.434-0.295,0.967-0.402,1.48-0.299c0.515,0.102,0.966,0.408,1.253,0.848l4.229,6.472    C41.564,27.687,41.585,28.179,41.363,28.589z"}),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eq=function(e){var t=e.fill,n=e.w,a=e.h;eV(e,eZ);var i=(0,o.Fg)();return t=t||i.colors.gold,n=n||24,a=a||24,r.createElement(eH,{className:"IconGem"},r.createElement("svg",{viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:t},r.createElement("path",{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"})))},eJ=function(e){var t=e.fill,n=e.w,a=e.h;eV(e,eF);var i=(0,o.Fg)();return t=t||i.colors.cyan,n=n||24,a=a||24,r.createElement(eH,{className:"IconGlasses"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 297 297",style:{enableBackground:"new 0 0 297 297"},width:n,height:a,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M115.167,101.47H24.012C10.751,101.469,0,112.22,0,125.482v43.477c0,14.674,11.896,26.57,26.57,26.57h39.67     c21.977,0,41.223-14.737,46.954-35.953l10.297-45.336c0.633-3.567-0.276-7.232-2.431-9.804     C120.132,103.328,118.132,101.47,115.167,101.47z M24.542,138.106c-1.945,0-3.888-0.742-5.373-2.225     c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747     l-5.428,5.428C28.432,137.364,26.487,138.106,24.542,138.106z M64.111,130.453l-21.71,21.71     c-1.484,1.483-3.429,2.225-5.374,2.225c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71     c2.968-2.966,7.779-2.966,10.747,0C67.078,122.674,67.078,127.485,64.111,130.453z"}),"    ",r.createElement("path",{d:"M160.885,106.524h-26.517c0.575,3.345,0.587,6.828-0.021,10.307l-2.22,12.693h31l-2.22-12.693     C160.299,113.352,160.311,109.868,160.885,106.524z"}),"    ",r.createElement("path",{d:"M272.988,101.47h-94.649c-2.965,0-4.965,1.858-5.893,2.966c-2.155,2.572-3.064,6.236-2.43,9.804l10.296,45.336     c5.731,21.216,24.977,35.954,46.954,35.954h43.164c14.674-0.001,26.57-11.897,26.57-26.571v-43.477     C297,112.22,286.249,101.47,272.988,101.47z M192.422,135.881c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428     c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747l-5.428,5.428c-1.484,1.483-3.429,2.225-5.374,2.225     C195.851,138.106,193.906,137.364,192.422,135.881z M237.363,130.453l-21.71,21.71c-1.484,1.483-3.429,2.225-5.374,2.225     c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71c2.968-2.966,7.779-2.966,10.747,0     C240.33,122.674,240.33,127.485,237.363,130.453z"}),"   "),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eY=function(e){var t=e.fill,n=e.w,a=e.h;eV(e,eU);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eH,{className:"IconReport"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184.153 184.153",style:{enableBackground:"new 0 0 184.153 184.153"},width:n,height:a,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M129.318,0H26.06c-1.919,0-3.475,1.554-3.475,3.475v177.203c0,1.92,1.556,3.475,3.475,3.475h132.034 c1.919,0,3.475-1.554,3.475-3.475V34.131C161.568,22.011,140.771,0,129.318,0z M154.62,177.203H29.535V6.949h99.784 c7.803,0,25.301,18.798,25.301,27.182V177.203z"}),r.createElement("path",{d:"M71.23,76.441c15.327,0,27.797-12.47,27.797-27.797c0-15.327-12.47-27.797-27.797-27.797 c-15.327,0-27.797,12.47-27.797,27.797C43.433,63.971,55.902,76.441,71.23,76.441z M71.229,27.797 c11.497,0,20.848,9.351,20.848,20.847c0,0.888-0.074,1.758-0.183,2.617l-18.071-2.708L62.505,29.735    C65.162,28.503,68.112,27.797,71.229,27.797z M56.761,33.668l11.951,19.869c0.534,0.889,1.437,1.49,2.462,1.646l18.669,2.799    c-3.433,6.814-10.477,11.51-18.613,11.51c-11.496,0-20.847-9.351-20.847-20.847C50.381,42.767,52.836,37.461,56.761,33.668z"}),"   ",r.createElement("rect",{x:"46.907",y:"90.339",width:"73.058",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"107.712",width:"48.644",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"125.085",width:"62.542",height:"6.949"}),"  "))),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},eX=function(e){var t=e.fill,n=e.w,a=e.h;eV(e,eW);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eH,{className:"IconVideo"},r.createElement("svg",{width:n,height:a,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:t,d:"M9.89989 0H29.6999C31.5149 0 32.9999 1.485 32.9999 3.3V23.1C32.9999 24.915 31.5149 26.4 29.6999 26.4H9.89989C8.08489 26.4 6.59989 24.915 6.59989 23.1V3.3C6.59989 1.485 8.08489 0 9.89989 0ZM0 6.6H3.3V29.7H26.4V33H3.3C1.485 33 0 31.515 0 29.7V6.6ZM29.7 23.1H9.89997V3.3H29.7V23.1ZM16.5001 20.625V5.775L26.4001 13.2L16.5001 20.625Z"})))},e9=o.ZP.div.withConfig({displayName:"ItemIcon___W0",componentId:"sc-1fvs9d6-1"})(["display:inline;box-sizing:border-box;"]),eK=function(e){var t=e.children,n=eV(e,eG);return r.createElement(e9,Object.assign({className:"ItemIcon"},n),t)},eQ=function(e){var t=e.is_purchased,n=e.item_type,o=e.premium_tier,i=[];switch(o>0&&(t?i.push(r.createElement(eJ,{key:"IconGlasses"})):i.push(r.createElement(eq,{key:"IconGem"}))),n){case a.C.item_types.gallery:i.push(r.createElement(eB,{key:"IconGallery"}));break;case a.C.item_types.report:i.push(r.createElement(eY,{key:"IconReport"}));break;case a.C.item_types.video:i.push(r.createElement(eX,{key:"IconVideo"}));break;case a.C.item_types.location:break;default:i.push(r.createElement("span",{key:"unknown-kind"},"[\xa0?\xa0]"))}return r.createElement(eK,null,i)};eQ.propTypes={is_premium:A().bool,is_purchased:A().bool,item_type:A().string.isRequired,premium_tier:A().number};var te=eQ,tt=function(e){var t=e.item;return r.createElement(r.Fragment,null,r.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}}))},tn=["children"],tr=["className"],to=["children"];function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tc=o.ZP.a.withConfig({displayName:"Marker___W0",componentId:"sc-lvan3-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);display:block;text-decoration:none;margin:0 .5em .5em 0;padding:.5em;text-align:center;width:18%;max-width:140px;min-width:120px;"]),tu=o.ZP.div.withConfig({displayName:"Marker__MarkerEmpty",componentId:"sc-lvan3-1"})(["width:18%;max-width:140px;min-width:120px;height:0;border:none;padding:0;margin:0 .5em 0 0;"]),ts=function(e){var t=e.children,n=tl(e,tn),o=n.className,a=tl(n,tr);return r.createElement(tc,Object.assign({className:"WBorderedItem ".concat(void 0===o?"":o)},a),t)},td=function(e){e.children;var t=tl(e,to),n=t.marker,o=(0,(0,r.useContext)(a.Il).useHistory)(),i=(0,r.useContext)(U.Nd),l=(i.itemToUnlock,i.setItemToUnlock),c=(i.showUrl,i.setShowUrl),u=V.X.location({slug:n.destination_slug}),s=function(e){e.preventDefault(),n.premium_tier&&!n.is_purchased?l(n):n.url?c(n.url):o.push(u)};return r.createElement(ts,Object.assign({onClick:s},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(n),!0).forEach(function(t){ti(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({href:u},t)),r.createElement("img",{src:n.title_img_path}),r.createElement("br",null),r.createElement(te,n)," ",n.name)};td.propTypes={marker:A().object.isRequired};var tf=td,tp=["children","variant"],tm=o.ZP.div.withConfig({displayName:"MarkersList___W0",componentId:"sc-i7mf08-0"})(["display:flex;flex-wrap:wrap;justify-content:space-between;"]),th=function(e){var t=e.children,n=e.variant,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tp);return n===a.C.variants.bordered?r.createElement(a.xP,o,t):r.createElement(tm,o,t)},t$=function(e){e.variant;var t=[];e.markers.map(function(e,n){e.destination_slug&&t.push(r.createElement(tf,{key:n,marker:e}))});for(var n=12-t.length%12,o=0;o<n;o++)t.push(r.createElement(tu,{key:"padded-".concat(o)}));return r.createElement(th,{className:"MarkersList"},t)};t$.propTypes={markers:A().arrayOf(A().shape({destination_slug:A().string})).isRequired,variant:A().string};var ty=t$,tg=o.ZP.div.withConfig({displayName:"MarkerForm__Actions",componentId:"sc-1qq3e62-0"})([""]),tv=o.ZP.div.withConfig({displayName:"MarkerForm__W0",componentId:"sc-1qq3e62-1"})([""]),tw=r.createContext({}),t_=["fill"],tb=["children"],tE=["children"];function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(t){t8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return t3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t3(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tk(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var t2=function(e){var t=e.fill,n=tk(e,t_);return r.createElement("div",n,r.createElement("svg",{width:"17",height:"17",viewBox:"0 -0.5 17 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("defs",null),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(1.000000, 0.000000)",fill:void 0===t?"var(--ion-inactive-color)":t},r.createElement("path",{d:"M5.958,8.951 L5.958,7.007 L3.979,7.007 L3.97900001,5.06677246 C3.97900001,4.57762889 0.265,7.332 0.265,7.332 C-0.095,7.696 -0.095,8.29 0.264,8.655 C0.264,8.655 3.97900001,11.4734899 3.97900001,10.9475709 L3.979,8.951 L5.958,8.951 Z"}),r.createElement("path",{d:"M10.002,7 L10.002,8.973 L12.048,8.973 L12.048,11 C12.048,11.4553833 15.695,8.684 15.695,8.684 C16.055,8.336 16.055,7.771 15.695,7.423 C15.695,7.423 11.980774,4.64377734 11.980774,5.03546143 L12.048,7 L10.002,7 Z"}),r.createElement("rect",{x:"7",y:"0",width:"2",height:"16"})))))},t5=function(){return r.createElement(t2,null)},tC=o.ZP.div.withConfig({displayName:"LocationsShow___D",componentId:"sc-j8biii-0"})([""]),tP=function(e){var t=e.item,n=void 0===t?{}:t;if(n.description)return r.createElement(tC,{className:"Description",dangerouslySetInnerHTML:{__html:n.description}})},t4=o.ZP.div.withConfig({displayName:"LocationsShow___Handle",componentId:"sc-j8biii-1"})(["border:","px solid green;position:absolute;top:0;bottom:0;left:",";right:",";display:flex;flex-direction:column;align-items:center;width:var(--handle-width);z-index:2;"],function(e){return e.debug?1:0},function(e){return e.foldedLeft?0:e.foldedRight?"auto":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?0:"auto"}),t7=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,r.useContext)(U.Nd),n=t.folded,o=t.setFolded,i=t.foldedLeft,l=t.foldedRight,c=t.twofoldPercent;t.setTwofoldPercent,t1((0,a.iP)(),1)[0];var u=t1((0,r.useState)(),2);u[0],u[1];var s=t1((0,r.useState)(!1),2);s[0],s[1];var d=function(){n===a.C.foldedRight?o(a.C.foldedCenter):o(a.C.foldedLeft)},f=function(){n===a.C.foldedLeft?o(a.C.foldedCenter):o(a.C.foldedRight)};return r.createElement(t4,{className:"Handle",debug:m().debug,foldedLeft:i,foldedRight:l,twofoldPercent:c},r.createElement(a.s$,{onClick:d}),r.createElement(a._Q,{onClick:f}),r.createElement(t5,null),-1!==[a.C.foldedRight,a.C.foldedLeft].indexOf(n)&&r.createElement(U.LW,{orientation:a.C.vertical}))},t6=function(e){var t=(0,r.useContext)(U.Nd),n=t.showUrl,o=t.setShowUrl;return r.createElement(D(),{ariaHideApp:!1,isOpen:!!n},r.createElement("span",{onClick:function(){o(!1)}},"[x]"),r.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))},tI=o.ZP.div.withConfig({displayName:"LocationsShow___Left",componentId:"sc-j8biii-2"})(["background:",";flex:",";overflow:hidden;display:flex;flex-direction:column;margin-right:",";height:calc(100vh - "," - ",");"],function(e){return e.theme.colors.background},function(e){return e.foldedRight?"99%":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?"30px":0},function(e){return e.theme.borderWidth},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),tL=function(e){var t=e.children;tk(e,tb);var n=(0,r.useContext)(U.Nd),o=n.bottomDrawerOpen,a=(n.folded,n.foldedLeft),i=n.foldedRight,l=n.twofoldPercent;return a?null:r.createElement(tI,{className:"Left",bottomDrawerOpen:o,foldedRight:i,twofoldPercent:l},t)},tO=o.ZP.div.withConfig({displayName:"LocationsShow___Right",componentId:"sc-j8biii-3"})(["position:relative;padding:0 0 0 ",";display:",";flex:",";overflow-x:hidden;flex-direction:column;height:calc(100vh - "," - ",");"],function(e){return["android","ios"].includes(e.os)?"":"var(--handle-width)"},function(e){return e.foldedRight?"none":"flex"},function(e){return"".concat((1-e.twofoldPercent)*100,"%")},function(e){return"calc(2*".concat(e.theme.borderWidth,")")},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),tS=function(e){var t=e.children,n=tk(e,tE),o=(0,r.useContext)(U.Nd),a=o.bottomDrawerOpen,i=(o.folded,o.foldedLeft,o.foldedRight),l=o.twofoldPercent;return r.createElement(tO,Object.assign({className:"Right"},tx({bottomDrawerOpen:a,foldedRight:i,twofoldPercent:l},n)),t)},tM=o.ZP.div.withConfig({displayName:"LocationsShow__W0",componentId:"sc-j8biii-4"})(["display:flex;position:relative;"]),tN=function(e){(0,a.IJ)(e,"LocationsShow");var t=e.location,n=e.match,o=e.showItem;if(!t)return null;var i=(0,r.useContext)(R.Vo).currentUser,l=(0,r.useContext)(a.Il).os,c=(0,r.useContext)(U.Nd),u=c.bottomDrawerOpen,s=(c.editorMode,c.folded),d=(c.setFolded,c.foldedLeft,c.foldedRight,c.itemToUnlock,c.setItemToUnlock),f=(c.mapPanelWidth,c.setMapPanelWidth),p=(c.mapPanelHeight,c.setMapPanelHeight),m=(c.ratedConfirmation,c.setRatedConfirmation,c.showUrl),h=(c.setShowUrl,c.twofoldPercent),y=t1((0,a.iP)(),2),g=y[0],v=y[1],w=t1((0,r.useState)(!1),2),_=w[0];w[1];var b=(0,r.useRef)(null);return((0,r.useEffect)(function(){!t.is_premium||i.email&&t.is_purchased?d(!1):d(tx({closable:!1,item_type:a.C.item_types.location},t))},[i,t]),(0,r.useEffect)(function(){b.current&&(f(b.current.offsetWidth),p(b.current.offsetHeight))},[u,s,b.current,h,g,v]),-1!==["ios","android"].indexOf(l))?r.createElement(tM,null,r.createElement(M,t,r.createElement(tS,{os:l},r.createElement(z.Oo,t),r.createElement(U.zF,{className:"Maps",label:t.labels.map,slug:a.C.collapsible.map,variant:a.C.variants.transparent},r.createElement(nU,{location:t.map?t.map:t,match:e.match,ref:b,slug:n.params.slug})),t.markers.length&&r.createElement(U.zF,{className:"Markers",label:t.labels.markers,slug:a.C.collapsible.markers,variant:a.C.variants.transparent},r.createElement(ty,{markers:t.markers,variant:a.C.variants.bordered}))||null,t.description&&r.createElement(U.zF,{className:"Description",label:t.labels.description,slug:a.C.collapsible.description,variant:a.C.variants.bordered},r.createElement(tP,{item:t}))||null,t.newsitems.length&&r.createElement(U.zF,{className:"Newsitems",label:t.labels.newsitems,slug:a.C.collapsible.newsitems,variant:a.C.variants.transparent},r.createElement(e_,{newsitems:t.newsitems,variant:a.C.variants.bordered}))||null),m&&r.createElement(t6,{src:m}),o&&r.createElement(q,{item:o}),_&&r.createElement(a.gb,null),r.createElement(z.ce,null))):r.createElement(tM,null,r.createElement(M,t,r.createElement(tL,null,r.createElement(z.Oo,t),r.createElement(nY,{map:t.map?t.map:t,ref:b,slug:n.params.slug})),r.createElement(t7,null),r.createElement(tS,null,t.markers.length&&r.createElement(U.zF,{className:"Markers",label:t.labels.markers,slug:a.C.collapsible.markers,variant:a.C.variants.transparent},r.createElement(ty,{markers:t.markers,variant:a.C.variants.bordered}))||null,t.description&&r.createElement(U.zF,{className:"Description",label:t.labels.description,slug:a.C.collapsible.description,variant:a.C.variants.bordered},r.createElement(tP,{item:t}))||null,t.newsitems.length&&r.createElement(U.zF,{className:"Newsitems",label:t.labels.newsitems,slug:a.C.collapsible.newsitems,variant:a.C.variants.transparent},r.createElement(e_,{newsitems:t.newsitems,variant:a.C.variants.bordered}))||null),m&&r.createElement(t6,{src:m}),o&&r.createElement(q,{item:o}),_&&r.createElement(a.gb,null),r.createElement(z.ce,null)))};tN.propTypes={location:A().object,match:A().shape({params:A().shape({slug:A().string.isRequired})}),showItem:A().object};var tT=tN;function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(t){tD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tz(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tZ=function(e){(0,a.IJ)(e,"LocationsShowAsync");var t,n=e.match,o=tR((0,r.useState)(),2),i=o[0],l=o[1],c=(t=(0,Z.TH)().search,r.useMemo(function(){return new URLSearchParams(t)},[t]));n.params=tj(tj({},n.params),{},{newsitems_page:c.get("newsitems_page")||1});var u=tR((0,r.useState)(),2),s=u[0],d=u[1],f=(0,a.h_)();(0,r.useEffect)(function(){(0,a.IJ)(n,"LocationsShowAsync Request Chain");var e=[f.getLocation(n.params)];if(n.params.item_type){var t=a.$z.classify(n.params.item_type);switch(t){case a.C.item_types.gallery:e.push(f.getGallery(n.params.item_slug));break;case a.C.item_types.photo:e.push(f.getPhoto(n.params.item_slug));break;case a.C.item_types.report:e.push(f.getReport(n.params.item_slug));break;default:(0,a.IJ)(t,"Cannot get this item type!"),(0,eu.Am)("Cannot get this item type: ".concat(t))}}Promise.all(e).then(function(e){(0,a.IJ)(e,"LocationsShowAsync ChainResults"),l(e[0]),d(e[1]?e[1]:null)}).catch(function(e){})},[n.params.item_type,n.params.item_slug,n.params.slug,n.params.newsitems_page]);var p=r.useMemo(function(){return r.createElement(tT,{location:i,match:n,showItem:s})},[i]);return i?i.is_premium&&!i.is_purchased?r.createElement(N,null):r.createElement(r.Fragment,null,p):null};tZ.propTypes={match:A().object.isRequired};var tF=tZ;n(8816);var tU=n(7011),tW=["children"],tG=o.ZP.div.withConfig({displayName:"Blocker___Blocker",componentId:"sc-1mqnpns-0"})(["border:2px solid var(--ion-highlight-color);border-radius:var(--ion-border-radius);position:relative;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:calc(50% - 0px);top:calc(50% - 4px);::before{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;}}"]),tV=r.forwardRef(function(e,t){var n=e.children,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tW);return r.createElement(tG,Object.assign({ref:t,className:"Blocker"},o),n)});o.ZP.div.withConfig({displayName:"Crosshair",componentId:"sc-pqmgvx-0"})(["width:50px;height:50px;position:absolute;left:50%;top:50%;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;}"]);var tH=n(2212);function tB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tq(e,t){return(tq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tJ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tY(e){return(tY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tX=new tH.Euler(0,0,0,"YXZ"),t9=new tH.Vector3,tK={type:"change"},tQ={type:"lock"},ne={type:"unlock"},nt=Math.PI/2,nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tq(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tY(t);if(n){var o=tY(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tJ(e)}(this,e)});function l(e,t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),r=i.call(this),void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),r.domElement=t,r.isLocked=!1,r.minPolarAngle=0,r.maxPolarAngle=Math.PI;var n,r,o=tJ(r);function a(t){if(!1!==o.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;tX.setFromQuaternion(e.quaternion),tX.y-=.002*n,tX.x-=.002*r,tX.x=Math.max(nt-o.maxPolarAngle,Math.min(nt-o.minPolarAngle,tX.x)),e.quaternion.setFromEuler(tX),o.dispatchEvent(tK)}}function c(){o.domElement.ownerDocument.pointerLockElement===o.domElement?(o.dispatchEvent(tQ),o.isLocked=!0):(o.dispatchEvent(ne),o.isLocked=!1)}function u(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return r.connect=function(){o.domElement.ownerDocument.addEventListener("mousemove",a),o.domElement.ownerDocument.addEventListener("pointerlockchange",c),o.domElement.ownerDocument.addEventListener("pointerlockerror",u)},r.disconnect=function(){o.domElement.ownerDocument.removeEventListener("mousemove",a),o.domElement.ownerDocument.removeEventListener("pointerlockchange",c),o.domElement.ownerDocument.removeEventListener("pointerlockerror",u)},r.dispose=function(){this.disconnect()},r.getObject=function(){return e},r.getDirection=(n=new tH.Vector3(0,0,-1),function(t){return t.copy(n).applyQuaternion(e.quaternion)}),r.moveForward=function(t){t9.setFromMatrixColumn(e.matrix,0),t9.crossVectors(e.up,t9),e.position.addScaledVector(t9,t)},r.moveRight=function(t){t9.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(t9,t)},r.lock=function(){this.domElement.requestPointerLock()},r.unlock=function(){o.domElement.ownerDocument.exitPointerLock()},r.connect(),r}return r=l,o&&tB(r.prototype,o),a&&tB(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(tH.EventDispatcher),nr=o.ZP.div.withConfig({displayName:"RotationPad__W0",componentId:"sc-py61vh-0"})(["position:absolute;bottom:10px;right:10px;color:white;font-size:2em;border:1px solid red;"]),no=function(e){(0,a.IJ)(e,"RotationPad"),e.container;var t,n,o,i,l,c=!1,u=function(e){var r,a,u,s;c=!0,self.handle.css("opacity","1.0"),r=e.pageX,a=e.pageY,n=r-self.regionData.offset.left,o=a-self.regionData.offset.top,(i=Math.pow(self.regionData.centerX-n,2)+Math.pow(self.regionData.centerY-o,2))>Math.pow(self.regionData.radius,2)&&(n=Math.cos(l=Math.atan2(o-self.regionData.centerY,n-self.regionData.centerX))*self.regionData.radius+self.regionData.centerX,o=Math.sin(l)*self.regionData.radius+self.regionData.centerY),o=Math.round(10*o)/10,n=Math.round(10*n)/10,self.handle.css({top:o-self.handleData.radius,left:n-self.handleData.radius}),u=self.regionData.centerX-parseInt(n),s=self.regionData.centerY-parseInt(o),u=-2+4*(u- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),s=-2+4*(s- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),function e(n,r){if(!c){clearTimeout(t);return}clearTimeout(t),t=setTimeout(function(){e(n,r)},5);var o=$.Event("YawPitch",{detail:{deltaX:n,deltaY:r},bubbles:!1});$(self).trigger(o)}(u=-1*Math.round(10*u)/10,s=-1*Math.round(10*s)/10)};return self.regionData={},self.handleData={},self.rotationPad=r.createElement("h1",null,"R"),self.region=r.createElement("h2",{onMouseDown:u},"region"),self.handle=r.createElement("h2",null,"handle"),(0,a.IJ)("resetting handle position..."),r.createElement(nr,null,"[ Rotate4 ]")},na=n(1217),ni=n(5344);function nl(e){return function(e){if(Array.isArray(e))return nc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nc(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nu={epsilon:.001,events:{move:"move",stopMove:"stopMove",gotoPosition:"gotoPosition"},origin:[0,10,0]},ns=function(e){(0,a.IJ)(e,"ThreePanelMobile");var t,n,o,i,l,c,u=e.map,s=!1,d=performance.now(),f=new tH.Vector3;new tH.Vector3,new tH.Color;var p=new na.E,m=new ni.V,h=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,a,y,v,w,_,b,E,x,k,C;(e=(l=new tH.PerspectiveCamera(75,2,1,1e3)).position).set.apply(e,nl(nu.origin)),(o=new tH.Scene).background=new tH.Color(16777215),o.fog=new tH.Fog(16777215,0,750),(r=new tH.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),o.add(r),a=new tH.AxesHelper(5),o.add(a),y=function(e){switch(e.code){case"ArrowUp":case"KeyW":case"ArrowLeft":case"KeyA":case"ArrowDown":case"KeyS":case"ArrowRight":case"KeyD":break;case"Space":!0===s&&(f.y+=350),s=!1}},v=function(e){e.code},document.addEventListener("keydown",y),document.addEventListener("keyup",v),w=function(e){},_=function(e){var t=e.detail,n=t.deltaX,r=t.deltaY,o=new tH.Vector3(n,0,-r);o.normalize(),o.multiplyScalar(.2),f.add(o)},b=function(e){var t,n=e.detail;(t=l.position).set.apply(t,nl(n))},document.addEventListener(nu.events.move,_),document.addEventListener(nu.events.stopMove,w),document.addEventListener(nu.events.gotoPosition,b),t=new tH.Raycaster(new tH.Vector3,new tH.Vector3(0,-1,0),0,10),i=tH.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(E=new tH.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),x=new tH.MeshBasicMaterial({map:i}),k=new tH.Mesh(E,x),o.add(k),u.markers.map(function(e,t){p.load(e.asset3d_path,function(e){o.add(e.scene),m.fromGraphNode(e.scene),e.scene.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map&&(e.material.map.anisotropy=4))})})}),i=new tH.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tH.WebGLCubeRenderTarget(i.image.height);e.fromEquirectangularTexture(n,i),o.background=e.texture}),(C=new tH.Object3D).name="cameraHolder",(c=new tH.Object3D).add(C),(n=new tH.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(700,350),h.current.appendChild(n.domElement),window.addEventListener("resize",g),function e(){requestAnimationFrame(e),new tH.Vector3;var t=performance.now(),r=(t-d)/1e3;Math.abs(f.x)<nu.epsilon?f.x=0:f.x-=10*f.x*r,Math.abs(f.y)<nu.epsilon&&(f.y=0),Math.abs(f.z)<nu.epsilon?f.z=0:f.z-=10*f.z*r,l.translateX(f.x),l.translateZ(f.z),d=t,n.render(o,l)}(),g()},[]);var g=function(){l.aspect=h.current.clientWidth/h.current.clientHeight,l.updateProjectionMatrix(),n.setSize(h.current.clientWidth,h.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:y}),r.createElement(tV,{ref:h,className:"Blocker"},r.createElement("div",{id:"Crosshair"}),r.createElement(nE,null)))},nd={src:"/_next/static/media/MovementPadBg.93d6840e.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAABlBMVEUACo0AC4z3HtlIAAAAAnRSTlMBISPh7CcAAAAJcEhZcwAALiMAAC4jAXilP3YAAAARSURBVAiZY2DACxgZ0Rk4AAAA2AAFhJR3HAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},nf={src:"/_next/static/media/aim.74012678.svg",height:504,width:504},np=["children"],nm=["children"];function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ny(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}o.ZP.div.withConfig({displayName:"MovementPad___Region",componentId:"sc-it6gu4-0"})(["width:100%;height:100%;background:rgba(126,126,0,.5);"]);var ng=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nh(Object(n),!0).forEach(function(t){n$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({thresh:.2},nu),nv=o.ZP.div.withConfig({displayName:"MovementPad___Handle",componentId:"sc-it6gu4-1"})([""]),nw=function(e){var t=e.children,n=ny(e,np);return r.createElement(nv,Object.assign({className:"Handle"},n),t)},n_=o.ZP.div.withConfig({displayName:"MovementPad___Pad",componentId:"sc-it6gu4-2"})(["top:50px;right:50px;position:absolute;width:100px;height:100px;border:1px solid cyan;"]),nb=function(e){var t=e.children,n=ny(e,nm);return r.createElement(n_,Object.assign({className:"MovementPad"},n),t)},nE=function(e){(0,a.IJ)(e,"MovementPad"),function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,o,i,l=!1,c={},u=(0,r.useRef)(null);u.current&&(c.w=u.current.clientWidth,c.radius=c.w/2,c.h=u.current.clientHeight,c.x=u.current.getBoundingClientRect().x,c.y=u.current.getBoundingClientRect().y,c.centerX=c.x+c.w/2,c.centerY=c.y+c.h/2);var s=function(e){l=!1,g(),h()},d=function(e){l&&p(e.touches[0].pageX,e.touches[0].pageY)},f=function(e){e.persist(),l=!0,p(e.targetTouches[0].pageX,e.targetTouches[0].pageY)},p=function(e,t){o=e-c.x,i=t-c.y,c.centerX=50,c.centerY=50;var n=c.centerX-parseInt(o),r=c.centerY-parseInt(i);n=-2+4*(n- -c.radius)/(c.radius- -c.radius),r=-2+4*(r- -c.radius)/(c.radius- -c.radius),n=Math.round(10*n)/10,r=Math.round(10*r)/10,Math.abs(n)<ng.thresh&&Math.abs(r)<ng.thresh&&(n=0,r=0),h(-n,r,0)},m=new CustomEvent("stopMove",{bubbles:!1});function h(e,r,o){if(!l){clearTimeout(n),document.dispatchEvent(m);return}clearTimeout(t),t=setTimeout(function(){(0,a.IJ)("stopping..."),document.dispatchEvent(m)},200);var i=new CustomEvent(ng.events.move,{detail:{deltaX:e,deltaY:r},bubbles:!1});document.dispatchEvent(i)}var y=function(){var e=new CustomEvent(ng.events.gotoPosition,{detail:ng.origin,bubbles:!1});document.dispatchEvent(e)},g=function(){};return r.createElement(nb,null,r.createElement("div",{className:"Region",style:{width:"100px",height:"100px",background:'center center url("'.concat(nd,'") rgba(255,0,0,.5)')},onTouchEnd:s,onTouchCancel:s,onTouchStart:f,onTouchMove:d,ref:u},r.createElement(nw,null)),r.createElement("img",{style:{width:25,height:25,position:"absolute",right:0,top:125},src:nf,onClick:y}))};function n0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n0(Object(n),!0).forEach(function(t){n8(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n8(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.ZP.div.withConfig({displayName:"TouchControls__W0",componentId:"sc-dv6ako-0"})(["position:absolute;bottom:10px;left:10px;border:1px solid red;z-index:2;color:white;font-size:2em;"]);var n1=function(e){(0,a.IJ)(e,"TouchControls");var t=e.container,n=e.camera,o=e.options;if(!(null!=t&&t.current))return(0,a.IJ)("no current ref in TouchControls!"),null;var i=nx(nx({},o),{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40}),l=!1,c=[],u=i.maxPitch*Math.PI/180;new tH.Vector3(0,0,0);var s=new tH.Object3D;s.name="cameraHolder",s.add(n),new tH.Object3D().add(s);var d,f,p,m,h=new tH.Vector2;function y(e){l=!1}function g(e,t,n){var n=n||self.config.rotationFactor,r=self.fpsBody.rotation.y-e*n,o=s.rotation.x-t*n;return{rx:o=Math.max(-u,Math.min(u,o)),ry:r}}return $(self.rotationPad).on("YawPitch",function(e){var t=g(e.detail.deltaX,e.detail.deltaY);self.setRotation(t.rx,t.ry)}),t.current.addEventListener("contextmenu",function(e){e.preventDefault()}),t.current.addEventListener("mousedown",function(e){self.enabled&&2===e.button&&(l=!0,e.preventDefault(),e.stopPropagation())}),t.current.addEventListener("mouseup",function(e){self.enabled&&2===e.button&&(l=!1)}),t.current.addEventListener("keydown",function(e){self.enabled&&e.keyCode}),t.current.addEventListener("keyup",function(e){e.keyCode}),t.current.addEventListener("mousemove",function(e){if(h.x=e.clientX/window.innerWidth*2-1,h.y=-(2*(e.clientY/window.innerHeight))+1,self.enabled&&l){var t,n=g(-1*(e.originalEvent.movementX||e.originalEvent.mozMovementX||e.originalEvent.webkitMovementX||0),-1*(e.originalEvent.movementY||e.originalEvent.mozMovementY||e.originalEvent.webkitMovementY||0));self.setRotation(n.rx,n.ry)}}),t.current.addEventListener("mouseout",y),(d=new tH.Matrix4).makeRotationY(0),c.push(d),(f=new tH.Matrix4).makeRotationY(180*Math.PI/180),c.push(f),(p=new tH.Matrix4).makeRotationY(90*Math.PI/180),c.push(p),(m=new tH.Matrix4).makeRotationY(270*Math.PI/180),c.push(m),r.createElement(no,null)};n1.prototype={addToScene:function(e){this.scene=e,e.add(this.fpsBody)},setPosition:function(e,t,n){this.fpsBody.position.set(e,t,n)},stopMouseMoving:function(){isRightMouseDown=!1},getHitObjects:function(){return hitObjects}};var n3=n1,nk=o.ZP.div.withConfig({displayName:"Equirectangular4__Blocker",componentId:"sc-n47vax-0"})(["border:1px dashed red;position:relative;width:100%;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),n2=o.ZP.div.withConfig({displayName:"Equirectangular4__W",componentId:"sc-n47vax-1"})(["border:1px solid blue;height:90vh;"]),n5=function(e){(0,a.IJ)(e,"Equirectangular2");var t=e.map;(0,Z.k6)();var n,o,i,l,c,u,s=[],d=(0,r.useContext)(U.Nd),f=d.bottomDrawerOpen,p=d.folded,m=(d.setFolded,d.itemToUnlock,d.setItemToUnlock,d.mapPanelWidth,d.setMapPanelWidth,d.mapPanelHeight,d.setMapPanelHeight,d.ratedConfirmation,d.setRatedConfirmation,d.showItem,d.setShowItem,d.showUrl,d.setShowUrl,d.twofoldPercent),h=(0,r.useRef)(null),y=(0,r.useRef)(null),g=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,d,f,p,m,g,I,L,O;(n=new tH.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tH.Scene).background=new tH.Color(16777215),u.fog=new tH.Fog(16777215,0,750),(e=new tH.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new nn(n,document.body),h.current.addEventListener("click",function(){(0,a.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!0;break;case"ArrowLeft":case"KeyA":_=!0;break;case"ArrowDown":case"KeyS":w=!0;break;case"ArrowRight":case"KeyD":b=!0;break;case"Space":!0===E&&(k.y+=350),E=!1}},d=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!1;break;case"ArrowLeft":case"KeyA":_=!1;break;case"ArrowDown":case"KeyS":w=!1;break;case"ArrowRight":case"KeyD":b=!1}},document.addEventListener("keydown",r),document.addEventListener("keyup",d),i=new tH.Raycaster(new tH.Vector3,new tH.Vector3(0,-1,0),0,10),f=new tH.AxisHelper(700),u.add(f),p=y.current,(o=new n3({container:p,camera:n,options:{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40},RotationPad:rotationPad,THREE:tH})).setPosition(0,35,400),o.addToScene(u),(m=new tH.PlaneGeometry(100,100,10,10)).rotateX(-Math.PI/2),(c=tH.ImageUtils.loadTexture("/assets/textures/100x100_lazer-floor.png")).wrapS=tH.RepeatWrapping,c.wrapT=tH.RepeatWrapping,c.repeat.set(10,10),g=new tH.MeshPhongMaterial({map:c}),I=new tH.Mesh(m,g),u.add(I),L=new tH.TextureLoader,O=t.img_path,c=L.load(O,function(){var e=new tH.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(l,c),u.background=e.texture}),(l=new tH.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(h.current.clientWidth,h.current.clientHeight),h.current.appendChild(l.domElement),window.addEventListener("resize",P),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tH.Vector3(0,0,0)).clone(),a=(i=new tH.Raycaster(n.position,r)).intersectObjects(s,!0);a.length&&(a[0].object,a[0].distance<5&&(v=!1));var c=a.length>0,d=(t-x)/1e3;k.x-=10*k.x*d,k.z-=10*k.z*d,k.y-=9.8*100*d,C.z=Number(v)-Number(w),C.x=Number(b)-Number(_),C.normalize(),(v||w)&&(k.z-=400*C.z*d),(_||b)&&(k.x-=400*C.x*d),!0===c&&(k.y=Math.max(0,k.y),E=!0),o.moveRight(-k.x*d),o.moveForward(-k.z*d),o.getObject().position.y+=k.y*d,o.getObject().position.y<10&&(k.y=0,o.getObject().position.y=10,E=!0)}x=t,l.render(u,n)}()},[]),(0,r.useEffect)(function(){window.dispatchEvent(new Event("resize"))},[f,p,m]);var v=!1,w=!1,_=!1,b=!1,E=!1,x=performance.now(),k=new tH.Vector3,C=new tH.Vector3;function P(){var e,t,r,o;if(e=l.domElement,t=h.current.clientWidth,r=h.current.clientHeight,(o=e.width!==t||e.height!==r)&&l.setSize(t,r),o){var a=h.current.clientWidth,i=h.current.clientHeight;n.aspect=a/i,n.updateProjectionMatrix()}}return new tH.Vector3,new tH.Color,r.createElement(n2,{ref:y},r.createElement("div",{ref:g}),r.createElement(nk,{ref:h},r.createElement("div",{id:"Crosshair"}),r.createElement(no,null)))},nC=function(e){var t,n,o,i,l,c,u,s=(0,r.useRef)(null);function d(){t.aspect=s.current.clientWidth/s.current.clientHeight,t.updateProjectionMatrix(),l.setSize(s.current.clientWidth,s.current.clientHeight)}return(0,r.useRef)(null),(0,r.useEffect)(function(){var e;(t=new tH.PerspectiveCamera(75,2,.1,1e3)).position.y=10,t.position.z=-10,(u=new tH.Scene).background=new tH.Color(3220255),u.fog=new tH.Fog(16777215,0,750),(e=new tH.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),c=tH.ImageUtils.loadTexture("/assets/textures/2k_mercury.jpeg"),n=new tH.SphereBufferGeometry(1,32,32),o=new tH.MeshBasicMaterial({map:c}),(i=new tH.Mesh(n,o)).position.y=10,i.position.z=-12,u.add(i),(l=new tH.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(700,350),s.current.appendChild(l.domElement),window.addEventListener("resize",d),function e(){requestAnimationFrame(e),i.rotation.y+=35e-5,l.render(u,t)}()},[]),r.createElement(r.Fragment,null,r.createElement(tV,Object.assign({},a.S,{ref:s})))};function nP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n4(e,t){return(n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n7(e){return(n7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n6=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n7(t);if(n){var o=n7(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);var r=[];!function e(t){for(var n=0;n<t.length;n++){var o=t[n].box.min,a=t[n].box.max;r.push(a.x,a.y,a.z),r.push(o.x,a.y,a.z),r.push(o.x,a.y,a.z),r.push(o.x,o.y,a.z),r.push(o.x,o.y,a.z),r.push(a.x,o.y,a.z),r.push(a.x,o.y,a.z),r.push(a.x,a.y,a.z),r.push(a.x,a.y,o.z),r.push(o.x,a.y,o.z),r.push(o.x,a.y,o.z),r.push(o.x,o.y,o.z),r.push(o.x,o.y,o.z),r.push(a.x,o.y,o.z),r.push(a.x,o.y,o.z),r.push(a.x,a.y,o.z),r.push(a.x,a.y,a.z),r.push(a.x,a.y,o.z),r.push(o.x,a.y,a.z),r.push(o.x,a.y,o.z),r.push(o.x,o.y,a.z),r.push(o.x,o.y,o.z),r.push(a.x,o.y,a.z),r.push(a.x,o.y,o.z),e(t[n].subTrees)}}(e.subTrees);var o=new tH.BufferGeometry;return o.setAttribute("position",new tH.Float32BufferAttribute(r,3)),(t=i.call(this,o,new tH.LineBasicMaterial({color:n,toneMapped:!1}))).octree=e,t.color=n,t.type="OctreeHelper",t}return r=l,o&&nP(r.prototype,o),a&&nP(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(tH.LineSegments),nI=n(2936);function nL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nO(){return(nO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nM(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function nS(e,t){return(nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nM(e){return(nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nS(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nM(t);if(n){var o=nM(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(e=i.call(this)).isCSS2DObject=!0,e.element=t,e.element.style.position="absolute",e.element.style.userSelect="none",e.element.setAttribute("draggable",!1),e.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})}),e}return r=l,o=[{key:"copy",value:function(e,t){return nO(nM(l.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}],nL(r.prototype,o),a&&nL(r,a),Object.defineProperty(r,"prototype",{writable:!1}),l}(tH.Object3D),new tH.Vector3,new tH.Matrix4,new tH.Matrix4,new tH.Vector3,new tH.Vector3;var nA=function(){var e,t,n;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.resources=new Set}return e=r,t=[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach(function(e){return t.track(e)}),e;if((e.dispose||e instanceof tH.Object3D)&&this.resources.add(e),e instanceof tH.Object3D)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof tH.Material){for(var n=0,r=Object.values(e);n<r.length;n++){var o=r[n];o instanceof tH.Texture&&this.track(o)}if(e.uniforms)for(var a=0,i=Object.values(e.uniforms);a<i.length;a++){var l=i[a];if(l){var c=l.value;(c instanceof tH.Texture||Array.isArray(c))&&this.track(c)}}}return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nN(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof tH.Object3D&&n.parent&&n.parent.remove(n),n.dispose&&n.dispose()}}catch(r){t.e(r)}finally{t.f()}this.resources.clear()}}],nT(e.prototype,t),n&&nT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}(),nj={cm:function(e){return e},m:function(e){return 100*e},centimeters:function(e){return e},meters:function(e){return 100*e}},nD=function(e){(0,a.IJ)(e,"ThreePanelDesktop");var t,n,o,i,l,c,u,s,d=e.map,f=e.slug,p=(0,r.useContext)(a.Il),m=p.useHistory,h=p.scene,y=p.worldOctree,g=p.setWorldOctree,v=p.markers2destinationSlugs,w=(p.setSarkers2destinationSlugs,p.tracked),_=new nA;_.track.bind(_);var b=(0,r.useRef)([]),E=m(),x=new tH.PerspectiveCamera(75,2,nj.cm(10),nj.m(25)),k={},C=new tH.WebGLRenderer({antialias:!0});C.setPixelRatio(window.devicePixelRatio),C.setSize(700,350),C.shadowMap.enabled=!0;var P=nj.m(3),I=nj.m(1),L=nj.m(8),O=(0,r.useRef)(null),S=(0,r.useRef)(null);(0,r.useEffect)(function(){var e;_.dispose(),(0,a.IJ)(h,"init Scene"),e=new tH.AxesHelper(50),h.add(e),x.position.y=nj.m(0),x.position.z=nj.cm(0),(s=new tH.Mesh(F,T)).position.y=I,s.position.x=-nj.m(2),s.position.z=nj.m(3),s.add(x),h.add(s),h.add(j),G(),W(d.config.studio),H(),O.current.appendChild(C.domElement),function e(){var n,r,o,a=performance.now(),i=(a-R)/1e3;!0===t.isLocked&&(r=(n=i)*L,D&&(r*=.8),k.KeyW&&z.add(B().multiplyScalar(-r)),k.KeyS&&z.add(B().multiplyScalar(r)),k.KeyA&&z.add(q().multiplyScalar(r)),k.KeyD&&z.add(q().multiplyScalar(-r)),D&&k.Space&&(z.y=nj.m(3),D=!1),o=Math.exp(-4*n)-1,D||(z.y-=P*n,o*=.1),z.addScaledVector(z,o),J(i),Y(),X()),C.render(h,x),R=a,requestAnimationFrame(e)}(),K()},[d.id,f]),new tH.TextureLoader;var M=new na.E,N=new tH.MeshBasicMaterial({color:16776960}),T=new tH.MeshStandardMaterial;T.wireframe=!0;var A=new nI.s(new tH.Vector3(0,0,0),new tH.Vector3(0,I,0),nj.m(.5));A.translate(new tH.Vector3(-nj.m(2),0,nj.m(3)));var j=new tH.Mesh(new tH.CylinderBufferGeometry(nj.m(.05),nj.m(.025),nj.m(.15),5),N);new nI.s(new tH.Vector3(0,0,0),new tH.Vector3(0,I,0),6),new tH.Mesh(new tH.CylinderBufferGeometry(6,3,I,5),N);var D=!1,R=performance.now(),z=new tH.Vector3,Z=new tH.Vector3,F=new tH.SphereGeometry(5,8,8);window.addEventListener("resize",K);var U=function(e){e instanceof tH.Object3D&&e.parent&&e.parent.remove(e),e.dispose&&e.dispose()},W=function(e){(0,a.IJ)(null,"initStudio"),n=new tH.AmbientLight(16777215,1.1),h.add(n),(n=new tH.DirectionalLight(16777215,1)).position.set(50,100,0),n.target.position.set(0,0,0),h.add(n),h.add(n.target),n.castShadow=!0;var t,n,r=n;r.shadow.camera.bottom=-150,r.shadow.camera.top=150,r.shadow.camera.left=-150,r.shadow.camera.right=150,r.shadow.camera.near=10,r.shadow.camera.far=5e3,r.shadow.camera.updateProjectionMatrix(),(t=r.position).set.apply(t,[0,400,0]),h.add(r),new tH.CameraHelper(r.shadow.camera)},G=function(){t=new nn(s,document.body),O.current.addEventListener("click",function(){(0,a.IJ)("event #click, locked controls"),t.lock()}),t.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),t.addEventListener("unlock",function(){(0,a.IJ)("event #unlock")}),h.add(t.getObject());var e=function(){if(l&&t.isLocked){for((0,a.IJ)(w,"cleaning Up");w.length;){var e=w.pop();(0,a.IJ)(e,"popped"),h.remove(e),U(e)}g(new ni.V),E.push(V.X.location({slug:v[l.uuid].destination_slug}))}};document.addEventListener("keydown",function(e){k[e.code]=!0}),document.addEventListener("keyup",function(e){k[e.code]=!1}),document.addEventListener("click",e),n=new tH.Raycaster(new tH.Vector3,new tH.Vector3(0,-1,0),0,10)},H=function(){var e=new tH.MeshLambertMaterial({color:"black",side:tH.BackSide});e.onBeforeCompile=function(e){e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        vec3 transformed = position + objectNormal*0.06;\n      ")},new tH.MeshPhongMaterial({color:"yellow",side:tH.FrontSide}),b.current=[],d.markers.map(function(t,n){t.asset3d_path&&M.load(t.asset3d_path,function(n){w.push(n.scene),(0,a.IJ)(w,"adding Tracking"),n.scene.position.x=t.x,n.scene.position.y=t.y,n.scene.position.z=t.z,n.scene.scale.multiplyScalar(110);var r=n.scene.clone();r.traverse(function(t){t.material=e}),h.add(r),h.add(n.scene),y.fromGraphNode(n.scene,h),(o=new n6(y)).visible=!1,h.add(o),n.scene.traverse(function(e){e.isMesh&&(t.castShadow&&(e.castShadow=!0),t.receiveShadow&&(e.receiveShadow=!0))}),t.destination_slug&&(b.current.push(n.scene),n.scene.traverse(function(e){e.isMesh&&(e.material.emissive.setHex(65535),v[e.uuid]={destination_slug:t.destination_slug})}))})})};function B(){return s.getWorldDirection(Z),Z.y=0,Z.normalize(),Z}function q(){return s.getWorldDirection(Z),Z.y=0,Z.normalize(),Z.cross(x.up),Z}var J=function(e){i=z.clone().multiplyScalar(e),A.translate(i),s.position.copy(A.end),j.position.copy(A.end),s.position.y+=z.y*e,s.position.y<I&&(z.y=0,s.position.y=I,D=!0)},Y=function(){y&&(u=y.capsuleIntersect(A))&&((D=u.normal.y>0)||z.addScaledVector(u.normal,-u.normal.dot(z)),A.translate(u.normal.multiplyScalar(u.depth)))},X=function(){var e=x.position.clone();e.applyMatrix4(x.matrixWorld);var t=new tH.Vector3;x.getWorldDirection(t),t.normalize();var r=(n=new tH.Raycaster(e,t)).intersectObjects(b.current,!0);l&&(l.material.emissive.setHex(c),l=void 0),r.length&&(c=(l=r[0].object).material.emissive.getHex(),l.material.emissive.setHex(16776960))},K=function(){x.aspect=O.current.clientWidth/O.current.clientHeight,x.updateProjectionMatrix(),C.setSize(O.current.clientWidth,O.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:S,className:"Instructions empty"}),r.createElement(tV,{ref:O,className:"Blocker"},r.createElement("div",{id:"Crosshair"})))};o.ZP.div.withConfig({displayName:"ThreePanelV1__Blocker",componentId:"sc-tdhfy-0"})(["height:calc(100% - ",");"],function(e){return e.theme.breadcrumbsHeight}),o.ZP.div.withConfig({displayName:"ThreePanelV2__Blocker",componentId:"sc-123lz9r-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),n(5079),o.ZP.div.withConfig({displayName:"ThreePanelV3__Blocker",componentId:"sc-1x7r1h8-0"})(["position:relative;width:100%;height:100%;"]);var nR=n(6023),nz=o.ZP.div.withConfig({displayName:"ThreePanelV4__Blocker",componentId:"sc-mpzgez-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),nZ=function(e){(0,a.IJ)(e,"ThreePanelV4");var t=e.map;(0,Z.k6)();var n,o,i,l,c,u,s=[],d=[],f=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,p,x,k,C,P,I,L,O,S;(n=new tH.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tH.Scene).background=new tH.Color(16777215),u.fog=new tH.Fog(16777215,0,750),(e=new tH.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new nn(n,document.body),f.current.addEventListener("click",function(){(0,a.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=new tH.ShaderMaterial({uniforms:{main_color:{value:{r:1,g:1,b:1}},border_color:{value:{r:0,g:0,b:.1}},thickness:{value:.006},height:{value:.13},offset:{value:.05},border:{value:.003},opacity:{value:1},center:{value:{x:.5,y:.5}},rotation:{value:0}},vertexShader:"\n                uniform float rotation;\n                uniform vec2 center;\n                #include <common>\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n                    vec2 scale;\n                    scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n                    scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n                    #ifndef USE_SIZEATTENUATION\n                        bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n                        if ( isPerspective ) scale *= - mvPosition.z;\n                    #endif\n                    vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n                    vec2 rotatedPosition;\n                    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n                    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n                    mvPosition.xy += rotatedPosition;\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n            uniform vec3 main_color;\n            uniform vec3 border_color;\n            uniform float opacity;\n\n            uniform float thickness;\n            uniform float height;\n            uniform float offset;\n            uniform float border;\n\n            varying vec2 vUv;\n            void main() {\n\n                float a = (step(abs(vUv.x - 0.5), thickness)) * step(abs(vUv.y - 0.5), height + offset) * step(offset, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness)) * step(abs(vUv.x - 0.5), height + offset) * step(offset, abs(vUv.x - 0.5));\n                float b = (step(abs(vUv.x - 0.5), thickness - border)) * step(abs(vUv.y - 0.5), height + offset - border) * step(offset + border, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness - border)) * step(abs(vUv.x - 0.5), height + offset - border) * step(offset + border, abs(vUv.x - 0.5));\n                gl_FragColor = vec4( mix(border_color, main_color, b), a * opacity);\n            }\n        ",transparent:!0}),new tH.Sprite(r),p=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!0;break;case"ArrowLeft":case"KeyA":y=!0;break;case"ArrowDown":case"KeyS":h=!0;break;case"ArrowRight":case"KeyD":g=!0;break;case"Space":!0===v&&(_.y+=350),v=!1}},x=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!1;break;case"ArrowLeft":case"KeyA":y=!1;break;case"ArrowDown":case"KeyS":h=!1;break;case"ArrowRight":case"KeyD":g=!1}},document.addEventListener("keydown",p),document.addEventListener("keyup",x),i=new tH.Raycaster(new tH.Vector3,new tH.Vector3(0,-1,0),0,10),c=tH.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(k=new tH.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),C=new tH.MeshBasicMaterial({map:c}),P=new tH.Mesh(k,C),u.add(P),I=new tH.LoadingManager,(L=new nR.v(I)).setPath("/assets/textures/"),O=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},S=function(){},t.markers.map(function(e,t){var n,r,o=e.slug,i="".concat(o,"/").concat(o,".mtl"),l="".concat(o,"/").concat(o,".obj");L.load(i,(n=l,r=o,function(e){e.preload();var t=new tU.L(I);t.setMaterials(e),t.setPath("/assets/objects/"),t.load(n,function(e){e.traverse(function(e){e.isMesh&&e.geometry.scale(10,10,10)}),e.position.x=100*Math.random(),e.position.y=10,e.position.z=100*Math.random(),(0,a.IJ)(e,"loaded obj"),u.add(e),s.push(e),d.push({uuid:e.uuid,name:r})},O,S)}))}),c=new tH.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tH.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(l,c),u.background=e.texture}),(l=new tH.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(700,350),f.current.appendChild(l.domElement),window.addEventListener("resize",E),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tH.Vector3(0,0,0)).clone(),a=(i=new tH.Raycaster(n.position,r)).intersectObjects(s,!0);a.length&&a[0].object;var c=a.length>0,d=(t-w)/1e3;_.x-=10*_.x*d,_.z-=10*_.z*d,_.y-=9.8*100*d,b.z=Number(m)-Number(h),b.x=Number(g)-Number(y),b.normalize(),(m||h)&&(_.z-=400*b.z*d),(y||g)&&(_.x-=400*b.x*d),!0===c&&(_.y=Math.max(0,_.y),v=!0),o.moveRight(-_.x*d),o.moveForward(-_.z*d),o.getObject().position.y+=_.y*d,o.getObject().position.y<10&&(_.y=0,o.getObject().position.y=10,v=!0)}w=t,l.render(u,n)}()},[]);var m=!1,h=!1,y=!1,g=!1,v=!1,w=performance.now(),_=new tH.Vector3,b=new tH.Vector3;function E(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)}return new tH.Vector3,new tH.Color,r.createElement(r.Fragment,null,r.createElement("div",{ref:p}),r.createElement(nz,{ref:f},r.createElement("div",{id:"Crosshair"})))},nF=o.ZP.div.withConfig({displayName:"LocationsShowMobile3d__W",componentId:"sc-1mparkt-0"})([""]),nU=function(e){(0,a.IJ)(e,"LocationsShowMobile3d");var t=e.location,n=e.match,o=(0,r.useRef)(null);return r.createElement(nF,{className:"LocationsShowMobile3d"},t&&r.createElement(ns,{map:t.map||t,ref:o,slug:n.params.slug}))};function nW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nG=o.ZP.div.withConfig({displayName:"MapPanel__Actions",componentId:"sc-1dfbrdt-0"})(["border:1px solid red;position:absolute;top:0;right:0;z-index:2;"]),nV=o.ZP.div.withConfig({displayName:"MapPanel__W0",componentId:"sc-1dfbrdt-1"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:",";height:100%;display:flex;align-items:center;justify-content:center;position:relative;"],function(e){return e.theme.colors.background}),nH=o.ZP.div.withConfig({displayName:"MapPanel__W1",componentId:"sc-1dfbrdt-2"})(["display:flex;align-items:center;justify-content:center;position:relative;height:100%;"]),nB=function(e){var t,n=e.map,o=(0,r.useContext)(U.Nd),i=(o.bottomDrawerOpen,o.editorMode),l=o.mapPanelWidth,c=o.mapPanelHeight,u=o.zoom,s=o.setZoom,d=(0,r.useContext)(tw),f=(d.markerModalOpen,d.setMarkerModalOpen),p=(0,(0,r.useContext)(a.Il).useHistory)(),m=function(e){if(Array.isArray(e))return e}(t=(0,a.iP)())||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nW(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1];(0,r.useEffect)(function(){if(0!==h){var e,t=Math.min(h/n.w,y/n.h);s(t+=.01)}},[l,c,n.id,h,y]);var g=[];return e.map.markers.map(function(e,t){var n=r.createElement("div",{key:t,onClick:function(){return p.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:e.y*u,left:e.x*u,zIndex:2}},r.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w*u,"px"),maxHeight:"".concat(e.h*u,"px"),width:"auto",height:"auto"}}));g.push(n)}),r.createElement(nV,{className:"W0 MapPanel"},i&&r.createElement(nG,null,r.createElement(a.Zb,{onClick:function(){return f(!0)}},"+ Marker")),r.createElement(nH,{className:"W1"},r.createElement("img",{src:n.img_path,style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",position:"relative",zIndex:0}}),g))},nq=o.ZP.div.withConfig({displayName:"WrappedMapPanel__W0",componentId:"sc-ahks14-0"})(["overflow:hidden;flex-grow:1;"]),nJ=o.ZP.div.withConfig({displayName:"WrappedMapPanel__FW",componentId:"sc-ahks14-1"})([""]),nY=r.forwardRef(function(e,t){switch((0,a.IJ)(e,"WrappedMapPanel"),!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),e.map.config.map_panel_type){case a.C.map_panel_types.Equirectangular:return r.createElement(nq,{ref:t,className:"Equirectangular4"},r.createElement(n5,e));case a.C.map_panel_types.MapPanel:return r.createElement(nq,{ref:t,className:"WrappedMapPanel"},r.createElement(nB,Object.assign({withZoom:!1},e)));case a.C.map_panel_types.ThreePanelV1:return r.createElement(nD,e);case a.C.map_panel_types.ThreePanelV1Fullscreen:return r.createElement(nJ,{ref:t,className:"FW"},r.createElement(nD,e));case a.C.map_panel_types.TabiversePlanet:return r.createElement(nq,null,r.createElement(nC,e));case a.C.map_panel_types.ThreePanelV4:return r.createElement(nq,null,r.createElement(nZ,e));case a.C.map_panel_types.GoogleMaps:return r.createElement(nq,null,r.createElement(P,e));case a.C.map_panel_types.ConferenceRoom:return r.createElement(nq,null,r.createElement(d,e));default:return r.createElement(nq,{ref:t,className:"WrappedMapPanel"},r.createElement(nB,e))}});o.ZP.div.withConfig({displayName:"ZoomCtrl__W",componentId:"sc-xo781b-0"})(["position:absolute;top:0;right:0;z-index:1;background:white;padding:5px;display:flex;flex-direction:column;"])},3204:function(e,t,n){"use strict";n.d(t,{v:function(){return u},X:function(){return h}});var r=n(7294),o=n(9430),a=n(2661),i=o.ZP.div.withConfig({displayName:"ReportsForm__Actions",componentId:"sc-zt7bri-0"})([""]),l=o.ZP.div.withConfig({displayName:"ReportsForm__W0",componentId:"sc-zt7bri-1"})([""]),c=function(e){return e.item,r.createElement(l,null,r.createElement("h1",null,"Report Form (@TODO: remove)"),r.createElement("form",null,r.createElement(a.gq,null,r.createElement("input",{type:"text",name:"name"})," name"),r.createElement(a.gq,null,r.createElement("textarea",{name:"name"})," subhead"),r.createElement(a.gq,null,"item_type: default? longscroll?"),r.createElement(a.gq,null,"@TODO: editable slug, the fucking slug hasn't been solved in 10 years!"),r.createElement(a.gq,null,"@TODO: premium tier"),r.createElement(a.gq,null,"@TODO: tags"),r.createElement(a.gq,null,"public?"),r.createElement("textarea",null)," description",r.createElement(i,null,r.createElement("button",{type:"submit"},"Create"))))};c.propTypes={};var u=c,s=n(5697),d=n.n(s),f=n(8085),p=o.ZP.div.withConfig({displayName:"ReportsShow__W0",componentId:"sc-1gldjyo-0"})([""]),m=function(e){(0,f.IJ)(e,"ReportsShow");var t,n,o=e.item,a=o.descr;return null!==(t=o.raw_json)&&void 0!==t&&null!==(n=t.content)&&void 0!==n&&n.rendered&&(a=o.raw_json.content.rendered),r.createElement(p,null,r.createElement("h1",null,o.name),r.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a}}))};m.propTypes={item:d().object.isRequired};var h=m},5502:function(e,t,n){"use strict";n.d(t,{mR:function(){return j},di:function(){return ey},RD:function(){return ev},pu:function(){return ef}});var r=n(9895);n(4524);var o=n(7294),a=n(9430),i=n(5553),l=n.n(i),c=n(2947),u=n(8085),s=n(773),d=n(2634),f=n(7114),p=n(6076),m=n(8816),h=n(1749),y=n(3727),g=n(179),v=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),w=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new C(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return I()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=E(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function b(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)})}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||L(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=r.dV.isPluginAvailable("PushNotifications"),M="0x4bE9765Ca063E73E0aaEd227fd6731473508DbE0",N="0xffa52d00685aC60e65457922aEae2c2783c0cB0E",T=function(){return o.createElement("div",null,"PasswordLogin - @TODO: remove")},A=a.ZP.div.withConfig({displayName:"Account__LoginRow",componentId:"sc-xdfxzq-0"})(["display:flex;> *{margin:auto .4em;}"]),j=function(e){var t=(0,o.useContext)(c.Nd),n=t.currentUser;t.setCurrentUser;var r,a=I((0,o.useState)(""),2),i=a[0],l=a[1],b=I((0,o.useState)([]),2),x=b[0],C=b[1],L=I((0,o.useState)(""),2),O=L[0],j=L[1],D=function(){},R=function(){s.V.register(),s.V.addListener("registration",function(e){z("Push registration success")}),s.V.addListener("registrationError",function(e){alert("Error on registration: "+JSON.stringify(e))}),s.V.addListener("pushNotificationReceived",function(e){var t=e;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"foreground"})])})}),s.V.addListener("pushNotificationActionPerformed",function(e){var t=e.nofitication;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"action"})])})})},z=(r=E(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.F.show({text:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});function Z(){return F.apply(this,arguments)}function F(){return(F=E(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return W.apply(this,arguments)}function W(){return(W=E(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=13;break}return t=new f.Q(window.ethereum),n=new p.CH(M,v.Mt,t),e.prev=3,e.next=6,n.greet();case 6:l(r=e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}function G(){return(G=E(_().mark(function e(){var t,n,r,o,a,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return r=(n=I(t=e.sent,1))[0],o=new f.Q(window.ethereum),a=new p.CH(N,w.Mt,o),e.next=10,a.balanceOf(r);case 10:i=e.sent,console.log("Balance: ",i.toString());case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(){return(V=E(_().mark(function e(){var t,n,r,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(!(void 0!==window.ethereum)){e.next=14;break}return e.next=5,Z();case 5:return n=(t=new f.Q(window.ethereum)).getSigner(),r=new p.CH(M,v.Mt,n),e.next=10,r.setGreeting(i);case 10:return o=e.sent,e.next=13,o.wait();case 13:U();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(){return(H=E(_().mark(function e(){var t,n,r,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,Z();case 3:return n=(t=new f.Q(window.ethereum)).getSigner(),r=new p.CH(N,w.Mt,n),e.next=8,r.transfer(userAccount,amount);case 8:return o=e.sent,e.next=11,o.wait();case 11:console.log("".concat(amount," Coins successfully sent to ").concat(userAccount));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,o.useEffect)(function(){S&&s.V.checkPermissions().then(function(e){"granted"===e.receive?R():s.V.requestPermissions().then(function(e){"denied"===e.receive?z("Push Notification permission denied"):(z("Push Notification permission granted"),R())})})},[]),o.createElement(m._i,null,o.createElement(h.Z,{container:!0},o.createElement(g.fv,{variant:u.C.variants.inline}),o.createElement("h1",null,"Account")),o.createElement(m.W2,{className:"ion-padding"},o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:12},o.createElement(h.Z,{container:!0},o.createElement(h.Z,{item:!0,xs:6},o.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"}),o.createElement("div",null,o.createElement("button",{onClick:U},"Fetch Greeting"),o.createElement("br",null),o.createElement("button",{onClick:function(){return V.apply(this,arguments)}},"Set Greeting"),o.createElement("br",null),o.createElement("input",{value:i,onChange:function(e){return l(e.target.value)},placeholder:"Set greeting"})),o.createElement("hr",null),o.createElement("div",null,o.createElement("button",{onClick:function(){return G.apply(this,arguments)}},"Get Balance"),o.createElement("br",null),o.createElement("button",{onClick:function(){return H.apply(this,arguments)}},"Send Coins"),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setUserAccount(e.target.value)},placeholder:"Account ID"}),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setAmount(e.target.value)},placeholder:"Amount"}))),o.createElement(h.Z,{item:!0,xs:6},!!n&&o.createElement(o.Fragment,null,o.createElement("h4",null,n.email),o.createElement("ul",null,o.createElement("li",null,o.createElement(y.rU,{to:"/en/account/my/galleries"},"My Galleries")),o.createElement("li",null,o.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),o.createElement("li",null,o.createElement(ev,null))))||o.createElement(o.Fragment,null,o.createElement("h4",null,"Not logged in"),o.createElement(A,null,o.createElement(ey,null),o.createElement(T,null))))),o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:6},o.createElement("textarea",{value:O,onChange:j}),o.createElement("button",{type:"submit",onClick:D},"Save Scratchpad"))))),o.createElement("hr",null),x.length&&o.createElement(m.q_,null,x.map(function(e){return o.createElement(m.Ie,{key:e.id},o.createElement(m.Q$,null,o.createElement(m.yW,null,o.createElement("h3",{className:"notif-title"},e.title)),o.createElement("p",null,e.body),"foreground"===e.type&&o.createElement("p",null,"This data was received in foreground"),"action"===e.type&&o.createElement("p",null,"This data was received on tap")))}))||"no notifications so far"),o.createElement(m.fr,null,o.createElement(m.sr,null,S&&o.createElement(m.YG,{color:"success",expand:"full",onClick:R},"Register for Push")||o.createElement("div",null,o.createElement("h1",null,"Push notifications not available")))))},D=n(1139),R=n(9067),z=n(2132);n(888),n(7918);var Z=n(7044),F=n(9857),U=n(2661),W=n(8433);n(6730);var G=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"awardToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_idx","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"ownerTokens","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),V=["children"],H=["fill","w","h"];function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function q(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function J(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){q(a,r,o,i,l,"next",e)}function l(e){q(a,r,o,i,l,"throw",e)}i(void 0)})}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var K=a.ZP.div.withConfig({displayName:"MyAccountWidget__FlexCol",componentId:"sc-1lfqp20-0"})(["display:flex;flex-direction:column;"]),Q=a.ZP.div.withConfig({displayName:"MyAccountWidget__FlexRow",componentId:"sc-1lfqp20-1"})(["display:flex;flex-wrap:wrap;"]),ee=(0,a.ZP)(R.Z).withConfig({displayName:"MyAccountWidget__Edit",componentId:"sc-1lfqp20-2"})(["font-size:18px;position:absolute;top:2px;right:2px;cursor:pointer;"]),et=a.ZP.div.withConfig({displayName:"MyAccountWidget___Img",componentId:"sc-1lfqp20-3"})(["border:1px solid #333333;border-radius:4px;position:relative;width:90px;height:90px;margin:5px;margin-right:",";background-image:url('","');background-size:cover;"],function(e){return e.theme.smallWidth},function(e){return e.src}),en=function(e){var t=e.src,n=function(){(0,z.Am)("Editing your avatar is not yet implemented")};return o.createElement(et,{src:t},o.createElement(ee,{onClick:n}))},er=new F._k,eo=a.ZP.div.withConfig({displayName:"MyAccountWidget___CoinManager",componentId:"sc-1lfqp20-4"})(["display:flex;"]),ea=function(e){var t=e.children,n=X(e,V);return o.createElement(eo,Object.assign({className:"CoinManager"},n),t)},ei=a.ZP.div.withConfig({displayName:"MyAccountWidget__W0",componentId:"sc-1lfqp20-5"})(["display:flex;justify-content:flex-start;align-items:center;"]),el=a.ZP.div.withConfig({displayName:"MyAccountWidget__W1",componentId:"sc-1lfqp20-6"})([""]),ec=function(e){return o.createElement(u.un,e,"Register with Email")},eu=function(e){return o.createElement(u.un,e,"Login with Email")},es=function(e){var t=e.fill,n=e.w,r=e.h,a=X(e,H);return n=n||"12px",r=r||"12px",t=t||"#333333",o.createElement("span",a,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 96.943 96.943",style:{enableBackground:"new 0 0 96.943 96.943"}},o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M61.168,83.92H11.364V13.025H61.17c1.104,0,2-0.896,2-2V3.66c0-1.104-0.896-2-2-2H2c-1.104,0-2,0.896-2,2v89.623 c0,1.104,0.896,2,2,2h59.168c1.105,0,2-0.896,2-2V85.92C63.168,84.814,62.274,83.92,61.168,83.92z"})," ",o.createElement("path",{d:"M96.355,47.058l-26.922-26.92c-0.75-0.751-2.078-0.75-2.828,0l-6.387,6.388c-0.781,0.781-0.781,2.047,0,2.828 l12.16,12.162H19.737c-1.104,0-2,0.896-2,2v9.912c0,1.104,0.896,2,2,2h52.644L60.221,67.59c-0.781,0.781-0.781,2.047,0,2.828 l6.387,6.389c0.375,0.375,0.885,0.586,1.414,0.586c0.531,0,1.039-0.211,1.414-0.586l26.922-26.92 c0.375-0.375,0.586-0.885,0.586-1.414C96.943,47.941,96.73,47.433,96.355,47.058z"})," ")," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null),o.createElement("g",null),o.createElement("g",null)))},ed=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,o.useContext)(U.Vo),r=n.currentUser,a=n.setCurrentUser,i=(n.loginModalOpen,n.setLoginModalOpen),l=n.useApi,s=(0,o.useContext)(c.Nd),d=(s.editorMode,s.setEditorMode,s.purchaseModalOpen,s.setPurchaseModalOpen),m=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)("https://d15g8hc4183yn4.cloudfront.net/wp-content/uploads/2022/09/05174137/20220904-PFP.jpg"))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],v=l(),w=(0,Z.Ge)(),_=w.active,b=w.account,E=(w.library,w.connector,w.activate),x=w.deactivate;function k(){return(k=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(er);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.IJ)(e.t0,"could not connect");case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function C(){return(C=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{x()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P,I,L=(P=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)})),function(){return P.apply(this,arguments)}),O=(I=J(B().mark(function e(){var t,n,r,o,a,i;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=15;break}return e.next=3,L();case 3:if(!b){e.next=15;break}return n=(t=new f.Q(window.ethereum)).getSigner(),r=new p.CH("0x3e1a03a9e1682f4dd95413e0be69e5b7bccaf15d",G.Mt,n),e.next=9,r.tokensOfOwner(b);case 9:return o=e.sent,a=0,e.next=13,r.tokenURI(o[a]);case 13:i=e.sent,u.WY.get(i).then(function(e){return e.data.image}).then(function(e){y(e)});case 15:case"end":return e.stop()}},e)})),function(){return I.apply(this,arguments)});(0,o.useEffect)(function(){J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,v.getMyAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[]);var S=function(){a(u.C.anonUser),localStorage.removeItem("jwt_token"),window.location.reload(!1)};return o.createElement(ei,{className:"MyAccountWidget"},(null==r?void 0:r.email)&&o.createElement(en,{src:(null==r?void 0:r.profile_photo_url)||h}),o.createElement(K,null,o.createElement(Q,null,r.email&&o.createElement(ea,null,"[\xa0",void 0===r.n_unlocks?"?":r.n_unlocks," coins\xa0",o.createElement(D.Z,{onClick:function(){return d(!0)}}),"\xa0]"),null!=r&&r.email?o.createElement(Q,null,"[\xa0",o.createElement("a",{href:W.X.location({slug:"self"})},r.email),"\xa0",o.createElement(es,{onClick:S}),"\xa0]"):o.createElement(Q,null,o.createElement(ec,{onClick:function(){setRegisterModalOpen(!0)}}),o.createElement(eu,{onClick:function(){i(!0)}}))),o.createElement(Q,null,_&&o.createElement(el,null," [",o.createElement("span",null,"Connected with ",o.createElement("b",null,b)),o.createElement("button",{onClick:function(){return C.apply(this,arguments)}},"Disconnect"),o.createElement("button",{onClick:O},"myBodies")," ]"),!_&&o.createElement(el,null,o.createElement("span",null,"Not Connected"),o.createElement("button",{onClick:function(){return k.apply(this,arguments)}},"Connect to MetaMask")))),o.createElement(g.to,null))};ed.propTypes={};var ef=ed;function ep(){ep=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function em(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var eh=r.Vn.FacebookLogin,e$=["email"],ey=function(e){var t,n,r=(0,u.h_)(),a=(0,o.useContext)(c.Nd),i=(a.currentUser,a.setCurrentUser),s=(n=(t=ep().mark(function e(){var t;return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eh.login({permissions:e$});case 2:(t=e.sent).accessToken?u.WY.post("".concat(l().apiOrigin).concat(r.longTermTokenPath),{accessToken:t.accessToken.token}).then(function(e){localStorage.setItem(u.C.jwt_token,e.data.jwt_token),i(e.data)}).catch(function(e){(0,u.IJ)(e,"Could not post request to ".concat(l().apiOrigin).concat(r.longTermTokenPath))}):(0,u.IJ)("canceled");case 4:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){em(a,r,o,i,l,"next",e)}function l(e){em(a,r,o,i,l,"throw",e)}i(void 0)})}),function(){return n.apply(this,arguments)});return o.createElement(u.un,{onClick:s},"FB Login")},eg=a.ZP.span.withConfig({displayName:"users__BuyBtn",componentId:"sc-b80luh-0"})(["border:1px solid ",";padding:5px;cursor:pointer;"],function(e){return e.theme.colors.text}),ev=function(){var e=(0,o.useContext)(c.Nd),t=(e.currentUser,e.setCurrentUser),n=function(){localStorage.removeItem(u.C.jwt_token),t({})};return o.createElement(eg,{onClick:n},"X")};a.ZP.div.withConfig({displayName:"users___W",componentId:"sc-b80luh-1"})(["display:flex;> *{}"])},8085:function(e,t,n){"use strict";n.d(t,{Il:function(){return P},wI:function(){return L},a5:function(){return ec},un:function(){return eu},C:function(){return f},Zb:function(){return ep},s$:function(){return es},_Q:function(){return ed},gb:function(){return e$},Oq:function(){return eg},S:function(){return G},Ni:function(){return K},f6:function(){return Q},xP:function(){return e_},XO:function(){return N.X},$z:function(){return em},IJ:function(){return ey},KW:function(){return ev},WY:function(){return D},h_:function(){return M},iP:function(){return et}});var r=n(8903),o=n(8816),a=n(5477),i=n(253),l=n(2156),c=n(1990),u=n(1587),s=n(7294),d=n(9430),f={actions:{new:"new",show:"show"},anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",newsitems:"newsitems-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",location:"::Gameui::Map",report:"Report",photo:"Photo",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{ConferenceRoom:"ConferenceRoom",Equirectangular:"Equirectangular",GoogleMaps:"GoogleMaps",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",TabiversePlanet:"TabiversePlanet",ThreePanelV1:"ThreePanelV1",ThreePanelV1Fullscreen:"ThreePanelV1Fullscreen",ThreePanelV4:"ThreePanelV4"},names:{editorMode:"editorMode"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",ref:{init:"init",loading:"loading"},theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical",vote_values:{up:"up",down:"down"}},p=n(2406),m=n(6775),h=n(2132),y=n(2212),g=n(5344),v=n(2661),w=n(2947),_=["children"];function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof f?t:f).prototype),u=new C(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return I()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=E(n,i);if(r){if(r===d)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var d={};function f(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(d).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,a,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function E(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=(0,s.useContext)(v.Vo).setCurrentUser,n=function(e){ey(e,"cannot login!"),(0,h.Am)("cannot login!")},r=function(e){ey("Logged in successfully."),t(e)};return s.createElement(v._A,{onError:n,onSuccess:r})},P=s.createContext({}),I=function(e){var t,n,r=e.children,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,_).useHistory,a=void 0===o?m.k6:o,i=x((0,s.useState)(null),2),l=i[0],c=i[1];(n=(t=b().mark(function e(){var t;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.A.getInfo();case 2:c((t=e.sent).operatingSystem);case 4:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){E(a,r,o,i,l,"next",e)}function l(e){E(a,r,o,i,l,"throw",e)}i(void 0)})}),function(){return n.apply(this,arguments)})();var u=x((0,s.useState)(new y.Scene),2),d=u[0];u[1];var f=x((0,s.useState)([]),2),h=f[0],k=f[1],I=x((0,s.useState)({}),2),L=I[0],O=I[1],S=x((0,s.useState)(new g.V),2),N=S[0],T=S[1],A=function(){};return s.createElement(P.Provider,{value:{os:l,useHistory:a,scene:d,tracked:h,setTracked:k,worldOctree:N,setWorldOctree:T,pickingObjects:[],setPickingObjects:A,markers2destinationSlugs:L,setMarkers2destinationSlugs:O}},s.createElement(Q,null,s.createElement(v.HD,{useApi:M},s.createElement(w.AO,null,s.createElement(w.h9,null,r,s.createElement(C,null),s.createElement(v.Kt,null))))))};I.propTypes={};var L=I,O=n(5553),S=n.n(O),M=function(){var e;try{e=localStorage.getItem(f.jwt_token)}catch(t){ey(t,"Api cannot access localStorage")}return{deleteNewsitem:function(t){var n=t.id;return D.delete("".concat(S().apiOrigin,"/api/newsitems/").concat(n,"?jwt_token=").concat(e)).then(function(e){return e.data}).then(function(e){return e})},doRegister:function(e){var t=e.email,n=e.password;return D.post("".concat(S().apiOrigin,"/api/users/register"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return ey(e,"done registered"),e})},doUnlock:function(e){var t=e.kind,n=e.id,r=localStorage.getItem("jwt_token"),o="/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(r);return D.post("".concat(S().apiOrigin).concat(o)).then(function(e){return e.data})},getCities:function(){return D.get("".concat(S().apiOrigin,"/api/cities")).then(function(e){return e.data})},getCity:function(e){return D.get("".concat(S().apiOrigin,"/api/cities/view/").concat(e))},getGallery:function(t){return D.get("".concat(S().apiOrigin,"/api/galleries/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.gallery})},getLocation:function(t){var n=t.newsitems_page,r=t.slug;return D.get("/api/maps/view/".concat(r,"?jwt_token=").concat(e,"&newsitems_page=").concat(n)).then(function(e){return e.data}).then(function(e){return e.map}).catch(function(e){return e})},getMyAccount:function(){return D.post("/api/my/account",{jwt_token:e}).then(function(e){return e.data}).catch(function(e){return f.anonUser})},getPhoto:function(t){return D.get("".concat(S().apiOrigin,"/api/photos/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.photo})},getReport:function(t){return D.get("".concat(S().apiOrigin,"/api/reports/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.report})},getTag:function(e){return D.get("".concat(S().apiOrigin,"/api/tags/view/").concat(e.slug)).then(function(e){return e.data})},initPayment:function(t){return D.post("".concat(S().apiOrigin,"/api/payments2"),{jwt_token:e,amount_cents:t.amountCents}).then(function(e){return e.data})},longTermTokenPath:"/api/users/long_term_token",postLogin:function(e){var t=e.email,n=e.password;return D.post("".concat(S().apiOrigin,"/api/users/login.json"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return localStorage.setItem(f.jwt_token,e.jwt_token),e})},myVideosPath:"/api/my/videos",applicationHome:function(){D.get("".concat(S().apiOrigin,"/api/sites/view/").concat(S().domain),{params:{jwt_token:e}}).then(function(e){return e.data})},vote:function(t){var n=t.value,r=t.voter_id,o=t.votee_id,a=t.votee_class_name;return D.post("".concat(S().apiOrigin,"/api/v1/vote/").concat(a,"/").concat(o,"/").concat(r,"/").concat(n),{params:{jwt_token:e}}).then(function(e){return ey(e,"voted"),e})},unvote:function(){ey("Unvote is not implemented!")}}},N=n(8433),T=n(9669),A=n.n(T),j={baseURL:S().apiOrigin},D=A().create(j);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={borderWidth:"10px",bottomDrawerClosedHeight:"24px",bottomDrawerOpenHeight:"124px",breadcrumbsHeight:"30px",smallWidth:"10px",mediumWidth:"20px",thinBorderWidth:"2px"},U=z(z({},F),{},{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",border:"black",blue:"#6aa3e9",cardBackground:"white",cyan:"#49bcc6",darkGrey:"#605d5d",gold:"#ffe100",lightGrey:"#988b8b",red:"red"}}),W=z(z({},F),{},{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",border:"white",blue:"#73b0fa",cardBackground:"#1a1a1a",cyan:"#49bcc6",darkGrey:"#b3afaf",gold:"#ffe100",lightGrey:"#4a4343",red:"#eb83a8"}}),G={lightTheme:U,darkTheme:W},V=n(5697),H=n.n(V),B=["children"];function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=s.createContext({});H().object;var Y=["children"];function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=s.createContext({}),Q=function(e){var t=e.children;!function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Y);var n,r=window.localStorage.getItem(f.theme)||f.themes.light,o=function(e){if(Array.isArray(e))return e}(n=(0,s.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1];(0,s.useEffect)(function(){var e=a===f.themes.light?f.themes.light:f.themes.dark,t=a===f.themes.light?f.themes.dark:f.themes.light;document.body.classList.remove(t),document.body.classList.add(e)},[]);var l=function(e){e.preventDefault(),a===f.themes.light?(window.localStorage.setItem(f.theme,f.themes.dark),i(f.themes.dark),document.body.classList.remove(f.themes.light),document.body.classList.add(f.themes.dark)):(window.localStorage.setItem(f.theme,f.themes.light),i(f.themes.light),document.body.classList.add(f.themes.light),document.body.classList.remove(f.themes.dark))};return s.createElement(K.Provider,{value:{theme:a,setTheme:i,toggleTheme:l}},s.createElement(d.f6,{theme:a==f.themes.light?G.lightTheme:G.darkTheme},t))};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var et=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)([0,0]))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1];return(0,s.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),n},en=["children"],er=["navigateToItem"],eo=["children"],ea=["className"];function ei(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var el=(0,d.ZP)(o.gu).withConfig({displayName:"shared__BackIcon",componentId:"sc-h0ppel-0"})(["margin-right:5px;cursor:pointer;"]),ec=function(){var e=(0,(0,s.useContext)(P).useHistory)(),t=(0,s.useContext)(w.Nd),n=(t.showItem,t.setShowItem),o=function(){n(null),e.goBack()};return s.createElement(el,{className:"BackBtn",icon:r.XRs,onClick:o})},eu=d.ZP.div.withConfig({displayName:"shared__Btn",componentId:"sc-h0ppel-1"})(["border:1px solid gray;border-radius:5px;padding:.3em 1em;cursor:pointer;"]),es=(0,d.ZP)(l.Z).withConfig({displayName:"shared__ChevronLeft",componentId:"sc-h0ppel-2"})(["color:",""],function(e){return e.theme.colors.text}),ed=(0,d.ZP)(c.Z).withConfig({displayName:"shared__ChevronRight",componentId:"sc-h0ppel-3"})(["color:",""],function(e){return e.theme.colors.text}),ef=(0,d.ZP)(i.Z).withConfig({displayName:"shared___Card",componentId:"sc-h0ppel-4"})(["margin-bottom:1em;padding:",";background:var(--ion-card-background-color);cursor:",";display:flex;flex-direction:column;"],function(e){return e.theme.smallWidth},function(e){return e.cursor?e.cursor:"auto"}),ep=function(e){var t=e.children,n=ei(e,en);n.navigateToItem;var r=ei(n,er);return s.createElement(ef,Object.assign({className:"Card"},r),t)};d.ZP.div.withConfig({displayName:"shared__FlexRow",componentId:"sc-h0ppel-5"})(["display:flex;> *{margin:auto .4em;}"]);var em={classify:function(e){if("locations"===e)return"::Gameui::Map";"ies"===e.slice(-3)&&(e=e.slice(0,-3)+"y"),"s"===e.slice(-1)&&(e=e.slice(0,-1));for(var t=e.split("_"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("")},tableize:function(e){switch(e){case"Gallery":return"galleries";case"::Gameui::Map":return"locations";default:return"".concat(e.toLowerCase(),"s")}}},eh=d.ZP.div.withConfig({displayName:"shared___Circle",componentId:"sc-h0ppel-6"})(["position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px;"]),e$=function(e){return s.createElement(eh,null,s.createElement(a.Z,null))},ey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)},eg=(0,d.ZP)(u.Z).withConfig({displayName:"shared__MenuIcon",componentId:"sc-h0ppel-7"})(["color:",""],function(e){return e.theme.colors.text}),ev=function(e){return(e||"").substring(0,10)};d.ZP.div.withConfig({displayName:"shared__Root",componentId:"sc-h0ppel-8"})(["background:",";height:100vh;overflow:auto;"],function(e){return e.theme.colors.background});var ew=d.ZP.div.withConfig({displayName:"shared___WBordered",componentId:"sc-h0ppel-9"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);margin-bottom:1em;padding:.5em;cursor:",";"],function(e){return e.onClick?"pointer":null}),e_=function(e){var t=e.children,n=ei(e,eo),r=n.className,o=ei(n,ea);return s.createElement(ew,Object.assign({className:"".concat(void 0===r?"":r," WBordered")},o),t)};s.createContext({})},1935:function(e){e.exports={"plt-mobile":"ItemModal_plt-mobile__sanTA",ItemModal:"ItemModal_ItemModal__puazB",ItemModalOverlay:"ItemModal_ItemModalOverlay__gP0FW"}},652:function(e){e.exports={container:"DayNightToggle_container__8uWpP",switch:"DayNightToggle_switch__dShqX",fill:"DayNightToggle_fill__eQQvw",background:"DayNightToggle_background__kRvrg",stars1:"DayNightToggle_stars1__M4CSu",stars2:"DayNightToggle_stars2__f2kRc",sunMoon:"DayNightToggle_sunMoon___7z_j",dots:"DayNightToggle_dots__5_lv_"}},6567:function(e){e.exports={Metaline:"Metaline_Metaline__XHHBl",user:"Metaline_user__gvAz_",city:"Metaline_city__t7Mok",tags:"Metaline_tags__Mk_Xn"}},6681:function(e){e.exports={LoginModal:"PurchaseModal_LoginModal__CBaX9",LoginModalOverlay:"PurchaseModal_LoginModalOverlay__rymkt",Notice:"PurchaseModal_Notice__xw_v2"}},2293:function(e){e.exports={UnlockModal:"UnlockModal_UnlockModal__VXRN4",UnlockModalOverlay:"UnlockModal_UnlockModalOverlay__AVJ1w",Notice:"UnlockModal_Notice__pMSnr"}},6468:function(e){e.exports={GalleriesShow:"Galleries_GalleriesShow__4b4gq",heading:"Galleries_heading__TqfKk",title:"Galleries_title__c2Qkg",narrow:"Galleries_narrow__ZxgG6",thumbs:"Galleries_thumbs__wbY2H",card:"Galleries_card__WEvVy",full_img_section:"Galleries_full_img_section__e4rV_",item:"Galleries_item__8C3Lb"}},2661:function(e,t,n){"use strict";n.d(t,{HD:function(){return et},Ht:function(){return V},IJ:function(){return B},Kt:function(){return Q},Vo:function(){return ee},_A:function(){return K},gq:function(){return H},xB:function(){return Y}});var r=n(7294),o=n(3935),a=n(4360),i=n(1874),l=n(2917),c=n(6405),u=n(6946),s=n(7573),d=n.n(s),f=n(6775),p=n(9430),m=n(6458),h=n.n(m),y=n(2132);n(6717);var g=n(3792),v=n.n(g);n(3770);var w=n(8657),_=n(7727),b=n(4345),E=n(8941),x=n(2622);let k={anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{scratchpad:"Scratchpad"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"};var C=h().create({});let P,I,L,O,S,M,N,T,A,j,D,R,z,Z,F=p.ZP.div(P||(P=(e=>e)`

  // @TODO: this should use variables, for Modal inner size.
  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.
  position: fixed; // for GalleriesShow
  top: 60px;
  right: 60px;

  display: flex;
  flex-direction: row-reverse;
`));p.ZP.div(I||(I=(e=>e)`
  margin-right: 5px;
  cursor: pointer;
`));let U=p.ZP.div(L||(L=(e=>e)`
  border: 1px solid gray;
  border-radius: 5px;
  cursor: pointer;
  display: inline-block;
  padding: .3em 1em;
`));(0,p.ZP)(i.Z)(O||(O=(e=>e)`
  color: ${0}
`),e=>e.theme.colors.text),(0,p.ZP)(l.Z)(S||(S=(e=>e)`
  color: ${0}
`),e=>e.theme.colors.text),(0,p.ZP)(a.Z)(M||(M=(e=>e)`
  margin-bottom: 1em;
  padding: 1em;
  background: white;
  cursor: ${0};

  display: flex;
  flex-direction: column;
`),e=>e.cursor?e.cursor:"auto");let W=({children:e,...t})=>r.createElement(c.Z,Object.assign({style:{cursor:"pointer",...t.style}},t));W.propTypes={onClick:d().func.isRequired};let G=p.ZP.div(N||(N=(e=>e)`
  display: flex;
  flex-direction: column;

  > * {
    margin: auto .4em; // @TODO: standardize this size!
  }
`)),V=({children:e,...t})=>r.createElement(G,Object.assign({className:"FlexCol"},t),e),H=p.ZP.div(T||(T=(e=>e)`
  display: flex;

  > * {
    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!
  }
`));p.ZP.div(A||(A=(e=>e)`
  position: fixed;
  z-index: 999;
  overflow: show;
  margin: auto;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  width: 50px;
  height: 50px;
`));let B=(e,t="",n=null)=>{(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&"undefined"!=typeof window&&(window[n]=e),console.log(`+++ ${t}:`,e)},q=(0,p.ZP)(u.Z)(j||(j=(e=>e)`
  color: ${0}
`),e=>e.theme.colors.text),J=p.ZP.div(D||(D=(e=>e)`
  flex-grow: 1;
  text-align: center;
  font-size: 1.2rem;
`)),Y=({children:e,onClose:t,...n})=>r.createElement(H,null,r.createElement(J,null,e),r.createElement(W,{onClick:t}));Y.propTypes={onClose:d().func.isRequired},p.ZP.div(R||(R=(e=>e)`
  border: ${0};
  border-radius: ${0};
  background: ${0};
  padding: .5em;

  margin-bottom: 1em;
`),e=>e.theme.thinBorder,e=>e.theme.thinBorderRadius,e=>e.theme.colors.cardBackground),p.ZP.div(z||(z=(e=>e)`
  border: ${0};
  border-radius: ${0};
  background: ${0};
  color: ${0};

  margin: 0 .5em .5em 0;
  padding: .5em;

  text-align: center;

  width: 18%;
  max-width: 140px;
  min-width: 120px;
`),e=>e.theme.thinBorder,e=>e.theme.thinBorderRadius,e=>e.theme.colors.cardBackground,e=>e.theme.colors.text),p.ZP.div(Z||(Z=(e=>e)`
  height: 100vh;
`)),r.createContext({});var X={LoginModal:"_LoginModal-module__LoginModal__2YolN",LoginModalOverlay:"_LoginModal-module__LoginModalOverlay__3hqvY",Notice:"_LoginModal-module__Notice__2ifwF"};let K=e=>{let{onError:t,onSuccess:n}=e,{currentUser:o,setCurrentUser:a,loginModalOpen:i,setLoginModalOpen:l,registerModalOpen:c,setRegisterModalOpen:u,useApi:s}=(0,r.useContext)(ee),[d,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),h=s(),y=async(e,r)=>{h.postLogin({email:e,password:r}).then(e=>{l(!1),n(e)}).catch(e=>{t(e)})};return v().setAppElement("body"),r.createElement(v(),{className:`LoginModal ${X.LoginModal}`,isOpen:!!i,overlayClassName:X.LoginModalOverlay,portalClassName:X.LoginModalPortal},r.createElement(Y,{onClose:()=>l(!1)},"Login"),"string"==typeof i&&r.createElement(H,null,r.createElement("div",{className:X.Notice},i)),r.createElement(V,null,r.createElement("label",{htmlFor:"email"},"Email"),r.createElement("input",{name:"email",type:"email",value:d,onChange:e=>f(e.target.value)}),r.createElement("label",{htmlFor:"password"},"Password"),r.createElement("input",{name:"password",type:"password",value:p,onChange:e=>m(e.target.value),onKeyDown(e){"Enter"===e.key&&y(d,p)}}),r.createElement(H,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},r.createElement(U,{onClick:()=>y(d,p)},"Login"))),r.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),r.createElement(H,{style:{justifyContent:"center"}},r.createElement("a",{onClick(){l(!1),u(!0)}},"Register Instead")))};K.propTypes={onError:d().func,onSuccess:d().func};let Q=e=>{let{currentUser:t,setCurrentUser:n,loginModalOpen:o,setLoginModalOpen:a,registerModalOpen:i,setRegisterModalOpen:l,useApi:c}=(0,r.useContext)(ee),u=c(),[s,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),g=async(e,t,n)=>{if(t!==n){(0,y.Am)("Passwords do not match");return}let r=u.doRegister({email:e,password:t});r.then(e=>{l(!1),a(e.message)}).catch(e=>{(0,y.Am)("Registration failed")})};return r.createElement(v(),{className:`LoginModal ${X.LoginModal}`,isOpen:i,overlayClassName:X.LoginModalOverlay,portalClassName:X.LoginModalPortal},r.createElement(Y,{onClose:()=>l(!1)},"Register"),r.createElement(V,null,r.createElement("label",{htmlFor:"email"},"Email"),r.createElement("input",{type:"email",name:"email",value:s,onChange:e=>d(e.target.value)}),r.createElement("label",{htmlFor:"password"},"Password"),r.createElement("input",{type:"password",name:"password",value:f,onChange:e=>p(e.target.value)}),r.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.createElement("input",{type:"password",name:"password2",value:m,onChange:e=>h(e.target.value)}),r.createElement(H,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},r.createElement(U,{className:"Submit",onClick:()=>g(s,f,m)},"Register")),r.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),r.createElement(H,{style:{justifyContent:"center"}},r.createElement("a",{onClick:()=>a(!0)||l(!1)},"Login Instead"))))};Q.propTypes={};let ee=(0,r.createContext)({}),et=({children:e,...t})=>{let{currentUser:n=k.anonUser,setCurrentUser:o,loginModalOpen:a=!1,setLoginModalOpen:i,registerModalOpen:l=!1,setRegisterModalOpen:c}=t,[u,s]=(0,r.useState)(n);o&&(u=n,s=o);let[d,f]=(0,r.useState)(a);i&&(d=a,f=i);let[p,m]=(0,r.useState)(l);c&&(p=l,m=c);let h={currentUser:u,setCurrentUser:s,loginModalOpen:d,setLoginModalOpen:f,registerModalOpen:p,setRegisterModalOpen:m};return r.createElement(ee.Provider,{value:{...t,...h}},e)};et.propTypes={useApi:d().func.isRequired};let en,er={apiOrigin:"http://localhost:3001"},eo=p.ZP.div(en||(en=(e=>e)`
  width: 680px;
  border: 1px solid black;
  border-radius: 10px;

  // box-shadow: -12px 12px 2px 1px rgba(0, 0, 255, .2);

  --ish-shadow-size: 3px;
  --ish-card-bg: white;

  box-shadow: var(--ish-shadow-size) var(--ish-shadow-size) calc( 2 * var(--ish-shadow-size)) #b2b8c9, var(--ish-shadow-size) var(--ish-shadow-size) calc( 2 * var(--ish-shadow-size)) #f0f8ff;
  background: var(--ish-card-bg);
  min-height: 50vh;
  margin: 30px auto 130px auto ;
  padding: .5em;
`)),ea=({children:e,...t})=>r.createElement(eo,null,e),ei=()=>{let e=()=>({doRegister:({email:e,password:t})=>C.post(`${er.apiOrigin}/api/users`,{email:e,password:t}).then(e=>e.data).then(e=>(B(e,"done registered"),e))}),[t,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!0);return r.createElement(et,{loginModalOpen:t,setLoginModalOpen:n,registerModalOpen:o,setRegisterModalOpen:a,useApi:e},r.createElement(ea,null,r.createElement("form",null,r.createElement("label",null,"hello?"),r.createElement("input",{type:"text"}),r.createElement("button",null,"World")),r.createElement("h1",null,"Hello, world!")),r.createElement(y.Ix,{position:"bottom-left"}))},el,ec,eu,es,ed=r.createContext({}),ef=({children:e,...t})=>{B(t,"JwtContextProvider 222");let{api:n}=t,[o,a]=(0,r.useState)({}),[i,l]=(0,r.useState)({});return(0,r.useEffect)(()=>{B("setting currentUser..."),n.getMyAccount().then(e=>{B(e,"got this resp"),a(e)}).catch(e=>{B(e,"e322"),(0,y.Am)(`Login failed: ${e}`),a({})})},[]),r.createElement(ed.Provider,{value:{api:n,currentUser:o,setCurrentUser:a,loginModalOpen:i,setLoginModalOpen:l}},e)};ef.props={api:d().object},p.ZP.div(el||(el=(e=>e)`
  display: flex;

  > * {
    margin: auto .4em;
  }
`)),p.ZP.div(ec||(ec=(e=>e)`
  border: 1px solid red;
`)),p.ZP.div(eu||(eu=(e=>e)`
  display: flex;
`)),p.ZP.div(es||(es=(e=>e)`
  display: flex;

  > * {
    // margin: auto .4em;
  }
`));let ep,em=p.ZP.div(ep||(ep=(e=>e)`
`)),eh=e=>{let{useApi:t}=(0,r.useContext)(ee),n=t(),[o,a]=(0,r.useState)(localStorage.getItem(k.names.scratchpad)||""),i=()=>{localStorage.setItem(k.names.scratchpad,o),n.postProfile({scratchpad:o}).then(e=>{}).catch(e=>{B("Cannot update profile:",e)})};return r.createElement(em,null,r.createElement("textarea",{name:"scratchpad",rows:"20",cols:"40",onChange:e=>a(e.target.value),value:o}),r.createElement(F,null,r.createElement(U,{onClick:i},"Save")))};eh.propTypes={};let e$,ey=p.ZP.div(e$||(e$=(e=>e)`
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-content: space-between;
`)),eg=({children:e,...t})=>{let{listItems:n}=t,[o,a]=r.useState(!1),[i,l]=(0,r.useState)(!1),c=(0,f.k6)();return r.createElement(r.Fragment,null,t.variant===k.variants.floating?r.createElement(_.Z,{onClick:()=>a(!0),style:{position:"absolute",top:0,left:0,margin:".5em",zIndex:1},"aria-label":"main menu"},r.createElement(q,null)):r.createElement(q,{onClick:()=>a(!0)}),r.createElement(w.ZP,{anchor:"left",open:o,onClose:()=>a(!1)},r.createElement(ey,null,r.createElement(b.Z,null,n.map(({label:e,key:t,path:n})=>r.createElement(E.Z,{button:!0,key:t,onClick(){a(!1),c.push(n())}},e))),e)))};eg.propTypes={listItems:d().array.isRequired,variant:d().string},x.env.REACT_APP_SERVE&&o.render(r.createElement(ei,null),document.getElementById("root"))},3141:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=3141,e.exports=t},1711:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=1711,e.exports=t},8677:function(){},2808:function(){}}]);