(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5499],{379:function(e,t,n){var r={"./ion-action-sheet.entry.js":[8451,8451],"./ion-alert.entry.js":[8550,8550],"./ion-app_8.entry.js":[1006,1006],"./ion-avatar_3.entry.js":[9169,9169],"./ion-back-button.entry.js":[9112,9112],"./ion-backdrop.entry.js":[9389,9389],"./ion-button_2.entry.js":[7733,7733],"./ion-card_5.entry.js":[2011,2011],"./ion-checkbox.entry.js":[3562,3562],"./ion-chip.entry.js":[2185,2185],"./ion-col_3.entry.js":[7478,7478],"./ion-datetime_3.entry.js":[9440,9440],"./ion-fab_3.entry.js":[6608,6608],"./ion-img.entry.js":[8014,8014],"./ion-infinite-scroll_2.entry.js":[6270,6270],"./ion-input.entry.js":[2865,2865],"./ion-item-option_3.entry.js":[964,964],"./ion-item_8.entry.js":[7419,7419],"./ion-loading.entry.js":[9740,9740],"./ion-menu_3.entry.js":[9936,9936],"./ion-modal.entry.js":[3731,3731],"./ion-nav_2.entry.js":[4288,4288],"./ion-popover.entry.js":[6560,6560],"./ion-progress-bar.entry.js":[5051,5051],"./ion-radio_2.entry.js":[2932,2932],"./ion-range.entry.js":[6074,6074],"./ion-refresher_2.entry.js":[8290,8290],"./ion-reorder_2.entry.js":[3479,3479],"./ion-ripple-effect.entry.js":[4905,4905],"./ion-route_4.entry.js":[5095,5095],"./ion-searchbar.entry.js":[7421,2880],"./ion-segment_2.entry.js":[3806,3806],"./ion-select_3.entry.js":[6306,7421],"./ion-slide_2.entry.js":[4208,4208],"./ion-spinner.entry.js":[3046,3046],"./ion-split-pane.entry.js":[4774,4774],"./ion-tab-bar_2.entry.js":[3196,3196],"./ion-tab_2.entry.js":[3965,3965],"./ion-text.entry.js":[2516,2516],"./ion-textarea.entry.js":[2117,2117],"./ion-toast.entry.js":[4617,4617],"./ion-toggle.entry.js":[9125,9125],"./ion-virtual-scroll.entry.js":[9480,9480]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=379,e.exports=o},3414:function(e){"use strict";e.exports={appIndexPath:"src/index",apiOrigin:"",domain:"tgm.piousbox.com",debug:!1,REACT_ENV:"N/A",requireLogin:!0,siteTitle:"Infinite Shelter - Location Discovery Guide",stripePublicKey:""}},5553:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(3414);e.exports=o(o({},a),{apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",debug:!1,GOOGLE_MAPS_KEY:"AIzaSyCPzonnRCpTIUJauMMQcL3k69Vm5O8vz3M",APP_ENV:"development_web",homePath:"/en/locations/show/root",REACT_ENV:"production_ish",requireLogin:!1,stripePublicKey:"pk_live_xQX97vdZNe11A3HBVZc1GX6H"})},8433:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var r=n(7294),o=n(3727),i=n(6775),a=n(5553),l=n.n(a),c=n(8935),u=n(4587),s=n(3204),f=n(5502),p=n(8085),d={item:function e(t){t.item_type?e=t:(e=t.item,n=t.location);var e,n,r=e,o=r.item_type,i=r.slug;return(i||(i=e.id),o===p.C.item_types.location)?"/en/locations/show/".concat(i):n?"/en/locations/show/".concat(n.slug,"/").concat(p.$z.tableize(o),"/show/").concat(i):"/en/".concat(p.$z.tableize(o),"/show/").concat(i)},gallery:function(e){var t=e.location,n=e.location_slug,r=e.slug;return n?"/en/locations/show/".concat(n,"/galleries/show/").concat(r):t?"/en/locations/show/".concat(t.slug,"/galleries/show/").concat(r):"/en/galleries/show/".concat(r)},location:function(e){var t=e.slug,n=e.newsitems_page,r=n?"newsitems_page=".concat(n):"";return"/en/locations/show/".concat(t,"?").concat(r)}},m=function(e){return r.createElement(o.VK,null,r.createElement(i.rs,{main:!0},r.createElement(i.l_,{exact:!0,from:"/",to:l().homePath}),r.createElement(i.AW,{exact:!0,path:"/en/account",component:f.mR}),r.createElement(i.AW,{exact:!0,path:"/en/galleries/show/:slug",component:c.q}),r.createElement(i.AW,{exact:!0,path:"/en/locations/show/:slug",component:u.qm,layout:p.C.layout_mapui}),r.createElement(i.AW,{exact:!0,path:"/en/locations/show/:slug/:item_type/show/:item_slug",component:u.qm,layout:p.C.layout_mapui}),r.createElement(i.AW,{exact:!0,path:"/en/locations/show2/:slug",component:u.qm,layout:p.C.layout_mapui}),r.createElement(i.AW,{exact:!0,path:"/en/locations/show3d/:slug",component:u.HZ,layout:p.C.layout_mapui}),r.createElement(i.AW,{exact:!0,path:"/en/reports/show/:slug",component:s.X})))};t.Z=m},8233:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(7294),o=n(2132),i=n(9430),a=n(179),l=n(8085),c=n(8433);n(1197),n(9463),n(6022),n(9487),n(5505),n(3232),n(1164),n(2943),n(7632),n(5971);var u=i.ZP.div.withConfig({displayName:"WrappedApp__Root",componentId:"sc-lecg9m-0"})(["padding:var(--ion-small-padding);"]),s=function(e){return!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),r.createElement(l.wI,null,r.createElement(u,{className:"Root"},r.createElement(c.Z,null)),r.createElement(a.lY,null),r.createElement(o.Ix,{position:"bottom-left"}))};s.propTypes={},t.Z=s},2947:function(e,t,n){"use strict";n.d(t,{zF:function(){return C},h9:function(){return g},LW:function(){return O},Nd:function(){return T},AO:function(){return N}});var r=n(5697),o=n.n(r),i=n(7294),a=n(9430),l=n(8085),c=["children"],u=["children","variant"],s=["children"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var y=i.createContext({}),g=function(e){var t,n=e.children;h(e,c);var r=m({},l.C.collapsible.descr,!0);try{(t=localStorage.getItem(l.C.collapsibles))&&(r=JSON.parse(t))}catch(o){(0,l.IJ)(o,"Could not parse collapsibles from localStorage")}var a,u=function(e){if(Array.isArray(e))return e}(a=(0,i.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(a,2)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(a,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=u[0],f=u[1],p=function(e){localStorage.setItem(l.C.collapsibles,JSON.stringify(e)),f(e)};return i.createElement(y.Provider,{value:{collapsibles:s,setCollapsibles:p}},n)},v=function(){return i.createElement("span",null,"\xa0>\xa0\xa0")},w=a.ZP.div.withConfig({displayName:"Collapsible__Inner",componentId:"sc-92wcj7-0"})(["clear:left;"]),_=function(){return i.createElement("span",null,"\xa0<\xa0\xa0")},b=a.ZP.div.withConfig({displayName:"Collapsible__Label",componentId:"sc-92wcj7-1"})(["display:flex;margin-bottom:",";color:",";"],function(e){return e.theme.borderWidth},function(e){return e.theme.colors.text}),E=a.ZP.div.withConfig({displayName:"Collapsible__WTransparent",componentId:"sc-92wcj7-2"})(["padding:0 .5em .5em .5em;"]),x=function(e){var t=e.children,n=e.variant,r=h(e,u);return n===l.C.variants.bordered?i.createElement(l.xP,r,t):i.createElement(E,r,t)},k=function(e){var t=e.children,n=h(e,s),r=n.className,o=n.config,a=void 0===o?{}:o,l=n.slug,c=n.variant,u=(0,i.useContext)(y),f=u.collapsibles,d=u.setCollapsibles,g=function(){return d(p(p({},f),{},m({},l,!f[l])))},E=void 0===a.collapsible||a.collapsible,k=!!E&&!!f[l];return i.createElement(x,{variant:c,className:"Collapsible ".concat(void 0===r?"":r)},n.label&&E&&i.createElement(b,{onClick:g},k?i.createElement(_,null):i.createElement(v,null)," ",n.label),n.label&&!E&&i.createElement(b,null,n.label),!k&&i.createElement(w,null,t))};k.propTypes={className:o().string,config:o().shape({collapsible:o().bool}),label:o().string,slug:o().string.isRequired,variant:o().string};var C=k,P=a.ZP.div.withConfig({displayName:"LongLine",componentId:"sc-1nwgz2l-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);flex-grow:1;width:",";height:",";padding:2px;background:",";"],function(e){return e.orientation===l.C.horizontal?"auto":"10px"},function(e){return e.orientation===l.C.horizontal?"10px":"auto"},function(e){return e.theme.colors.background});P.propTypes={orientation:o().string};var O=P,I=["children"];function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=i.createContext({}),N=function(e){var t,n=e.children,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,I);r.currentUser,r.setCurrentUser;var o=r.itemToUnlock,a=r.setItemToUnlock,c=r.layout,u=r.setLayout,s=r.showItem,f=r.setShowItem,p=r.zoom,d=void 0===p?1:p,m=r.setZoom,h=L((0,i.useState)(!0),2),y=h[0],g=h[1],v=function(e){try{localStorage.setItem(l.C.bottomDrawerOpen,JSON.stringify(e))}catch(t){}g(e)};(0,i.useEffect)(function(){try{var e=JSON.parse(localStorage.getItem(l.C.bottomDrawerOpen));g(e)}catch(t){}},[]);var w=L((0,i.useState)(!1),2),_=w[0],b=w[1],E=L((0,i.useState)(),2),x=E[0],k=E[1],C=x===l.C.foldedLeft,P=x===l.C.foldedRight,O=L((0,i.useState)({}),2),M=O[0],N=O[1];o||(o=M,a=N);var T=L((0,i.useState)(null),2),A=T[0],j=T[1],D=L((0,i.useState)(null),2),R=D[0],z=D[1],Z=L((0,i.useState)(!1),2),U=Z[0],W=Z[1],F=L((0,i.useState)(!0),2),V=F[0],G=F[1],H=L((0,i.useState)(0),2),B=H[0],q=H[1],J=function(){return q(B+1)},Y=L((0,i.useState)(!1),2),X=Y[0],K=Y[1];f&&(K=f),s&&(X=s);var Q=L((0,i.useState)(!1),2),ee=Q[0],et=Q[1];try{t=JSON.parse(localStorage.getItem(l.C.twofoldPercent))}catch(en){}var er=(0,i.useState)(t||.5),eo=L(er,2),ei=eo[0],ea=eo[1],el=function(e){try{localStorage.setItem(l.C.twofoldPercent,JSON.stringify(e))}catch(t){}ea(e)},ec=L((0,i.useState)(1),2),eu=ec[0],es=ec[1];return m||(d=eu,m=es),i.createElement(S.Provider,{value:{bottomDrawerOpen:y,setBottomDrawerOpen:v,editorMode:_,setEditorMode:b,folded:x,setFolded:k,foldedLeft:C,foldedRight:P,itemToUnlock:o,setItemToUnlock:a,layout:c,setLayout:u,mapPanelHeight:R,setMapPanelHeight:z,mapPanelWidth:A,setMapPanelWidth:j,purchaseModalOpen:U,setPurchaseModalOpen:W,ratedConfirmation:V,setRatedConfirmation:G,resizeCount:B,touchResize:J,showItem:X,setShowItem:K,showUrl:ee,setShowUrl:et,twofoldPercent:ei,setTwofoldPercent:el,zoom:d,setZoom:m}},n)},T=S},179:function(e,t,n){"use strict";n.d(t,{lY:function(){return _},Oo:function(){return M},rC:function(){return A},_I:function(){return z},to:function(){return et},fv:function(){return eu},ce:function(){return ey}});var r=n(1682),o=n(7812),i=n(7294),a=n(9430),l=n(7918),c=n.n(l),u=n(7044);n(9857);var s=n(2947),f=n(5502),p=n(8085),d=(0,a.ZP)(r.ZP).withConfig({displayName:"BottomDrawer__Drawer",componentId:"sc-1cfcaai-0"})([".MuiDrawer-paper{background:",";z-index:0;}.MuiDrawer-paperAnchorDockedBottom{border-top:0;}"],function(e){return e.theme.colors.background});function m(e){return new(c())(e)}var h=a.ZP.div.withConfig({displayName:"BottomDrawer__Inner0",componentId:"sc-1cfcaai-1"})(["display:flex;align-items:flex-start;color:",";"],function(e){return e.theme.colors.text}),y=a.ZP.div.withConfig({displayName:"BottomDrawer__Inner1",componentId:"sc-1cfcaai-2"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);height:calc("," + 1*",");margin:",";flex-grow:1;"],function(e){return e.theme.bottomDrawerOpenHeight},function(e){return e.theme.borderHeight},function(e){return e.theme.borderWidth}),g=a.ZP.div.withConfig({displayName:"BottomDrawer__Inner2",componentId:"sc-1cfcaai-3"})(["height:100px;display:flex;"]),v=a.ZP.div.withConfig({displayName:"BottomDrawer__WClosed",componentId:"sc-1cfcaai-4"})(["position:absolute;bottom:-10px;width:calc(100% - 2*",");display:flex;align-items:center;"],function(e){return e.theme.borderWidth}),w=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,i.useContext)(s.Nd),n=t.bottomDrawerOpen,r=t.setBottomDrawerOpen;return i.createElement(i.Fragment,null,i.createElement(v,null,i.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return r(!0)}},i.createElement(p.Oq,{fontSize:"small"})),i.createElement(s.LW,{orientation:p.C.horizontal})),i.createElement(d,{anchor:"bottom",elevation:1,open:!!n,onClose:function(){return r(!1)},BackdropProps:{invisible:!0},variant:"persistent"},i.createElement(h,null,i.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return r(!1)},style:{paddingRight:0}},i.createElement(p.Oq,{fontSize:"small"})),i.createElement(y,null,i.createElement(g,null,i.createElement(u.Ht,{getLibrary:m},i.createElement(f.pu,null)))))))};w.propTypes={};var _=w,b=n(5697),E=n.n(b),x=n(5553),k=n.n(x),C=a.ZP.a.withConfig({displayName:"Breadcrumbs__B0",componentId:"sc-1yfagtc-0"})(["color:var(--ion-color);display:block;"]),P=a.ZP.div.withConfig({displayName:"Breadcrumbs__B1",componentId:"sc-1yfagtc-1"})(["padding:0.5em;color:var(--ion-color);"]),O=a.ZP.div.withConfig({displayName:"Breadcrumbs__W0",componentId:"sc-1yfagtc-2"})(["border:","px solid cyan;display:flex;align-items:center;justify-content:stretch;z-index:0;"],function(e){return e.debug?"1":"0"}),I=a.ZP.div.withConfig({displayName:"Breadcrumbs__WBreadcrumbs",componentId:"sc-1yfagtc-3"})(["display:block;flex-grow:1;> *{display:inline;}"]),L=function(e){var t=e.breadcrumbs,n=(0,(0,i.useContext)(p.Il).useHistory)(),r=[];return(void 0===t?[]:t).map(function(t,o){if(o+1===e.breadcrumbs.length)r.push(i.createElement(C,{key:o},t.name));else{var a=p.XO.location({slug:t.slug}),l=function(e){e.preventDefault(),n.push(a)};r.push(i.createElement(C,{key:o,href:a,onClick:l},t.name)),r.push(i.createElement(P,{key:"".concat(o,"-divider")},">"))}}),i.createElement(O,{debug:k().debug,className:"Breadcrumbs"},i.createElement(eu,{variant:p.C.variants.inline}),i.createElement(I,{className:"WBreadcrumbs"},r),i.createElement(A,null))};L.propTypes={breadcrumbs:E().arrayOf(E().shape({name:E().string.isRequired,slug:E().string.isRequired}))};var M=L,S=n(652),N=n.n(S),T=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,i.useContext)(p.Ni),n=t.theme,r=t.toggleTheme;return i.createElement("div",{className:"DaynightToddle ".concat(N().container),onClick:r},i.createElement("div",{className:N().switch},i.createElement("label",{htmlFor:"toggle"},i.createElement("input",{readOnly:!0,type:"checkbox",checked:n===p.C.themes.dark}),i.createElement("div",{className:N().sunMoon},i.createElement("div",{className:N().dots})),i.createElement("div",{className:N().background},i.createElement("div",{className:N().stars1}),i.createElement("div",{className:N().stars2})))))};T.propTypes={};var A=T,j=n(6567),D=n.n(j),R=a.ZP.div.withConfig({displayName:"Metaline__W0",componentId:"sc-d7epka-0"})(["margin:.5em 0;color:",";"],function(e){return e.theme.colors.text}),z=function(e){var t=e.created_at,n=(e.city,e.tags,e.username);return i.createElement(R,{className:D().Metaline},t&&i.createElement("span",{className:"date"},"On ",(0,p.KW)(t),"\xa0"),n&&i.createElement(i.Fragment,null,"by ",i.createElement("span",{className:"user",style:{textDecoration:"underline"}},n),"\xa0"))},Z=n(3253),U=n.n(Z),W=n(2132),F=n(6664),V=n(4465),G=n(2661),H=n(6681),B=n.n(H);function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new k(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=b(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,i,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function J(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){J(i,r,o,a,l,"next",e)}function l(e){J(i,r,o,a,l,"throw",e)}a(void 0)})}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=a.ZP.div.withConfig({displayName:"PurchaseModal__FlexRow",componentId:"sc-v4mx5w-0"})([""]),Q=(0,V.J)(k().stripePublicKey),ee=function(e){var t,n,r=(0,i.useContext)(G.Vo),o=(r.currentUser,r.setCurrentUser),a=(0,i.useContext)(s.Nd),l=a.purchaseModalOpen,c=a.setPurchaseModalOpen,u=(0,p.h_)(),f=(0,F.useStripe)(),d=(0,F.useElements)(),m=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(50))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],g=(n=Y(q().mark(function e(t){var n,r,i;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!f||!d)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u.initPayment({amountCents:h});case 5:return n=e.sent,e.next=8,f.confirmCardPayment(n.client_secret,{payment_method:{card:d.getElement(F.CardElement)}});case 8:(r=e.sent).error?((0,W.Am)("We are sorry, but something went wrong."),(0,p.IJ)(r.error.message,"e41 - cannot buyUnlocks()")):"succeeded"===r.paymentIntent.status&&(i=setInterval(Y(q().mark(function e(){var t;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getMyAccount();case 2:t=e.sent,(0,p.IJ)(t,"tr2 success"),t.is_purchasing||((0,p.IJ)("clearing interval!"),o(t),c(!1),clearInterval(i));case 5:case"end":return e.stop()}},e)})),500),setTimeout(function(){return clearInterval(i)},1e4));case 10:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});return U().setAppElement("body"),i.createElement(U(),{className:"PurchaseModal ".concat(B().LoginModal),isOpen:l,overlayClassName:B().LoginModalOverlay,portalClassName:B().LoginModalPortal},i.createElement(G.xB,{onClose:function(){c(!1)}},"Buy unlocks"),i.createElement("form",{onSubmit:g},i.createElement(K,null,"How many cents would you pay for 1 coin? Minimum 50 cents.",i.createElement("input",{value:h,onChange:function(e){return y(e.target.value)}})),i.createElement(F.CardElement,null),i.createElement("button",{type:"submit",disabled:!f},"Pay")))},et=function(e){return i.createElement(F.Elements,{stripe:Q},i.createElement(ee,e))};n(8816);var en=n(3758),er=n(2822),eo=n(998);function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ea(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el=a.ZP.div.withConfig({displayName:"SideMenu__W0",componentId:"sc-ove78m-0"})(["height:100vh;display:flex;flex-direction:column;justify-content:space-between;align-content:space-between;"]),ec=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,i.useContext)(p.Il).useHistory,o=ei(i.useState(!1),2),a=o[0],l=o[1],c=ei((0,i.useState)(!1),2);c[0],c[1];var u=n(),f=(0,i.useContext)(s.Nd),d=f.currentUser;return f.setCurrentUser,i.createElement(i.Fragment,null,e.variant===p.C.variants.floating?i.createElement(en.Z,{onClick:function(){return l(!0)},style:{position:"absolute",top:0,left:0,margin:".5em"},"aria-label":"main menu"},i.createElement(p.Oq,null)):i.createElement(p.Oq,{onClick:function(){return l(!0)}}),i.createElement(r.ZP,{anchor:"left",open:a,onClose:function(){return l(!1)}},i.createElement(el,null,i.createElement(er.Z,null,i.createElement(eo.Z,{button:!0,key:"newsfeed",onClick:function(){l(!1),u.push(k().homePath)}},"Home"),d&&(null===(t=d.bookmarks)||void 0===t?void 0:t.map(function(e,t){return i.createElement(eo.Z,{button:!0,key:t,onClick:function(){l(!1),u.push("/en/locations/show/".concat(e.slug))}},i.createElement("span",null,e.name))})),i.createElement(eo.Z,null,"REACT_ENV: ",k().REACT_ENV)))))};ec.propTypes={variant:E().string};var eu=ec,es=n(4587),ef=n(8433),ep=n(2293);function ed(){ed=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new k(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=b(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,i,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function em(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var eh=a.ZP.div.withConfig({displayName:"UnlockModal__BtnRow",componentId:"sc-wbtxk-0"})(["display:flex;justify-content:space-around;"]),e$=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,r=(0,(0,i.useContext)(p.Il).useHistory)(),o=(0,i.useContext)(G.Vo),a=o.currentUser,l=o.setCurrentUser,c=(o.loginModalOpen,o.setLoginModalOpen),u=o.useApi,f=(0,i.useContext)(es.LZ),d=(0,i.useContext)(s.Nd),m=d.itemToUnlock,h=d.setItemToUnlock,y=(d.purchaseModalOpen,d.setPurchaseModalOpen),g=(d.ratedConfirmation,d.setRatedConfirmation),v=u(),w=(n=(t=ed().mark(function e(){return ed().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doUnlock({kind:m.item_type,id:m.id}).then(function(e){(0,p.IJ)(e,"UnlockModal Unlocked"),h({}),l(e),r.push(ef.X.item({item:m,location:f}))}).catch(function(e){(0,p.IJ)(e,"e19 - cannot doUnlock")});case 2:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){em(i,r,o,a,l,"next",e)}function l(e){em(i,r,o,a,l,"throw",e)}a(void 0)})}),function(){return n.apply(this,arguments)});if(!(null!=m&&m.id))return null;var _=void 0===m.closable||m.closable,b=function(){h({}),g(!0),r.push(k().homePath)},E=m.premium_tier;return U().setAppElement("body"),i.createElement(U(),{isOpen:!!m.id,className:"UnlockModal ".concat(ep.UnlockModal),overlayClassName:ep.UnlockModalOverlay,portalClassName:ep.UnlockModalPortal},i.createElement(G.xB,{onClose:function(){return _&&h(!1)}},"Unlock this item?"),i.createElement("p",null,"To access this content, please unlock it first. It costs ",E," coin(s) to unlock."),a.email&&i.createElement(i.Fragment,null,i.createElement("p",null,"You have ",i.createElement("b",null,a.n_unlocks||"-")," unlocks."),a.n_unlocks>=E&&i.createElement(p.un,{className:"doUnlock",onClick:w},"Unlock")||i.createElement(i.Fragment,null,i.createElement("p",null,"You don't have enough unlocks."),i.createElement(p.un,{onClick:function(){y(!0),h(!1)}},"Purchase more.")))||i.createElement(i.Fragment,null,i.createElement("p",null,"You have to be logged in to unlock content. ",i.createElement("a",{onClick:function(){c(!0),h(!1)}},"Please login."))),i.createElement(eh,null,!_&&i.createElement(p.un,{onClick:b},"Go Home")))};e$.propTypes={};var ey=e$},8935:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var r=n(8816),o=n(7294),i=n(9430),a=n(179),l=n(2947),c=n(8085),u=n(6468),s=n.n(u);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=i.ZP.div.withConfig({displayName:"GalleriesShow__W0",componentId:"sc-1742rhv-0"})(["height:auto;"]),d=function(e){var t,n=e.match,i=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)({}))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=i[0],d=i[1],m=(0,o.useRef)("init"),h=(0,o.useContext)(l.Nd),y=h.itemToUnlock,g=h.setItemToUnlock,v=(0,c.h_)();return(0,o.useEffect)(function(){return v.getGallery(n.params.slug).then(function(e){m.current&&((0,c.IJ)(e,"_gallery"),e.is_premium&&!e.is_purchased?g(e):d(e))}),function(){m.current=null}},[u.id,y.id]),o.createElement(p,{className:s().GalleriesShow},o.createElement("div",{className:s().narrow},o.createElement("h1",{className:s().heading},o.createElement(c.a5,null),o.createElement("span",{className:s().title},u.name)),o.createElement(a._I,u),o.createElement("div",{className:s().thumbs},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().card,key:t},o.createElement("div",null,o.createElement(r.Xz,{src:e.thumb_url})))})),o.createElement("div",{dangerouslySetInnerHTML:{__html:u.description}})),o.createElement("div",{className:s().full_img_section},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().item,key:t},o.createElement("img",{src:e.large_url}))})))}},4587:function(e,t,n){"use strict";n.d(t,{LZ:function(){return x},vR:function(){return k},QH:function(){return C},N2:function(){return tO},qm:function(){return tA},HZ:function(){return nj},I8:function(){return nU},fg:function(){return nV}});var r=n(7294);n(3935);var o=n(7212),i=n(5553),a=n.n(i),l=n(8085),c=["onClick","onIdle","children","style"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e){var t=e.map,n=p(r.useState([]),2),i=n[0],l=n[1],c=p(r.useState(12),2),u=c[0],f=c[1],d=p(r.useState({lat:t.x,lng:t.y}),2),m=d[0],g=d[1],v=function(e){},w=function(e){e.getZoom()&&f(e.getZoom()),e.getCenter()&&g(e.getCenter().toJSON())},_=r.createElement("div",{style:{display:"none",padding:"1rem",flexBasis:"250px",height:"100%",overflow:"auto"}},r.createElement("label",{htmlFor:"zoom"},"Zoom"),r.createElement("input",{type:"number",id:"zoom",name:"zoom",value:u,onChange:function(e){return f(Number(e.target.value))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lat"},"Latitude"),r.createElement("input",{type:"number",id:"lat",name:"lat",value:m.lat,onChange:function(e){return g(s(s({},m),{},{lat:Number(e.target.value)}))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lng"},"Longitude"),r.createElement("input",{type:"number",id:"lng",name:"lng",value:m.lng,onChange:function(e){return g(s(s({},m),{},{lng:Number(e.target.value)}))}}),r.createElement("h3",null,0===i.length?"Click on map to add markers":"Clicks"),i.map(function(e,t){return r.createElement("pre",{key:t},JSON.stringify(e.toJSON(),null,2))}),r.createElement("button",{onClick:function(){return l([])}},"Clear"));return r.createElement("div",{style:{display:"flex",height:"100%"}},r.createElement(o.Wrapper,{apiKey:a().GOOGLE_MAPS_KEY},r.createElement(h,{center:m,onClick:v,onIdle:w,zoom:u,style:{flexGrow:"1",height:"100%"}},t.markers.map(function(e,t){return r.createElement(y,{key:t,position:{lat:e.x,lng:e.y}})}))),_)},h=function(e){var t=e.onClick,n=e.onIdle,o=e.children,i=e.style,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),l=r.useRef(null),u=p(r.useState(),2),s=u[0],f=u[1];return r.useEffect(function(){l.current&&!s&&f(new window.google.maps.Map(l.current,{}))},[l,s]),v(function(){s&&s.setOptions(a)},[s,a]),r.useEffect(function(){s&&(["click","idle"].forEach(function(e){return google.maps.event.clearListeners(s,e)}),t&&s.addListener("click",t),n&&s.addListener("idle",function(){return n(s)}))},[s,t,n]),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:i}),r.Children.map(o,function(e){if(r.isValidElement(e))return r.cloneElement(e,{map:s})}))},y=function(e){var t=p(r.useState(),2),n=t[0],o=t[1];return r.useEffect(function(){return n||o(new google.maps.Marker),function(){n&&n.setMap(null)}},[n]),r.useEffect(function(){n&&n.setOptions(e)},[n,e]),null};function g(e){var t=r.useRef();return e!==t.current&&(t.current=e),t.current}var v=function(e,t){r.useEffect(e,t.map(g))},w=m,_=["children"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=r.createContext({}),k=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,_);return r.createElement(x.Provider,{value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n)},t)},C=function(){return r.createElement("h1",null,"This location is restricted (tmp placeholder)")},P=n(5697),O=n.n(P),I=n(3253),L=n.n(I),M=n(9430),S=n(2661),N=n(179),T=n(6775),A=function(e){(0,l.IJ)(e,"PhotosShow");var t=e.item;return r.createElement(r.Fragment,null,r.createElement("img",{src:t.original_url,alt:""}),t.subhead)},j=n(2947),D=n(8935),R=n(3204),z=n(8433),Z=n(1935),U=n.n(Z),W=function(e){(0,l.IJ)(e,"ItemModal");var t=e.item;if(!t)return null;var n=(0,T.UO)(),o=(0,T.k6)(),i=(0,r.useContext)(j.Nd),a=(i.showItem,i.setShowItem),c=function(){o.push(z.X.location({slug:n.slug})),a(null)};return t.action||(t.action=l.C.actions.show),L().setAppElement("body"),r.createElement(L(),{className:"ItemModal ".concat(U().ItemModal),isOpen:!!t,overlayClassName:U().ItemModalOverlay,portalClassName:U().ItemModalPortal},r.createElement(S.xB,{onClose:c},t.name),t.item_type===l.C.item_types.photo&&r.createElement(A,{item:t}),t.item_type===l.C.item_types.report&&t.action===l.C.actions.show&&r.createElement(R.X,{item:t,match:{params:{slug:t.reportname}}}),t.item_type===l.C.item_types.report&&t.action===l.C.actions.new&&r.createElement(R.v,null),t.item_type===l.C.item_types.gallery&&r.createElement(D.q,{match:{params:{slug:t.slug}}}),".^.")},F=["children","src"],V=M.ZP.a.withConfig({displayName:"NewsitemGallery__Images",componentId:"sc-1milq4-0"})(["display:block;position:relative;width:100%;max-width:600px;height:0;padding-bottom:min( 400px,66.66% );margin:auto;"]),G=M.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb0",componentId:"sc-1milq4-1"})(["border:solid ",";border-width:1px 1px 1px 1px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;width:66.66%;height:0;padding-bottom:66.66%;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),H=M.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb1",componentId:"sc-1milq4-2"})(["border:solid ",";border-width:1px 1px 0 0;position:absolute;left:66.66%;top:0;width:33.33%;height:0;padding-bottom:33.33%;background-color:#dedede;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),B=M.ZP.div.withConfig({displayName:"NewsitemGallery___Thumb2",componentId:"sc-1milq4-3"})(["border:solid ",";border-width:1px 1px 1px 0;position:absolute;left:66.66%;top:50%;width:33.33%;height:0;padding-bottom:33.33%;display:flex;justify-content:center;align-items:flex-start;background-color:#c4c4c4;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),q=function(e){var t=e.children,n=e.src;return function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(e,F),r.createElement(B,{style:{background:n}},r.createElement("div",{style:{marginTop:"calc( 50% - 0.5em )"}},t))},J=function(e){var t=e.item,n=e.variant,o=(0,r.useContext)(x).slug,i=(0,(0,r.useContext)(l.Il).useHistory)(),a=z.X.gallery({location_slug:o,slug:t.slug}),c=function(e){e.preventDefault(),i.push(a)};return r.createElement(eS,{item:t,variant:n},r.createElement(V,{className:"Images",href:a,onClick:c},r.createElement(G,{src:t.photos[0]&&t.photos[0].thumb_url}),r.createElement(H,{src:t.photos[1]&&t.photos[1].thumb_url}),r.createElement(q,{src:t.photos[2]&&t.photos[2].thumb_url},"(",t.n_photos," photos)")))};J.propTypes={item:O().shape({photos:O().array.isRequired})};var Y=J,X=M.ZP.img.withConfig({displayName:"NewsitemPhoto__ImageLarge",componentId:"sc-2jnpzp-0"})(["max-width:100%;"]),K=M.ZP.div.withConfig({displayName:"NewsitemPhoto__W0",componentId:"sc-2jnpzp-1"})(["display:flex;justify-content:center;"]),Q=function(e){var t=e.item,n=e.variant;return r.createElement(eS,{className:"Newsitem NewsitemPhoto",item:t,variant:n},r.createElement(K,null,t.photos[0]&&r.createElement(X,{src:t.photos[0].large_url})))};Q.propTypes={item:O().shape({photos:O().array.isRequired}),variant:O().string};var ee=Q,et=function(e){return e.item,e.variant,r.createElement(eS,e)};et.propTypes={item:O().object.isRequired,variant:O().string};var en=et,er=n(2132),eo=function(e){var t=e.item,n=e.variant;return r.createElement(eS,{item:t,variant:n},r.createElement("div",{style:{display:"flex",justifyContent:"center"}},t.youtube_id?r.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"//www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):r.createElement("video",{style:{maxWidth:"100%",maxHeight:"50vh"},preload:"metadata",height:"auto",controls:!0},r.createElement("source",{src:t.url,type:"video/mp4"}))))};eo.propTypes={item:O().object.isRequired,variant:O().string};var ei=eo,ea=["children"],el=M.ZP.div.withConfig({displayName:"Newsitems__Pagination",componentId:"sc-16s1m55-0"})(["border:","px solid cyan;display:flex;"],function(e){return e.debug?1:0}),ec=M.ZP.div.withConfig({displayName:"Newsitems__CurrentPageNum",componentId:"sc-16s1m55-1"})(["text-decoration:bold;"]),eu=M.ZP.a.withConfig({displayName:"Newsitems__PageNum",componentId:"sc-16s1m55-2"})(["display:block;"]),es=M.ZP.div.withConfig({displayName:"Newsitems__W0",componentId:"sc-16s1m55-3"})([""]),ef=M.ZP.div.withConfig({displayName:"Newsitems__W1",componentId:"sc-16s1m55-4"})(["position:relative;::before{content:'","';position:absolute;top:2px;left:2px;color:var(--ion-debug-color);}"],function(e){return e.debug&&e._key}),ep=M.ZP.div.withConfig({displayName:"Newsitems___EditModeActions",componentId:"sc-16s1m55-5"})(["position:absolute;right:1em;top:1em;z-index:2;"]),ed=function(e){e.children;var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ea).item;if(!(0,r.useContext)(j.Nd).editorMode)return null;var n=(0,l.h_)(),o=function(e){confirm("Are you sure?")&&n.deleteNewsitem({id:t.newsitem_id}).then(function(e){(0,er.Am)("Removed the story")}).catch(function(e){(0,l.IJ)("320 - cannot delete newsitem")})};return r.createElement(ep,null,r.createElement(l.un,{onClick:o},"Remove Story"))},em=function(e){var t=e.newsitems,n=void 0===t?[]:t,o=e.variant;if(!n.length)return r.createElement("div",null,"No Newsitems");var i=(0,r.useContext)(x),c=i.newsitems_pagination,u=i.slug,s=[];return n.map(function(e,t){var n,i=e.premium_tier||0;switch(e.item_type){case l.C.item_types.gallery:n=r.createElement(Y,{item:e,variant:o});break;case l.C.item_types.report:n=r.createElement(en,{item:e,variant:o});break;case l.C.item_types.video:n=r.createElement(ei,{item:e,variant:o});break;case l.C.item_types.photo:n=r.createElement(ee,{item:e,variant:o});break;default:n=r.createElement(eY,{item:e})}s.push(r.createElement(ef,{key:t,_key:t+1,className:"premium-".concat(i),debug:a().debug},r.createElement(ed,{item:e}),n))}),r.createElement(es,{className:"Newsitems",variant:o},s,r.createElement(el,null,"Pages:",c.previous&&r.createElement(eu,{href:z.X.location({slug:u,newsitems_page:c.previous})},"previous")||null,r.createElement(ec,null,c.current),c.next&&r.createElement(eu,{href:z.X.location({slug:u,newsitems_page:c.next})},"next")||null))};em.propTypes={newsitems:O().array.isRequired,variant:O().string};var eh=em,e$=["fill"],ey=["fill"];function eg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ev(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ew(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var e_=(0,M.ZP)(S.Ht).withConfig({displayName:"Votable__FlexCol",componentId:"sc-19mp3xk-0"})(["color:var(--ion-color);"]),eb=function(e){var t=e.fill,n=ew(e,e$);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.138 124.138",fill:t,style:{enableBackground:"new 0 0 124.138 124.138"}},r.createElement("g",null,r.createElement("path",{d:"M50.569,124.138h23.1c4.7,0,9-3.8,9-8.601V81.138c0-4.7,3.5-9,8.2-9h14.699c7.2,0,11.2-8.101,6.801-13.8l-44.101-55 c-3.5-4.5-10.2-4.4-13.6,0l-42.9,55c-4.4,5.699-0.4,13.8,6.8,13.8h14.8c4.7,0,8.3,4.2,8.3,9v34.399 C41.669,120.338,45.769,124.138,50.569,124.138z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},e0=(0,M.ZP)(eb).withConfig({displayName:"Votable__IconUp",componentId:"sc-19mp3xk-1"})(["cursor:pointer;"]),eE=function(e){var t=e.fill,n=ew(e,ey);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.075 124.075",fill:t,style:{enableBackground:"new 0 0 124.075 124.075"}},r.createElement("g",null,r.createElement("path",{d:"M54.628,120.7c3.5,4.5,10.2,4.5,13.601,0l44.1-54.9c4.4-5.7,0.4-13.8-6.8-13.8h-14.7c-4.7,0-8.2-4.2-8.2-9V8.6 c0-4.8-4.2-8.6-9-8.6h-23.1c-4.8,0-8.9,3.8-8.9,8.6V43c0,4.7-3.6,9-8.3,9h-14.8c-7.1,0-11.2,8-6.8,13.7L54.628,120.7z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},ex=(0,M.ZP)(eE).withConfig({displayName:"Votable__IconDown",componentId:"sc-19mp3xk-2"})(["cursor:pointer;"]),e8=M.ZP.div.withConfig({displayName:"Votable__WCount",componentId:"sc-19mp3xk-3"})(["text-align:center;"]),e1=function(e){var t=e.item,n=(0,r.useContext)(S.Vo),o=n.currentUser,i=(n.setCurrentUser,n.setLoginModalOpen),a=(0,l.h_)(),c=eg((0,r.useState)(void 0===t.votes_score?"-":t.votes_score),2),u=c[0],s=c[1],f=eg((0,r.useState)("#cecece"),2),p=f[0],d=f[1],m=eg((0,r.useState)("#cecece"),2),h=m[0],y=m[1],g=eg((0,r.useState)(t.current_user_vote_value),2),v=g[0],w=g[1];(0,r.useEffect)(function(){v===l.C.vote_values.up&&(d("#cc3333"),y("#cecece")),v===l.C.vote_values.down&&(d("#cecece"),y("#cc3333"))},[v]);var _=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===l.C.vote_values.up?((0,S.IJ)("unvoting is not implemented!"),(0,er.Am)("unvoting is not implemented!"),a.unvote()):a.vote({value:l.C.vote_values.up,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,S.IJ)(e,"upvoted"),d("#cc3333"),w(l.C.vote_values.up),v===l.C.vote_values.down?(y("#cecece"),s(u+2)):s(u+1)})},b=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===l.C.vote_values.down?((0,S.IJ)("unvoting is not implemented!"),(0,er.Am)("unvoting is not implemented!"),a.unvote()):a.vote({value:l.C.vote_values.down,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,S.IJ)(e,"downvoted"),y("#cc3333"),w(l.C.vote_values.down),v===l.C.vote_values.up?(d("#cecece"),s(u-2)):s(u-1)})};return r.createElement(e_,null,r.createElement(e0,{onClick:_,width:20,height:20,fill:p}),r.createElement(e8,null,u),r.createElement(ex,{onClick:b,width:20,height:20,fill:h}))};e1.propTypes={item:O().object.isRequired};var e3=e1,ek=["children"],e2=["children"],e5=["children"];function eC(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eP=M.ZP.div.withConfig({displayName:"NewsitemContainer__Col",componentId:"sc-11t8rkk-0"})(["display:flex;flex-direction:column;"]),e4=M.ZP.div.withConfig({displayName:"NewsitemContainer___Row",componentId:"sc-11t8rkk-1"})(["display:flex;align-items:flex-start;margin-top:",";"],function(e){return e.theme.smallWidth}),e7=function(e){var t=e.children,n=eC(e,ek);return r.createElement(e4,Object.assign({className:"Row"},n),t)},e6=M.ZP.div.withConfig({displayName:"NewsitemContainer__RowInline",componentId:"sc-11t8rkk-2"})(["> *{display:inline;}"]),eO=M.ZP.a.withConfig({displayName:"NewsitemContainer__A",componentId:"sc-11t8rkk-3"})(["color:var(--ion-color);text-decoration:none;"]),eI=M.ZP.a.withConfig({displayName:"NewsitemContainer__TitleA",componentId:"sc-11t8rkk-4"})(["margin-top:0;margin-bottom:0;color:var(--ion-color);font-size:2em;text-decoration:none;"]),eL=function(e){var t=e.children,n=eC(e,e2);if(n.variant===l.C.variants.bordered)return r.createElement(l.xP,n,t);throw"not implemented, how do I show a newsitem without a border?"},eM=function(e){var t,n=e.children,o=eC(e,e5),i=o.className,a=o.item,l=o.variant,c=(0,r.useContext)(x).slug,u=(0,r.useContext)(j.Nd),s=(u.itemToUnlock,u.setItemToUnlock);u.layout,u.showItem,u.setShowItem;var f=(0,T.k6)(),p=z.X.item({item:a,location:{slug:c}}),d=function(e){e.preventDefault(),a.is_premium&&!a.is_purchased?s(a):f.push(p)};return r.createElement(eL,{className:i,variant:l},n,r.createElement(e7,null,r.createElement(eP,{style:{alignItems:"center"}},r.createElement(e3,{item:a})),r.createElement(eP,{style:{overflowWrap:"break-word"}},r.createElement(e6,null,r.createElement(eJ,a),r.createElement(eI,{href:p,onClick:d},a.name)),r.createElement(N._I,a))),(null===(t=a.subhead)||void 0===t?void 0:t.length)&&r.createElement(eO,{className:"subhead",href:p,onClick:d,dangerouslySetInnerHTML:{__html:a.subhead}})||null)};eM.propTypes={item:O().object.isRequired,variant:O().string};var eS=eM,eN=["fill","w","h"],eT=["fill","w","h"],eA=["fill","w","h"],ej=["fill","w","h"],eD=["fill","w","h"],eR=["children"];function ez(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eZ=M.ZP.span.withConfig({displayName:"ItemIcon___Icon",componentId:"sc-1fvs9d6-0"})(["margin:0 "," 0 0;"],function(e){return e.theme.smallWidth}),eU=function(e){var t=e.fill,n=e.w,o=e.h;ez(e,eN);var i=(0,M.Fg)();return t=t||i.colors.text,n=n||24,o=o||24,r.createElement(eZ,{className:"IconGem"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:t,viewBox:"0 0 45.964 45.964",style:{enableBackground:"new 0 0 45.964 45.964"}},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M7.071,30.834V11.062H4.042C1.803,11.062,0,12.893,0,15.13v26.732c0,2.24,1.803,4.051,4.042,4.051h26.733    c2.238,0,4.076-1.811,4.076-4.051v-2.92H15.179C10.733,38.943,7.071,35.281,7.071,30.834z"}),"   ",r.createElement("path",{d:"M41.913,0.05H15.179c-2.238,0-4.066,1.813-4.066,4.051v26.733c0,2.241,1.829,4.067,4.066,4.067h26.734    c2.237,0,4.051-1.826,4.051-4.067V4.102C45.964,1.862,44.15,0.05,41.913,0.05z M41.363,28.589    c-0.223,0.412-0.652,0.656-1.12,0.656H17.336c-0.403,0-0.782-0.18-1.022-0.502c-0.24-0.324-0.313-0.736-0.197-1.123l3.277-10.839    c0.216-0.713,0.818-1.24,1.554-1.361c0.736-0.12,1.476,0.19,1.908,0.797l4.582,6.437c0.617,0.867,1.812,1.082,2.689,0.484    l4.219-2.865c0.434-0.295,0.967-0.402,1.48-0.299c0.515,0.102,0.966,0.408,1.253,0.848l4.229,6.472    C41.564,27.687,41.585,28.179,41.363,28.589z"}),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eW=function(e){var t=e.fill,n=e.w,o=e.h;ez(e,eT);var i=(0,M.Fg)();return t=t||i.colors.gold,n=n||24,o=o||24,r.createElement(eZ,{className:"IconGem"},r.createElement("svg",{viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",width:n,height:o,fill:t},r.createElement("path",{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"})))},eF=function(e){var t=e.fill,n=e.w,o=e.h;ez(e,eA);var i=(0,M.Fg)();return t=t||i.colors.cyan,n=n||24,o=o||24,r.createElement(eZ,{className:"IconGlasses"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 297 297",style:{enableBackground:"new 0 0 297 297"},width:n,height:o,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M115.167,101.47H24.012C10.751,101.469,0,112.22,0,125.482v43.477c0,14.674,11.896,26.57,26.57,26.57h39.67     c21.977,0,41.223-14.737,46.954-35.953l10.297-45.336c0.633-3.567-0.276-7.232-2.431-9.804     C120.132,103.328,118.132,101.47,115.167,101.47z M24.542,138.106c-1.945,0-3.888-0.742-5.373-2.225     c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747     l-5.428,5.428C28.432,137.364,26.487,138.106,24.542,138.106z M64.111,130.453l-21.71,21.71     c-1.484,1.483-3.429,2.225-5.374,2.225c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71     c2.968-2.966,7.779-2.966,10.747,0C67.078,122.674,67.078,127.485,64.111,130.453z"}),"    ",r.createElement("path",{d:"M160.885,106.524h-26.517c0.575,3.345,0.587,6.828-0.021,10.307l-2.22,12.693h31l-2.22-12.693     C160.299,113.352,160.311,109.868,160.885,106.524z"}),"    ",r.createElement("path",{d:"M272.988,101.47h-94.649c-2.965,0-4.965,1.858-5.893,2.966c-2.155,2.572-3.064,6.236-2.43,9.804l10.296,45.336     c5.731,21.216,24.977,35.954,46.954,35.954h43.164c14.674-0.001,26.57-11.897,26.57-26.571v-43.477     C297,112.22,286.249,101.47,272.988,101.47z M192.422,135.881c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428     c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747l-5.428,5.428c-1.484,1.483-3.429,2.225-5.374,2.225     C195.851,138.106,193.906,137.364,192.422,135.881z M237.363,130.453l-21.71,21.71c-1.484,1.483-3.429,2.225-5.374,2.225     c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71c2.968-2.966,7.779-2.966,10.747,0     C240.33,122.674,240.33,127.485,237.363,130.453z"}),"   "),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eV=function(e){var t=e.fill,n=e.w,o=e.h;ez(e,ej);var i=(0,M.Fg)();return t=t||i.colors.text,n=n||24,o=o||24,r.createElement(eZ,{className:"IconReport"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184.153 184.153",style:{enableBackground:"new 0 0 184.153 184.153"},width:n,height:o,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M129.318,0H26.06c-1.919,0-3.475,1.554-3.475,3.475v177.203c0,1.92,1.556,3.475,3.475,3.475h132.034 c1.919,0,3.475-1.554,3.475-3.475V34.131C161.568,22.011,140.771,0,129.318,0z M154.62,177.203H29.535V6.949h99.784 c7.803,0,25.301,18.798,25.301,27.182V177.203z"}),r.createElement("path",{d:"M71.23,76.441c15.327,0,27.797-12.47,27.797-27.797c0-15.327-12.47-27.797-27.797-27.797 c-15.327,0-27.797,12.47-27.797,27.797C43.433,63.971,55.902,76.441,71.23,76.441z M71.229,27.797 c11.497,0,20.848,9.351,20.848,20.847c0,0.888-0.074,1.758-0.183,2.617l-18.071-2.708L62.505,29.735    C65.162,28.503,68.112,27.797,71.229,27.797z M56.761,33.668l11.951,19.869c0.534,0.889,1.437,1.49,2.462,1.646l18.669,2.799    c-3.433,6.814-10.477,11.51-18.613,11.51c-11.496,0-20.847-9.351-20.847-20.847C50.381,42.767,52.836,37.461,56.761,33.668z"}),"   ",r.createElement("rect",{x:"46.907",y:"90.339",width:"73.058",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"107.712",width:"48.644",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"125.085",width:"62.542",height:"6.949"}),"  "))),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},eG=function(e){var t=e.fill,n=e.w,o=e.h;ez(e,eD);var i=(0,M.Fg)();return t=t||i.colors.text,n=n||24,o=o||24,r.createElement(eZ,{className:"IconVideo"},r.createElement("svg",{width:n,height:o,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:t,d:"M9.89989 0H29.6999C31.5149 0 32.9999 1.485 32.9999 3.3V23.1C32.9999 24.915 31.5149 26.4 29.6999 26.4H9.89989C8.08489 26.4 6.59989 24.915 6.59989 23.1V3.3C6.59989 1.485 8.08489 0 9.89989 0ZM0 6.6H3.3V29.7H26.4V33H3.3C1.485 33 0 31.515 0 29.7V6.6ZM29.7 23.1H9.89997V3.3H29.7V23.1ZM16.5001 20.625V5.775L26.4001 13.2L16.5001 20.625Z"})))},eH=M.ZP.div.withConfig({displayName:"ItemIcon___W0",componentId:"sc-1fvs9d6-1"})(["display:inline;box-sizing:border-box;"]),eB=function(e){var t=e.children,n=ez(e,eR);return r.createElement(eH,Object.assign({className:"ItemIcon"},n),t)},eq=function(e){var t=e.is_purchased,n=e.item_type,o=e.premium_tier,i=[];switch(o>0&&(t?i.push(r.createElement(eF,{key:"IconGlasses"})):i.push(r.createElement(eW,{key:"IconGem"}))),n){case l.C.item_types.gallery:i.push(r.createElement(eU,{key:"IconGallery"}));break;case l.C.item_types.report:i.push(r.createElement(eV,{key:"IconReport"}));break;case l.C.item_types.video:i.push(r.createElement(eG,{key:"IconVideo"}));break;case l.C.item_types.location:break;default:i.push(r.createElement("span",{key:"unknown-kind"},"[\xa0?\xa0]"))}return r.createElement(eB,null,i)};eq.propTypes={is_premium:O().bool,is_purchased:O().bool,item_type:O().string.isRequired,premium_tier:O().number};var eJ=eq,eY=function(e){var t=e.item;return r.createElement(r.Fragment,null,r.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}}))},eX=["children"],eK=["className"],e9=["children"];function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tn=M.ZP.a.withConfig({displayName:"Marker___W0",componentId:"sc-lvan3-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);display:block;text-decoration:none;margin:0 .5em .5em 0;padding:.5em;text-align:center;width:18%;max-width:140px;min-width:120px;"]),tr=M.ZP.div.withConfig({displayName:"Marker__MarkerEmpty",componentId:"sc-lvan3-1"})(["width:18%;max-width:140px;min-width:120px;height:0;border:none;padding:0;margin:0 .5em 0 0;"]),to=function(e){var t=e.children,n=tt(e,eX),o=n.className,i=tt(n,eK);return r.createElement(tn,Object.assign({className:"WBorderedItem ".concat(void 0===o?"":o)},i),t)},ti=function(e){e.children;var t=tt(e,e9),n=t.marker,o=(0,(0,r.useContext)(l.Il).useHistory)(),i=(0,r.useContext)(j.Nd),a=(i.itemToUnlock,i.setItemToUnlock),c=(i.showUrl,i.setShowUrl),u=z.X.location({slug:n.destination_slug}),s=function(e){e.preventDefault(),n.premium_tier&&!n.is_purchased?a(n):n.url?c(n.url):o.push(u)};return r.createElement(to,Object.assign({onClick:s},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({href:u},t)),r.createElement("img",{src:n.title_img_path}),r.createElement("br",null),r.createElement(eJ,n)," ",n.name)};ti.propTypes={marker:O().object.isRequired};var ta=ti,tl=["children","variant"],tc=M.ZP.div.withConfig({displayName:"MarkersList___W0",componentId:"sc-i7mf08-0"})(["display:flex;flex-wrap:wrap;justify-content:space-between;"]),tu=function(e){var t=e.children,n=e.variant,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tl);return n===l.C.variants.bordered?r.createElement(l.xP,o,t):r.createElement(tc,o,t)},ts=function(e){e.variant;var t=[];e.markers.map(function(e,n){e.destination_slug&&t.push(r.createElement(ta,{key:n,marker:e}))});for(var n=12-t.length%12,o=0;o<n;o++)t.push(r.createElement(tr,{key:"padded-".concat(o)}));return r.createElement(tu,{className:"MarkersList"},t)};ts.propTypes={markers:O().arrayOf(O().shape({destination_slug:O().string})).isRequired,variant:O().string};var tf=ts,tp=M.ZP.div.withConfig({displayName:"MarkerForm__Actions",componentId:"sc-1qq3e62-0"})([""]),td=M.ZP.div.withConfig({displayName:"MarkerForm__W0",componentId:"sc-1qq3e62-1"})([""]),tm=r.createContext({}),th=["fill"],t$=["children"],ty=["children"];function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(t){tw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t0(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tE=function(e){var t=e.fill,n=t0(e,th);return r.createElement("div",n,r.createElement("svg",{width:"17",height:"17",viewBox:"0 -0.5 17 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("defs",null),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(1.000000, 0.000000)",fill:void 0===t?"var(--ion-inactive-color)":t},r.createElement("path",{d:"M5.958,8.951 L5.958,7.007 L3.979,7.007 L3.97900001,5.06677246 C3.97900001,4.57762889 0.265,7.332 0.265,7.332 C-0.095,7.696 -0.095,8.29 0.264,8.655 C0.264,8.655 3.97900001,11.4734899 3.97900001,10.9475709 L3.979,8.951 L5.958,8.951 Z"}),r.createElement("path",{d:"M10.002,7 L10.002,8.973 L12.048,8.973 L12.048,11 C12.048,11.4553833 15.695,8.684 15.695,8.684 C16.055,8.336 16.055,7.771 15.695,7.423 C15.695,7.423 11.980774,4.64377734 11.980774,5.03546143 L12.048,7 L10.002,7 Z"}),r.createElement("rect",{x:"7",y:"0",width:"2",height:"16"})))))},tx=function(){return r.createElement(tE,null)},t8=M.ZP.div.withConfig({displayName:"LocationsShow___D",componentId:"sc-j8biii-0"})([""]),t1=function(e){var t=e.item,n=void 0===t?{}:t;if(n.description)return r.createElement(t8,{className:"Description",dangerouslySetInnerHTML:{__html:n.description}})},t3=M.ZP.div.withConfig({displayName:"LocationsShow___Handle",componentId:"sc-j8biii-1"})(["border:","px solid green;position:absolute;top:0;bottom:0;left:",";right:",";display:flex;flex-direction:column;align-items:center;width:var(--handle-width);z-index:2;"],function(e){return e.debug?1:0},function(e){return e.foldedLeft?0:e.foldedRight?"auto":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?0:"auto"}),tk=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,r.useContext)(j.Nd),n=t.folded,o=t.setFolded,i=t.foldedLeft,c=t.foldedRight,u=t.twofoldPercent;t.setTwofoldPercent,t_((0,l.iP)(),1)[0];var s=t_((0,r.useState)(),2);s[0],s[1];var f=t_((0,r.useState)(!1),2);f[0],f[1];var p=function(){n===l.C.foldedRight?o(l.C.foldedCenter):o(l.C.foldedLeft)},d=function(){n===l.C.foldedLeft?o(l.C.foldedCenter):o(l.C.foldedRight)};return r.createElement(t3,{className:"Handle",debug:a().debug,foldedLeft:i,foldedRight:c,twofoldPercent:u},r.createElement(l.s$,{onClick:p}),r.createElement(l._Q,{onClick:d}),r.createElement(tx,null),-1!==[l.C.foldedRight,l.C.foldedLeft].indexOf(n)&&r.createElement(j.LW,{orientation:l.C.vertical}))},t2=function(e){var t=(0,r.useContext)(j.Nd),n=t.showUrl,o=t.setShowUrl;return r.createElement(L(),{ariaHideApp:!1,isOpen:!!n},r.createElement("span",{onClick:function(){o(!1)}},"[x]"),r.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))},t5=M.ZP.div.withConfig({displayName:"LocationsShow___Left",componentId:"sc-j8biii-2"})(["background:",";flex:",";overflow:hidden;display:flex;flex-direction:column;margin-right:",";height:calc(100vh - "," - ",");"],function(e){return e.theme.colors.background},function(e){return e.foldedRight?"99%":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?"30px":0},function(e){return e.theme.borderWidth},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),tC=function(e){var t=e.children;t0(e,t$);var n=(0,r.useContext)(j.Nd),o=n.bottomDrawerOpen,i=(n.folded,n.foldedLeft),a=n.foldedRight,l=n.twofoldPercent;return i?null:r.createElement(t5,{className:"Left",bottomDrawerOpen:o,foldedRight:a,twofoldPercent:l},t)},tP=M.ZP.div.withConfig({displayName:"LocationsShow___Right",componentId:"sc-j8biii-3"})(["position:relative;padding:0 0 0 ",";display:",";flex:",";overflow-x:hidden;flex-direction:column;height:calc(100vh - "," - ",");"],function(e){return["android","ios"].includes(e.os)?"":"var(--handle-width)"},function(e){return e.foldedRight?"none":"flex"},function(e){return"".concat((1-e.twofoldPercent)*100,"%")},function(e){return"calc(2*".concat(e.theme.borderWidth,")")},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),t4=function(e){var t=e.children,n=t0(e,ty),o=(0,r.useContext)(j.Nd),i=o.bottomDrawerOpen,a=(o.folded,o.foldedLeft,o.foldedRight),l=o.twofoldPercent;return r.createElement(tP,Object.assign({className:"Right"},tv({bottomDrawerOpen:i,foldedRight:a,twofoldPercent:l},n)),t)},t7=M.ZP.div.withConfig({displayName:"LocationsShow__W0",componentId:"sc-j8biii-4"})(["display:flex;position:relative;"]),t6=function(e){(0,l.IJ)(e,"LocationsShow");var t=e.location,n=e.match,o=e.showItem;if(!t)return null;var i=(0,r.useContext)(S.Vo).currentUser,a=(0,r.useContext)(l.Il).os,c=(0,r.useContext)(j.Nd),u=c.bottomDrawerOpen,s=(c.editorMode,c.folded),f=(c.setFolded,c.foldedLeft,c.foldedRight,c.itemToUnlock,c.setItemToUnlock),p=(c.mapPanelWidth,c.setMapPanelWidth),d=(c.mapPanelHeight,c.setMapPanelHeight),m=(c.ratedConfirmation,c.setRatedConfirmation,c.showUrl),h=(c.setShowUrl,c.twofoldPercent),y=t_((0,l.iP)(),2),g=y[0],v=y[1],w=t_((0,r.useState)(!1),2),_=w[0];w[1];var b=(0,r.useRef)(null);return((0,r.useEffect)(function(){!t.is_premium||i.email&&t.is_purchased?f(!1):f(tv({closable:!1,item_type:l.C.item_types.location},t))},[i,t]),(0,r.useEffect)(function(){b.current&&(p(b.current.offsetWidth),d(b.current.offsetHeight))},[u,s,b.current,h,g,v]),-1!==["ios","android"].indexOf(a))?r.createElement(t7,null,r.createElement(k,t,r.createElement(t4,{os:a},r.createElement(N.Oo,t),r.createElement(j.zF,{className:"Maps",label:t.labels.map,slug:l.C.collapsible.map,variant:l.C.variants.transparent},r.createElement(nj,{location:t.map?t.map:t,match:e.match,ref:b,slug:n.params.slug})),t.markers.length&&r.createElement(j.zF,{className:"Markers",label:t.labels.markers,slug:l.C.collapsible.markers,variant:l.C.variants.transparent},r.createElement(tf,{markers:t.markers,variant:l.C.variants.bordered}))||null,t.description&&r.createElement(j.zF,{className:"Description",label:t.labels.description,slug:l.C.collapsible.description,variant:l.C.variants.bordered},r.createElement(t1,{item:t}))||null,t.newsitems.length&&r.createElement(j.zF,{className:"Newsitems",label:t.labels.newsitems,slug:l.C.collapsible.newsitems,variant:l.C.variants.transparent},r.createElement(eh,{newsitems:t.newsitems,variant:l.C.variants.bordered}))||null),m&&r.createElement(t2,{src:m}),o&&r.createElement(W,{item:o}),_&&r.createElement(l.gb,null),r.createElement(N.ce,null))):r.createElement(t7,null,r.createElement(k,t,r.createElement(tC,null,r.createElement(N.Oo,t),r.createElement(nV,{map:t.map?t.map:t,ref:b,slug:n.params.slug})),r.createElement(tk,null),r.createElement(t4,null,t.markers.length&&r.createElement(j.zF,{className:"Markers",label:t.labels.markers,slug:l.C.collapsible.markers,variant:l.C.variants.transparent},r.createElement(tf,{markers:t.markers,variant:l.C.variants.bordered}))||null,t.description&&r.createElement(j.zF,{className:"Description",label:t.labels.description,slug:l.C.collapsible.description,variant:l.C.variants.bordered},r.createElement(t1,{item:t}))||null,t.newsitems.length&&r.createElement(j.zF,{className:"Newsitems",label:t.labels.newsitems,slug:l.C.collapsible.newsitems,variant:l.C.variants.transparent},r.createElement(eh,{newsitems:t.newsitems,variant:l.C.variants.bordered}))||null),m&&r.createElement(t2,{src:m}),o&&r.createElement(W,{item:o}),_&&r.createElement(l.gb,null),r.createElement(N.ce,null)))};t6.propTypes={location:O().object,match:O().shape({params:O().shape({slug:O().string.isRequired})}),showItem:O().object};var tO=t6;function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){tM(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tT=function(e){(0,l.IJ)(e,"LocationsShowAsync");var t,n=e.match,o=tS((0,r.useState)(),2),i=o[0],a=o[1],c=(t=(0,T.TH)().search,r.useMemo(function(){return new URLSearchParams(t)},[t]));n.params=tL(tL({},n.params),{},{newsitems_page:c.get("newsitems_page")||1});var u=tS((0,r.useState)(),2),s=u[0],f=u[1],p=(0,l.h_)();(0,r.useEffect)(function(){(0,l.IJ)(n,"LocationsShowAsync Request Chain");var e=[p.getLocation(n.params)];if(n.params.item_type){var t=l.$z.classify(n.params.item_type);switch(t){case l.C.item_types.gallery:e.push(p.getGallery(n.params.item_slug));break;case l.C.item_types.photo:e.push(p.getPhoto(n.params.item_slug));break;case l.C.item_types.report:e.push(p.getReport(n.params.item_slug));break;default:(0,l.IJ)(t,"Cannot get this item type!"),(0,er.Am)("Cannot get this item type: ".concat(t))}}Promise.all(e).then(function(e){(0,l.IJ)(e,"LocationsShowAsync ChainResults"),a(e[0]),f(e[1]?e[1]:null)}).catch(function(e){})},[n.params.item_type,n.params.item_slug,n.params.slug,n.params.newsitems_page]);var d=r.useMemo(function(){return r.createElement(tO,{location:i,match:n,showItem:s})},[i]);return i?i.is_premium&&!i.is_purchased?r.createElement(C,null):r.createElement(r.Fragment,null,d):null};tT.propTypes={match:O().object.isRequired};var tA=tT;n(8816);var tj=n(7011),tD=["children"],tR=M.ZP.div.withConfig({displayName:"Blocker___Blocker",componentId:"sc-1mqnpns-0"})(["border:2px solid var(--ion-highlight-color);border-radius:var(--ion-border-radius);position:relative;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:calc(50% - 0px);top:calc(50% - 4px);::before{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;}}"]),tz=r.forwardRef(function(e,t){var n=e.children,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tD);return r.createElement(tR,Object.assign({ref:t,className:"Blocker"},o),n)});M.ZP.div.withConfig({displayName:"Crosshair",componentId:"sc-pqmgvx-0"})(["width:50px;height:50px;position:absolute;left:50%;top:50%;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;}"]);var tZ=n(2212);function tU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tW(e,t){return(tW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tF(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tV(e){return(tV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tG=new tZ.Euler(0,0,0,"YXZ"),tH=new tZ.Vector3,tB={type:"change"},tq={type:"lock"},tJ={type:"unlock"},tY=Math.PI/2,tX=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tW(e,t)}(l,e);var t,n,r,o,i,a=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tV(t);if(n){var o=tV(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tF(e)}(this,e)});function l(e,t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),r=a.call(this),void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),r.domElement=t,r.isLocked=!1,r.minPolarAngle=0,r.maxPolarAngle=Math.PI;var n,r,o=tF(r);function i(t){if(!1!==o.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;tG.setFromQuaternion(e.quaternion),tG.y-=.002*n,tG.x-=.002*r,tG.x=Math.max(tY-o.maxPolarAngle,Math.min(tY-o.minPolarAngle,tG.x)),e.quaternion.setFromEuler(tG),o.dispatchEvent(tB)}}function c(){o.domElement.ownerDocument.pointerLockElement===o.domElement?(o.dispatchEvent(tq),o.isLocked=!0):(o.dispatchEvent(tJ),o.isLocked=!1)}function u(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return r.connect=function(){o.domElement.ownerDocument.addEventListener("mousemove",i),o.domElement.ownerDocument.addEventListener("pointerlockchange",c),o.domElement.ownerDocument.addEventListener("pointerlockerror",u)},r.disconnect=function(){o.domElement.ownerDocument.removeEventListener("mousemove",i),o.domElement.ownerDocument.removeEventListener("pointerlockchange",c),o.domElement.ownerDocument.removeEventListener("pointerlockerror",u)},r.dispose=function(){this.disconnect()},r.getObject=function(){return e},r.getDirection=(n=new tZ.Vector3(0,0,-1),function(t){return t.copy(n).applyQuaternion(e.quaternion)}),r.moveForward=function(t){tH.setFromMatrixColumn(e.matrix,0),tH.crossVectors(e.up,tH),e.position.addScaledVector(tH,t)},r.moveRight=function(t){tH.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(tH,t)},r.lock=function(){this.domElement.requestPointerLock()},r.unlock=function(){o.domElement.ownerDocument.exitPointerLock()},r.connect(),r}return r=l,o&&tU(r.prototype,o),i&&tU(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(tZ.EventDispatcher),tK=M.ZP.div.withConfig({displayName:"RotationPad__W0",componentId:"sc-py61vh-0"})(["position:absolute;bottom:10px;right:10px;color:white;font-size:2em;border:1px solid red;"]),t9=function(e){(0,l.IJ)(e,"RotationPad"),e.container;var t,n,o,i,a,c=!1,u=function(e){var r,l,u,s;c=!0,self.handle.css("opacity","1.0"),r=e.pageX,l=e.pageY,n=r-self.regionData.offset.left,o=l-self.regionData.offset.top,(i=Math.pow(self.regionData.centerX-n,2)+Math.pow(self.regionData.centerY-o,2))>Math.pow(self.regionData.radius,2)&&(n=Math.cos(a=Math.atan2(o-self.regionData.centerY,n-self.regionData.centerX))*self.regionData.radius+self.regionData.centerX,o=Math.sin(a)*self.regionData.radius+self.regionData.centerY),o=Math.round(10*o)/10,n=Math.round(10*n)/10,self.handle.css({top:o-self.handleData.radius,left:n-self.handleData.radius}),u=self.regionData.centerX-parseInt(n),s=self.regionData.centerY-parseInt(o),u=-2+4*(u- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),s=-2+4*(s- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),function e(n,r){if(!c){clearTimeout(t);return}clearTimeout(t),t=setTimeout(function(){e(n,r)},5);var o=$.Event("YawPitch",{detail:{deltaX:n,deltaY:r},bubbles:!1});$(self).trigger(o)}(u=-1*Math.round(10*u)/10,s=-1*Math.round(10*s)/10)};return self.regionData={},self.handleData={},self.rotationPad=r.createElement("h1",null,"R"),self.region=r.createElement("h2",{onMouseDown:u},"region"),self.handle=r.createElement("h2",null,"handle"),(0,l.IJ)("resetting handle position..."),r.createElement(tK,null,"[ Rotate4 ]")},tQ=n(1217),ne=n(5344);function nt(e){return function(e){if(Array.isArray(e))return nn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nr={epsilon:.001,events:{move:"move",stopMove:"stopMove",gotoPosition:"gotoPosition"},origin:[0,10,0]},no=function(e){(0,l.IJ)(e,"ThreePanelMobile");var t,n,o,i,a,c,u=e.map,s=!1,f=performance.now(),p=new tZ.Vector3;new tZ.Vector3,new tZ.Color;var d=new tQ.E,m=new ne.V,h=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,l,y,v,w,_,b,E,x,k,C;(e=(a=new tZ.PerspectiveCamera(75,2,1,1e3)).position).set.apply(e,nt(nr.origin)),(o=new tZ.Scene).background=new tZ.Color(16777215),o.fog=new tZ.Fog(16777215,0,750),(r=new tZ.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),o.add(r),l=new tZ.AxesHelper(5),o.add(l),y=function(e){switch(e.code){case"ArrowUp":case"KeyW":case"ArrowLeft":case"KeyA":case"ArrowDown":case"KeyS":case"ArrowRight":case"KeyD":break;case"Space":!0===s&&(p.y+=350),s=!1}},v=function(e){e.code},document.addEventListener("keydown",y),document.addEventListener("keyup",v),w=function(e){},_=function(e){var t=e.detail,n=t.deltaX,r=t.deltaY,o=new tZ.Vector3(n,0,-r);o.normalize(),o.multiplyScalar(.2),p.add(o)},b=function(e){var t,n=e.detail;(t=a.position).set.apply(t,nt(n))},document.addEventListener(nr.events.move,_),document.addEventListener(nr.events.stopMove,w),document.addEventListener(nr.events.gotoPosition,b),t=new tZ.Raycaster(new tZ.Vector3,new tZ.Vector3(0,-1,0),0,10),i=tZ.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(E=new tZ.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),x=new tZ.MeshBasicMaterial({map:i}),k=new tZ.Mesh(E,x),o.add(k),u.markers.map(function(e,t){d.load(e.asset3d_path,function(e){o.add(e.scene),m.fromGraphNode(e.scene),e.scene.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map&&(e.material.map.anisotropy=4))})})}),i=new tZ.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tZ.WebGLCubeRenderTarget(i.image.height);e.fromEquirectangularTexture(n,i),o.background=e.texture}),(C=new tZ.Object3D).name="cameraHolder",(c=new tZ.Object3D).add(C),(n=new tZ.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(700,350),h.current.appendChild(n.domElement),window.addEventListener("resize",g),function e(){requestAnimationFrame(e),new tZ.Vector3;var t=performance.now(),r=(t-f)/1e3;Math.abs(p.x)<nr.epsilon?p.x=0:p.x-=10*p.x*r,Math.abs(p.y)<nr.epsilon&&(p.y=0),Math.abs(p.z)<nr.epsilon?p.z=0:p.z-=10*p.z*r,a.translateX(p.x),a.translateZ(p.z),f=t,n.render(o,a)}(),g()},[]);var g=function(){a.aspect=h.current.clientWidth/h.current.clientHeight,a.updateProjectionMatrix(),n.setSize(h.current.clientWidth,h.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:y}),r.createElement(tz,{ref:h,className:"Blocker"},r.createElement("div",{id:"Crosshair"}),r.createElement(ny,null)))},ni={src:"/_next/static/media/MovementPadBg.93d6840e.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAABlBMVEUACo0AC4z3HtlIAAAAAnRSTlMBISPh7CcAAAAJcEhZcwAALiMAAC4jAXilP3YAAAARSURBVAiZY2DACxgZ0Rk4AAAA2AAFhJR3HAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},na={src:"/_next/static/media/aim.74012678.svg",height:504,width:504},nl=["children"],nc=["children"];function nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nf(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}M.ZP.div.withConfig({displayName:"MovementPad___Region",componentId:"sc-it6gu4-0"})(["width:100%;height:100%;background:rgba(126,126,0,.5);"]);var np=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nu(Object(n),!0).forEach(function(t){ns(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({thresh:.2},nr),nd=M.ZP.div.withConfig({displayName:"MovementPad___Handle",componentId:"sc-it6gu4-1"})([""]),nm=function(e){var t=e.children,n=nf(e,nl);return r.createElement(nd,Object.assign({className:"Handle"},n),t)},nh=M.ZP.div.withConfig({displayName:"MovementPad___Pad",componentId:"sc-it6gu4-2"})(["top:50px;right:50px;position:absolute;width:100px;height:100px;border:1px solid cyan;"]),n$=function(e){var t=e.children,n=nf(e,nc);return r.createElement(nh,Object.assign({className:"MovementPad"},n),t)},ny=function(e){(0,l.IJ)(e,"MovementPad"),function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,o,i,a=!1,c={},u=(0,r.useRef)(null);u.current&&(c.w=u.current.clientWidth,c.radius=c.w/2,c.h=u.current.clientHeight,c.x=u.current.getBoundingClientRect().x,c.y=u.current.getBoundingClientRect().y,c.centerX=c.x+c.w/2,c.centerY=c.y+c.h/2);var s=function(e){a=!1,g(),h()},f=function(e){a&&d(e.touches[0].pageX,e.touches[0].pageY)},p=function(e){e.persist(),a=!0,d(e.targetTouches[0].pageX,e.targetTouches[0].pageY)},d=function(e,t){o=e-c.x,i=t-c.y,c.centerX=50,c.centerY=50;var n=c.centerX-parseInt(o),r=c.centerY-parseInt(i);n=-2+4*(n- -c.radius)/(c.radius- -c.radius),r=-2+4*(r- -c.radius)/(c.radius- -c.radius),n=Math.round(10*n)/10,r=Math.round(10*r)/10,Math.abs(n)<np.thresh&&Math.abs(r)<np.thresh&&(n=0,r=0),h(-n,r,0)},m=new CustomEvent("stopMove",{bubbles:!1});function h(e,r,o){if(!a){clearTimeout(n),document.dispatchEvent(m);return}clearTimeout(t),t=setTimeout(function(){(0,l.IJ)("stopping..."),document.dispatchEvent(m)},200);var i=new CustomEvent(np.events.move,{detail:{deltaX:e,deltaY:r},bubbles:!1});document.dispatchEvent(i)}var y=function(){var e=new CustomEvent(np.events.gotoPosition,{detail:np.origin,bubbles:!1});document.dispatchEvent(e)},g=function(){};return r.createElement(n$,null,r.createElement("div",{className:"Region",style:{width:"100px",height:"100px",background:'center center url("'.concat(ni,'") rgba(255,0,0,.5)')},onTouchEnd:s,onTouchCancel:s,onTouchStart:p,onTouchMove:f,ref:u},r.createElement(nm,null)),r.createElement("img",{style:{width:25,height:25,position:"absolute",right:0,top:125},src:na,onClick:y}))};function ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ng(Object(n),!0).forEach(function(t){nw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ng(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}M.ZP.div.withConfig({displayName:"TouchControls__W0",componentId:"sc-dv6ako-0"})(["position:absolute;bottom:10px;left:10px;border:1px solid red;z-index:2;color:white;font-size:2em;"]);var n_=function(e){(0,l.IJ)(e,"TouchControls");var t=e.container,n=e.camera,o=e.options;if(!(null!=t&&t.current))return(0,l.IJ)("no current ref in TouchControls!"),null;var i=nv(nv({},o),{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40}),a=!1,c=[],u=i.maxPitch*Math.PI/180;new tZ.Vector3(0,0,0);var s=new tZ.Object3D;s.name="cameraHolder",s.add(n),new tZ.Object3D().add(s);var f,p,d,m,h=new tZ.Vector2;function y(e){a=!1}function g(e,t,n){var n=n||self.config.rotationFactor,r=self.fpsBody.rotation.y-e*n,o=s.rotation.x-t*n;return{rx:o=Math.max(-u,Math.min(u,o)),ry:r}}return $(self.rotationPad).on("YawPitch",function(e){var t=g(e.detail.deltaX,e.detail.deltaY);self.setRotation(t.rx,t.ry)}),t.current.addEventListener("contextmenu",function(e){e.preventDefault()}),t.current.addEventListener("mousedown",function(e){self.enabled&&2===e.button&&(a=!0,e.preventDefault(),e.stopPropagation())}),t.current.addEventListener("mouseup",function(e){self.enabled&&2===e.button&&(a=!1)}),t.current.addEventListener("keydown",function(e){self.enabled&&e.keyCode}),t.current.addEventListener("keyup",function(e){e.keyCode}),t.current.addEventListener("mousemove",function(e){if(h.x=e.clientX/window.innerWidth*2-1,h.y=-(2*(e.clientY/window.innerHeight))+1,self.enabled&&a){var t,n=g(-1*(e.originalEvent.movementX||e.originalEvent.mozMovementX||e.originalEvent.webkitMovementX||0),-1*(e.originalEvent.movementY||e.originalEvent.mozMovementY||e.originalEvent.webkitMovementY||0));self.setRotation(n.rx,n.ry)}}),t.current.addEventListener("mouseout",y),(f=new tZ.Matrix4).makeRotationY(0),c.push(f),(p=new tZ.Matrix4).makeRotationY(180*Math.PI/180),c.push(p),(d=new tZ.Matrix4).makeRotationY(90*Math.PI/180),c.push(d),(m=new tZ.Matrix4).makeRotationY(270*Math.PI/180),c.push(m),r.createElement(t9,null)};n_.prototype={addToScene:function(e){this.scene=e,e.add(this.fpsBody)},setPosition:function(e,t,n){this.fpsBody.position.set(e,t,n)},stopMouseMoving:function(){isRightMouseDown=!1},getHitObjects:function(){return hitObjects}};var nb=n_,n0=M.ZP.div.withConfig({displayName:"Equirectangular4__Blocker",componentId:"sc-n47vax-0"})(["border:1px dashed red;position:relative;width:100%;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),nE=M.ZP.div.withConfig({displayName:"Equirectangular4__W",componentId:"sc-n47vax-1"})(["border:1px solid blue;height:90vh;"]),nx=function(e){(0,l.IJ)(e,"Equirectangular2");var t=e.map;(0,T.k6)();var n,o,i,a,c,u,s=[],f=(0,r.useContext)(j.Nd),p=f.bottomDrawerOpen,d=f.folded,m=(f.setFolded,f.itemToUnlock,f.setItemToUnlock,f.mapPanelWidth,f.setMapPanelWidth,f.mapPanelHeight,f.setMapPanelHeight,f.ratedConfirmation,f.setRatedConfirmation,f.showItem,f.setShowItem,f.showUrl,f.setShowUrl,f.twofoldPercent),h=(0,r.useRef)(null),y=(0,r.useRef)(null),g=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,f,p,d,m,g,O,I,L;(n=new tZ.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tZ.Scene).background=new tZ.Color(16777215),u.fog=new tZ.Fog(16777215,0,750),(e=new tZ.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new tX(n,document.body),h.current.addEventListener("click",function(){(0,l.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,l.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!0;break;case"ArrowLeft":case"KeyA":_=!0;break;case"ArrowDown":case"KeyS":w=!0;break;case"ArrowRight":case"KeyD":b=!0;break;case"Space":!0===E&&(k.y+=350),E=!1}},f=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!1;break;case"ArrowLeft":case"KeyA":_=!1;break;case"ArrowDown":case"KeyS":w=!1;break;case"ArrowRight":case"KeyD":b=!1}},document.addEventListener("keydown",r),document.addEventListener("keyup",f),i=new tZ.Raycaster(new tZ.Vector3,new tZ.Vector3(0,-1,0),0,10),p=new tZ.AxisHelper(700),u.add(p),d=y.current,(o=new nb({container:d,camera:n,options:{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40},RotationPad:rotationPad,THREE:tZ})).setPosition(0,35,400),o.addToScene(u),(m=new tZ.PlaneGeometry(100,100,10,10)).rotateX(-Math.PI/2),(c=tZ.ImageUtils.loadTexture("/assets/textures/100x100_lazer-floor.png")).wrapS=tZ.RepeatWrapping,c.wrapT=tZ.RepeatWrapping,c.repeat.set(10,10),g=new tZ.MeshPhongMaterial({map:c}),O=new tZ.Mesh(m,g),u.add(O),I=new tZ.TextureLoader,L=t.img_path,c=I.load(L,function(){var e=new tZ.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(a,c),u.background=e.texture}),(a=new tZ.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(h.current.clientWidth,h.current.clientHeight),h.current.appendChild(a.domElement),window.addEventListener("resize",P),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tZ.Vector3(0,0,0)).clone(),l=(i=new tZ.Raycaster(n.position,r)).intersectObjects(s,!0);l.length&&(l[0].object,l[0].distance<5&&(v=!1));var c=l.length>0,f=(t-x)/1e3;k.x-=10*k.x*f,k.z-=10*k.z*f,k.y-=9.8*100*f,C.z=Number(v)-Number(w),C.x=Number(b)-Number(_),C.normalize(),(v||w)&&(k.z-=400*C.z*f),(_||b)&&(k.x-=400*C.x*f),!0===c&&(k.y=Math.max(0,k.y),E=!0),o.moveRight(-k.x*f),o.moveForward(-k.z*f),o.getObject().position.y+=k.y*f,o.getObject().position.y<10&&(k.y=0,o.getObject().position.y=10,E=!0)}x=t,a.render(u,n)}()},[]),(0,r.useEffect)(function(){window.dispatchEvent(new Event("resize"))},[p,d,m]);var v=!1,w=!1,_=!1,b=!1,E=!1,x=performance.now(),k=new tZ.Vector3,C=new tZ.Vector3;function P(){var e,t,r,o;if(e=a.domElement,t=h.current.clientWidth,r=h.current.clientHeight,(o=e.width!==t||e.height!==r)&&a.setSize(t,r),o){var i=h.current.clientWidth,l=h.current.clientHeight;n.aspect=i/l,n.updateProjectionMatrix()}}return new tZ.Vector3,new tZ.Color,r.createElement(nE,{ref:y},r.createElement("div",{ref:g}),r.createElement(n0,{ref:h},r.createElement("div",{id:"Crosshair"}),r.createElement(t9,null)))},n8=function(e){var t,n,o,i,a,c,u,s=(0,r.useRef)(null);function f(){t.aspect=s.current.clientWidth/s.current.clientHeight,t.updateProjectionMatrix(),a.setSize(s.current.clientWidth,s.current.clientHeight)}return(0,r.useRef)(null),(0,r.useEffect)(function(){var e;(t=new tZ.PerspectiveCamera(75,2,.1,1e3)).position.y=10,t.position.z=-10,(u=new tZ.Scene).background=new tZ.Color(3220255),u.fog=new tZ.Fog(16777215,0,750),(e=new tZ.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),c=tZ.ImageUtils.loadTexture("/assets/textures/2k_mercury.jpeg"),n=new tZ.SphereBufferGeometry(1,32,32),o=new tZ.MeshBasicMaterial({map:c}),(i=new tZ.Mesh(n,o)).position.y=10,i.position.z=-12,u.add(i),(a=new tZ.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(700,350),s.current.appendChild(a.domElement),window.addEventListener("resize",f),function e(){requestAnimationFrame(e),i.rotation.y+=35e-5,a.render(u,t)}()},[]),r.createElement(r.Fragment,null,r.createElement(tz,Object.assign({},l.S,{ref:s})))};function n1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n3(e,t){return(n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nk(e){return(nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n2=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}(l,e);var t,n,r,o,i,a=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nk(t);if(n){var o=nk(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);var r=[];!function e(t){for(var n=0;n<t.length;n++){var o=t[n].box.min,i=t[n].box.max;r.push(i.x,i.y,i.z),r.push(o.x,i.y,i.z),r.push(o.x,i.y,i.z),r.push(o.x,o.y,i.z),r.push(o.x,o.y,i.z),r.push(i.x,o.y,i.z),r.push(i.x,o.y,i.z),r.push(i.x,i.y,i.z),r.push(i.x,i.y,o.z),r.push(o.x,i.y,o.z),r.push(o.x,i.y,o.z),r.push(o.x,o.y,o.z),r.push(o.x,o.y,o.z),r.push(i.x,o.y,o.z),r.push(i.x,o.y,o.z),r.push(i.x,i.y,o.z),r.push(i.x,i.y,i.z),r.push(i.x,i.y,o.z),r.push(o.x,i.y,i.z),r.push(o.x,i.y,o.z),r.push(o.x,o.y,i.z),r.push(o.x,o.y,o.z),r.push(i.x,o.y,i.z),r.push(i.x,o.y,o.z),e(t[n].subTrees)}}(e.subTrees);var o=new tZ.BufferGeometry;return o.setAttribute("position",new tZ.Float32BufferAttribute(r,3)),(t=a.call(this,o,new tZ.LineBasicMaterial({color:n,toneMapped:!1}))).octree=e,t.color=n,t.type="OctreeHelper",t}return r=l,o&&n1(r.prototype,o),i&&n1(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}(tZ.LineSegments),n5=n(2936);function nC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nP(){return(nP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n7(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function n4(e,t){return(n4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n7(e){return(n7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n4(e,t)}(l,e);var t,n,r,o,i,a=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n7(t);if(n){var o=n7(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this)).isCSS2DObject=!0,e.element=t,e.element.style.position="absolute",e.element.style.userSelect="none",e.element.setAttribute("draggable",!1),e.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})}),e}return r=l,o=[{key:"copy",value:function(e,t){return nP(n7(l.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}],nC(r.prototype,o),i&&nC(r,i),Object.defineProperty(r,"prototype",{writable:!1}),l}(tZ.Object3D),new tZ.Vector3,new tZ.Matrix4,new tZ.Matrix4,new tZ.Vector3,new tZ.Vector3;var nI=function(){var e,t,n;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.resources=new Set}return e=r,t=[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach(function(e){return t.track(e)}),e;if((e.dispose||e instanceof tZ.Object3D)&&this.resources.add(e),e instanceof tZ.Object3D)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof tZ.Material){for(var n=0,r=Object.values(e);n<r.length;n++){var o=r[n];o instanceof tZ.Texture&&this.track(o)}if(e.uniforms)for(var i=0,a=Object.values(e.uniforms);i<a.length;i++){var l=a[i];if(l){var c=l.value;(c instanceof tZ.Texture||Array.isArray(c))&&this.track(c)}}}return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return n6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n6(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof tZ.Object3D&&n.parent&&n.parent.remove(n),n.dispose&&n.dispose()}}catch(r){t.e(r)}finally{t.f()}this.resources.clear()}}],nO(e.prototype,t),n&&nO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}(),nL={cm:function(e){return e},m:function(e){return 100*e},centimeters:function(e){return e},meters:function(e){return 100*e}},nM=function(e){(0,l.IJ)(e,"ThreePanelDesktop");var t,n,o,i,a,c,u,s,f,p=e.map,d=e.slug,m=(0,r.useContext)(l.Il),h=m.useHistory,y=m.scene,g=m.worldOctree,v=m.setWorldOctree,w=m.markers2destinationSlugs,_=(m.setSarkers2destinationSlugs,m.tracked),b=new nI;b.track.bind(b);var E=(0,r.useRef)([]),x=h(),k=new tZ.PerspectiveCamera(75,2,nL.cm(10),nL.m(25)),C={},P=new tZ.WebGLRenderer({antialias:!0});P.setPixelRatio(window.devicePixelRatio),P.setSize(700,350),P.shadowMap.enabled=!0;var O=nL.m(3),I=nL.m(1),L=nL.m(8),M=(0,r.useRef)(null),S=(0,r.useRef)(null);(0,r.useEffect)(function(){var e;b.dispose(),(0,l.IJ)(y,"init() scene"),y.background=new tZ.Color(16777215),y.fog=new tZ.Fog(16777215,0,750),e=new tZ.AxesHelper(5),y.add(e),k.position.y=nL.m(0),k.position.z=nL.cm(0),(f=new tZ.Mesh(F,A)).position.y=I,f.position.x=-nL.m(2),f.position.z=nL.m(3),f.add(k),y.add(f),y.add(D),G(),H(),M.current.appendChild(P.domElement),function e(){var n,r,o,i=performance.now(),a=(i-Z)/1e3;!0===t.isLocked&&(r=(n=a)*L,R&&(r*=.8),C.KeyW&&U.add(B().multiplyScalar(-r)),C.KeyS&&U.add(B().multiplyScalar(r)),C.KeyA&&U.add(q().multiplyScalar(r)),C.KeyD&&U.add(q().multiplyScalar(-r)),R&&C.Space&&(U.y=nL.m(3),R=!1),o=Math.exp(-4*n)-1,R||(U.y-=O*n,o*=.1),U.addScaledVector(U,o),J(a),Y(),X()),P.render(y,k),Z=i,s=requestAnimationFrame(e)}(),K()},[p.id,d]),new tZ.TextureLoader;var N=new tQ.E,T=new tZ.MeshBasicMaterial({color:16776960}),A=new tZ.MeshStandardMaterial;A.wireframe=!0;var j=new n5.s(new tZ.Vector3(0,0,0),new tZ.Vector3(0,I,0),nL.m(.5));j.translate(new tZ.Vector3(-nL.m(2),0,nL.m(3)));var D=new tZ.Mesh(new tZ.CylinderBufferGeometry(nL.m(.05),nL.m(.025),nL.m(.15),5),T);new n5.s(new tZ.Vector3(0,0,0),new tZ.Vector3(0,I,0),6),new tZ.Mesh(new tZ.CylinderBufferGeometry(6,3,I,5),T);var R=!1,Z=performance.now(),U=new tZ.Vector3,W=new tZ.Vector3,F=new tZ.SphereGeometry(5,8,8);window.addEventListener("resize",K);var V=function(e){e instanceof tZ.Object3D&&e.parent&&e.parent.remove(e),e.dispose&&e.dispose()},G=function(){t=new tX(f,document.body),M.current.addEventListener("click",function(){(0,l.IJ)("event #click, locked controls"),t.lock()}),t.addEventListener("lock",function(){(0,l.IJ)("event #lock")}),t.addEventListener("unlock",function(){(0,l.IJ)("event #unlock")}),y.add(t.getObject());var e=function(){if(a&&t.isLocked){for((0,l.IJ)(_,"cleaning Up");_.length;){var e=_.pop();(0,l.IJ)(e,"popped"),y.remove(e),V(e)}v(new ne.V),x.push(z.X.location({slug:w[a.uuid].destination_slug}))}};document.addEventListener("keydown",function(e){C[e.code]=!0}),document.addEventListener("keyup",function(e){C[e.code]=!1}),document.addEventListener("click",e),n=new tZ.Raycaster(new tZ.Vector3,new tZ.Vector3(0,-1,0),0,10)},H=function(){E.current=[],p.markers.map(function(e,t){e.asset3d_path&&N.load(e.asset3d_path,function(t){_.push(t.scene),(0,l.IJ)(_,"adding Tracking"),t.scene.position.x=e.x,t.scene.position.y=e.y,t.scene.position.z=e.z,t.scene.scale.multiplyScalar(110),y.add(t.scene);var n=new tZ.BoxHelper(t.scene,16711935);y.add(n),g.fromGraphNode(t.scene,y),(o=new n2(g)).visible=!1,y.add(o),e.destination_slug&&(E.current.push(t.scene),t.scene.traverse(function(e){e.isMesh&&e.material.emissive.setHex(65535)})),t.scene.traverse(function(t){t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0,e.destination_slug&&(w[t.uuid]={destination_slug:e.destination_slug}))}),(0,l.IJ)(E,"pickingObjects")})})};function B(){return f.getWorldDirection(W),W.y=0,W.normalize(),W}function q(){return f.getWorldDirection(W),W.y=0,W.normalize(),W.cross(k.up),W}var J=function(e){i=U.clone().multiplyScalar(e),j.translate(i),f.position.copy(j.end),D.position.copy(j.end),f.position.y+=U.y*e,f.position.y<I&&(U.y=0,f.position.y=I,R=!0)},Y=function(){g&&(u=g.capsuleIntersect(j))&&((R=u.normal.y>0)||U.addScaledVector(u.normal,-u.normal.dot(U)),j.translate(u.normal.multiplyScalar(u.depth)))},X=function(){var e=k.position.clone();e.applyMatrix4(k.matrixWorld);var t=new tZ.Vector3;k.getWorldDirection(t),t.normalize();var r=(n=new tZ.Raycaster(e,t)).intersectObjects(E.current,!0);a&&(a.material.emissive.setHex(c),a=void 0),r.length&&(c=(a=r[0].object).material.emissive.getHex(),a.material.emissive.setHex(16776960))},K=function(){k.aspect=M.current.clientWidth/M.current.clientHeight,k.updateProjectionMatrix(),P.setSize(M.current.clientWidth,M.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:S,className:"Instructions empty"}),r.createElement(tz,{ref:M,className:"Blocker"},r.createElement("div",{id:"Crosshair"})))};M.ZP.div.withConfig({displayName:"ThreePanelV1__Blocker",componentId:"sc-tdhfy-0"})(["height:calc(100% - ",");"],function(e){return e.theme.breadcrumbsHeight}),M.ZP.div.withConfig({displayName:"ThreePanelV2__Blocker",componentId:"sc-123lz9r-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),n(5079),M.ZP.div.withConfig({displayName:"ThreePanelV3__Blocker",componentId:"sc-1x7r1h8-0"})(["position:relative;width:100%;height:100%;"]);var nS=n(6023),nN=M.ZP.div.withConfig({displayName:"ThreePanelV4__Blocker",componentId:"sc-mpzgez-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),nT=function(e){(0,l.IJ)(e,"ThreePanelV4");var t=e.map;(0,T.k6)();var n,o,i,a,c,u,s=[],f=[],p=(0,r.useRef)(null),d=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,d,x,k,C,P,O,I,L,M;(n=new tZ.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tZ.Scene).background=new tZ.Color(16777215),u.fog=new tZ.Fog(16777215,0,750),(e=new tZ.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new tX(n,document.body),p.current.addEventListener("click",function(){(0,l.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,l.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=new tZ.ShaderMaterial({uniforms:{main_color:{value:{r:1,g:1,b:1}},border_color:{value:{r:0,g:0,b:.1}},thickness:{value:.006},height:{value:.13},offset:{value:.05},border:{value:.003},opacity:{value:1},center:{value:{x:.5,y:.5}},rotation:{value:0}},vertexShader:"\n                uniform float rotation;\n                uniform vec2 center;\n                #include <common>\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n                    vec2 scale;\n                    scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n                    scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n                    #ifndef USE_SIZEATTENUATION\n                        bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n                        if ( isPerspective ) scale *= - mvPosition.z;\n                    #endif\n                    vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n                    vec2 rotatedPosition;\n                    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n                    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n                    mvPosition.xy += rotatedPosition;\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n            uniform vec3 main_color;\n            uniform vec3 border_color;\n            uniform float opacity;\n\n            uniform float thickness;\n            uniform float height;\n            uniform float offset;\n            uniform float border;\n\n            varying vec2 vUv;\n            void main() {\n\n                float a = (step(abs(vUv.x - 0.5), thickness)) * step(abs(vUv.y - 0.5), height + offset) * step(offset, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness)) * step(abs(vUv.x - 0.5), height + offset) * step(offset, abs(vUv.x - 0.5));\n                float b = (step(abs(vUv.x - 0.5), thickness - border)) * step(abs(vUv.y - 0.5), height + offset - border) * step(offset + border, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness - border)) * step(abs(vUv.x - 0.5), height + offset - border) * step(offset + border, abs(vUv.x - 0.5));\n                gl_FragColor = vec4( mix(border_color, main_color, b), a * opacity);\n            }\n        ",transparent:!0}),new tZ.Sprite(r),d=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!0;break;case"ArrowLeft":case"KeyA":y=!0;break;case"ArrowDown":case"KeyS":h=!0;break;case"ArrowRight":case"KeyD":g=!0;break;case"Space":!0===v&&(_.y+=350),v=!1}},x=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!1;break;case"ArrowLeft":case"KeyA":y=!1;break;case"ArrowDown":case"KeyS":h=!1;break;case"ArrowRight":case"KeyD":g=!1}},document.addEventListener("keydown",d),document.addEventListener("keyup",x),i=new tZ.Raycaster(new tZ.Vector3,new tZ.Vector3(0,-1,0),0,10),c=tZ.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(k=new tZ.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),C=new tZ.MeshBasicMaterial({map:c}),P=new tZ.Mesh(k,C),u.add(P),O=new tZ.LoadingManager,(I=new nS.v(O)).setPath("/assets/textures/"),L=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},M=function(){},t.markers.map(function(e,t){var n,r,o=e.slug,i="".concat(o,"/").concat(o,".mtl"),a="".concat(o,"/").concat(o,".obj");I.load(i,(n=a,r=o,function(e){e.preload();var t=new tj.L(O);t.setMaterials(e),t.setPath("/assets/objects/"),t.load(n,function(e){e.traverse(function(e){e.isMesh&&e.geometry.scale(10,10,10)}),e.position.x=100*Math.random(),e.position.y=10,e.position.z=100*Math.random(),(0,l.IJ)(e,"loaded obj"),u.add(e),s.push(e),f.push({uuid:e.uuid,name:r})},L,M)}))}),c=new tZ.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tZ.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(a,c),u.background=e.texture}),(a=new tZ.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),a.setSize(700,350),p.current.appendChild(a.domElement),window.addEventListener("resize",E),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tZ.Vector3(0,0,0)).clone(),l=(i=new tZ.Raycaster(n.position,r)).intersectObjects(s,!0);l.length&&l[0].object;var c=l.length>0,f=(t-w)/1e3;_.x-=10*_.x*f,_.z-=10*_.z*f,_.y-=9.8*100*f,b.z=Number(m)-Number(h),b.x=Number(g)-Number(y),b.normalize(),(m||h)&&(_.z-=400*b.z*f),(y||g)&&(_.x-=400*b.x*f),!0===c&&(_.y=Math.max(0,_.y),v=!0),o.moveRight(-_.x*f),o.moveForward(-_.z*f),o.getObject().position.y+=_.y*f,o.getObject().position.y<10&&(_.y=0,o.getObject().position.y=10,v=!0)}w=t,a.render(u,n)}()},[]);var m=!1,h=!1,y=!1,g=!1,v=!1,w=performance.now(),_=new tZ.Vector3,b=new tZ.Vector3;function E(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}return new tZ.Vector3,new tZ.Color,r.createElement(r.Fragment,null,r.createElement("div",{ref:d}),r.createElement(nN,{ref:p},r.createElement("div",{id:"Crosshair"})))},nA=M.ZP.div.withConfig({displayName:"LocationsShowMobile3d__W",componentId:"sc-1mparkt-0"})([""]),nj=function(e){(0,l.IJ)(e,"LocationsShowMobile3d");var t=e.location,n=e.match,o=(0,r.useRef)(null);return r.createElement(nA,{className:"LocationsShowMobile3d"},t&&r.createElement(no,{map:t.map||t,ref:o,slug:n.params.slug}))};function nD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nR=M.ZP.div.withConfig({displayName:"MapPanel__Actions",componentId:"sc-1dfbrdt-0"})(["border:1px solid red;position:absolute;top:0;right:0;z-index:2;"]),nz=M.ZP.div.withConfig({displayName:"MapPanel__W0",componentId:"sc-1dfbrdt-1"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:",";height:100%;display:flex;align-items:center;justify-content:center;position:relative;"],function(e){return e.theme.colors.background}),nZ=M.ZP.div.withConfig({displayName:"MapPanel__W1",componentId:"sc-1dfbrdt-2"})(["display:flex;align-items:center;justify-content:center;position:relative;height:100%;"]),nU=function(e){var t,n=e.map,o=(0,r.useContext)(j.Nd),i=(o.bottomDrawerOpen,o.editorMode),a=o.mapPanelWidth,c=o.mapPanelHeight,u=o.zoom,s=o.setZoom,f=(0,r.useContext)(tm),p=(f.markerModalOpen,f.setMarkerModalOpen),d=(0,(0,r.useContext)(l.Il).useHistory)(),m=function(e){if(Array.isArray(e))return e}(t=(0,l.iP)())||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1];(0,r.useEffect)(function(){if(0!==h){var e,t=Math.min(h/n.w,y/n.h);s(t+=.01)}},[a,c,n.id,h,y]);var g=[];return e.map.markers.map(function(e,t){var n=r.createElement("div",{key:t,onClick:function(){return d.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:e.y*u,left:e.x*u,zIndex:2}},r.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w*u,"px"),maxHeight:"".concat(e.h*u,"px"),width:"auto",height:"auto"}}));g.push(n)}),r.createElement(nz,{className:"W0 MapPanel"},i&&r.createElement(nR,null,r.createElement(l.Zb,{onClick:function(){return p(!0)}},"+ Marker")),r.createElement(nZ,{className:"W1"},r.createElement("img",{src:n.img_path,style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",position:"relative",zIndex:0}}),g))},nW=M.ZP.div.withConfig({displayName:"WrappedMapPanel__W0",componentId:"sc-ahks14-0"})(["overflow:hidden;flex-grow:1;"]),nF=M.ZP.div.withConfig({displayName:"WrappedMapPanel__FW",componentId:"sc-ahks14-1"})([""]),nV=r.forwardRef(function(e,t){switch((0,l.IJ)(e,"WrappedMapPanel"),!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),e.map.config.map_panel_type){case l.C.map_panel_types.Equirectangular:return r.createElement(nW,{ref:t,className:"Equirectangular4"},r.createElement(nx,e));case l.C.map_panel_types.MapPanel:return r.createElement(nW,{ref:t,className:"WrappedMapPanel"},r.createElement(nU,Object.assign({withZoom:!1},e)));case l.C.map_panel_types.ThreePanelV1:return r.createElement(nM,e);case l.C.map_panel_types.ThreePanelV1Fullscreen:return r.createElement(nF,{ref:t,className:"FW"},r.createElement(nM,e));case l.C.map_panel_types.TabiversePlanet:return r.createElement(nW,null,r.createElement(n8,e));case l.C.map_panel_types.ThreePanelV4:return r.createElement(nW,null,r.createElement(nT,e));case l.C.map_panel_types.GoogleMaps:return r.createElement(nW,null,r.createElement(w,e));default:return r.createElement(nW,{ref:t,className:"WrappedMapPanel"},r.createElement(nU,e))}});M.ZP.div.withConfig({displayName:"ZoomCtrl__W",componentId:"sc-xo781b-0"})(["position:absolute;top:0;right:0;z-index:1;background:white;padding:5px;display:flex;flex-direction:column;"])},3204:function(e,t,n){"use strict";n.d(t,{v:function(){return u},X:function(){return h}});var r=n(7294),o=n(9430),i=n(2661),a=o.ZP.div.withConfig({displayName:"ReportsForm__Actions",componentId:"sc-zt7bri-0"})([""]),l=o.ZP.div.withConfig({displayName:"ReportsForm__W0",componentId:"sc-zt7bri-1"})([""]),c=function(e){return e.item,r.createElement(l,null,r.createElement("h1",null,"Report Form (@TODO: remove)"),r.createElement("form",null,r.createElement(i.gq,null,r.createElement("input",{type:"text",name:"name"})," name"),r.createElement(i.gq,null,r.createElement("textarea",{name:"name"})," subhead"),r.createElement(i.gq,null,"item_type: default? longscroll?"),r.createElement(i.gq,null,"@TODO: editable slug, the fucking slug hasn't been solved in 10 years!"),r.createElement(i.gq,null,"@TODO: premium tier"),r.createElement(i.gq,null,"@TODO: tags"),r.createElement(i.gq,null,"public?"),r.createElement("textarea",null)," description",r.createElement(a,null,r.createElement("button",{type:"submit"},"Create"))))};c.propTypes={};var u=c,s=n(5697),f=n.n(s),p=n(8085),d=o.ZP.div.withConfig({displayName:"ReportsShow__W0",componentId:"sc-1gldjyo-0"})([""]),m=function(e){(0,p.IJ)(e,"ReportsShow");var t,n,o=e.item,i=o.descr;return null!==(t=o.raw_json)&&void 0!==t&&null!==(n=t.content)&&void 0!==n&&n.rendered&&(i=o.raw_json.content.rendered),r.createElement(d,null,r.createElement("h1",null,o.name),r.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:i}}))};m.propTypes={item:f().object.isRequired};var h=m},5502:function(e,t,n){"use strict";n.d(t,{mR:function(){return j},di:function(){return e$},RD:function(){return eg},pu:function(){return ef}});var r=n(9895);n(4524);var o=n(7294),i=n(9430),a=n(5553),l=n.n(a),c=n(2947),u=n(8085),s=n(773),f=n(2634),p=n(7114),d=n(6076),m=n(8816),h=n(1749),y=n(3727),g=n(179),v=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),w=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new C(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return O()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=E(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,i,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new b(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)})}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||I(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=r.dV.isPluginAvailable("PushNotifications"),S="0x4bE9765Ca063E73E0aaEd227fd6731473508DbE0",N="0xffa52d00685aC60e65457922aEae2c2783c0cB0E",T=function(){return o.createElement("div",null,"PasswordLogin - @TODO: remove")},A=i.ZP.div.withConfig({displayName:"Account__LoginRow",componentId:"sc-xdfxzq-0"})(["display:flex;> *{margin:auto .4em;}"]),j=function(e){var t=(0,o.useContext)(c.Nd),n=t.currentUser;t.setCurrentUser;var r,i=O((0,o.useState)(""),2),a=i[0],l=i[1],b=O((0,o.useState)([]),2),x=b[0],C=b[1],I=O((0,o.useState)(""),2),L=I[0],j=I[1],D=function(){},R=function(){s.V.register(),s.V.addListener("registration",function(e){z("Push registration success")}),s.V.addListener("registrationError",function(e){alert("Error on registration: "+JSON.stringify(e))}),s.V.addListener("pushNotificationReceived",function(e){var t=e;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"foreground"})])})}),s.V.addListener("pushNotificationActionPerformed",function(e){var t=e.nofitication;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"action"})])})})},z=(r=E(_().mark(function e(t){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.F.show({text:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});function Z(){return U.apply(this,arguments)}function U(){return(U=E(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){return F.apply(this,arguments)}function F(){return(F=E(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=13;break}return t=new p.Q(window.ethereum),n=new d.CH(S,v.Mt,t),e.prev=3,e.next=6,n.greet();case 6:l(r=e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}function V(){return(V=E(_().mark(function e(){var t,n,r,o,i,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return r=(n=O(t=e.sent,1))[0],o=new p.Q(window.ethereum),i=new d.CH(N,w.Mt,o),e.next=10,i.balanceOf(r);case 10:a=e.sent,console.log("Balance: ",a.toString());case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(){return(G=E(_().mark(function e(){var t,n,r,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(!(void 0!==window.ethereum)){e.next=14;break}return e.next=5,Z();case 5:return n=(t=new p.Q(window.ethereum)).getSigner(),r=new d.CH(S,v.Mt,n),e.next=10,r.setGreeting(a);case 10:return o=e.sent,e.next=13,o.wait();case 13:W();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(){return(H=E(_().mark(function e(){var t,n,r,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,Z();case 3:return n=(t=new p.Q(window.ethereum)).getSigner(),r=new d.CH(N,w.Mt,n),e.next=8,r.transfer(userAccount,amount);case 8:return o=e.sent,e.next=11,o.wait();case 11:console.log("".concat(amount," Coins successfully sent to ").concat(userAccount));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,o.useEffect)(function(){M&&s.V.checkPermissions().then(function(e){"granted"===e.receive?R():s.V.requestPermissions().then(function(e){"denied"===e.receive?z("Push Notification permission denied"):(z("Push Notification permission granted"),R())})})},[]),o.createElement(m._i,null,o.createElement(h.Z,{container:!0},o.createElement(g.fv,{variant:u.C.variants.inline}),o.createElement("h1",null,"Account")),o.createElement(m.W2,{className:"ion-padding"},o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:12},o.createElement(h.Z,{container:!0},o.createElement(h.Z,{item:!0,xs:6},o.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"}),o.createElement("div",null,o.createElement("button",{onClick:W},"Fetch Greeting"),o.createElement("br",null),o.createElement("button",{onClick:function(){return G.apply(this,arguments)}},"Set Greeting"),o.createElement("br",null),o.createElement("input",{value:a,onChange:function(e){return l(e.target.value)},placeholder:"Set greeting"})),o.createElement("hr",null),o.createElement("div",null,o.createElement("button",{onClick:function(){return V.apply(this,arguments)}},"Get Balance"),o.createElement("br",null),o.createElement("button",{onClick:function(){return H.apply(this,arguments)}},"Send Coins"),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setUserAccount(e.target.value)},placeholder:"Account ID"}),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setAmount(e.target.value)},placeholder:"Amount"}))),o.createElement(h.Z,{item:!0,xs:6},!!n&&o.createElement(o.Fragment,null,o.createElement("h4",null,n.email),o.createElement("ul",null,o.createElement("li",null,o.createElement(y.rU,{to:"/en/account/my/galleries"},"My Galleries")),o.createElement("li",null,o.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),o.createElement("li",null,o.createElement(eg,null))))||o.createElement(o.Fragment,null,o.createElement("h4",null,"Not logged in"),o.createElement(A,null,o.createElement(e$,null),o.createElement(T,null))))),o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:6},o.createElement("textarea",{value:L,onChange:j}),o.createElement("button",{type:"submit",onClick:D},"Save Scratchpad"))))),o.createElement("hr",null),x.length&&o.createElement(m.q_,null,x.map(function(e){return o.createElement(m.Ie,{key:e.id},o.createElement(m.Q$,null,o.createElement(m.yW,null,o.createElement("h3",{className:"notif-title"},e.title)),o.createElement("p",null,e.body),"foreground"===e.type&&o.createElement("p",null,"This data was received in foreground"),"action"===e.type&&o.createElement("p",null,"This data was received on tap")))}))||"no notifications so far"),o.createElement(m.fr,null,o.createElement(m.sr,null,M&&o.createElement(m.YG,{color:"success",expand:"full",onClick:R},"Register for Push")||o.createElement("div",null,o.createElement("h1",null,"Push notifications not available")))))},D=n(1139),R=n(9067),z=n(2132);n(888),n(7918);var Z=n(7044),U=n(9857),W=n(2661);n(6730);var F=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"awardToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_idx","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"ownerTokens","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),V=["children"],G=["fill","w","h"];function H(){H=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new k(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=b(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,i,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function B(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){B(i,r,o,a,l,"next",e)}function l(e){B(i,r,o,a,l,"throw",e)}a(void 0)})}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var X=i.ZP.div.withConfig({displayName:"MyAccountWidget__FlexCol",componentId:"sc-1lfqp20-0"})(["display:flex;flex-direction:column;"]),K=i.ZP.div.withConfig({displayName:"MyAccountWidget__FlexRow",componentId:"sc-1lfqp20-1"})(["display:flex;flex-wrap:wrap;"]),Q=(0,i.ZP)(R.Z).withConfig({displayName:"MyAccountWidget__Edit",componentId:"sc-1lfqp20-2"})(["font-size:18px;position:absolute;top:2px;right:2px;cursor:pointer;"]),ee=i.ZP.div.withConfig({displayName:"MyAccountWidget___Img",componentId:"sc-1lfqp20-3"})(["border:1px solid #333333;border-radius:4px;position:relative;width:90px;height:90px;margin:5px;margin-right:",";background-image:url('","');background-size:cover;"],function(e){return e.theme.smallWidth},function(e){return e.src}),et=function(e){var t=e.src,n=function(){(0,z.Am)("Editing your avatar is not yet implemented")};return o.createElement(ee,{src:t},o.createElement(Q,{onClick:n}))},en=new U._k,er=i.ZP.div.withConfig({displayName:"MyAccountWidget___CoinManager",componentId:"sc-1lfqp20-4"})(["display:flex;"]),eo=function(e){var t=e.children,n=Y(e,V);return o.createElement(er,Object.assign({className:"CoinManager"},n),t)},ei=i.ZP.div.withConfig({displayName:"MyAccountWidget__W0",componentId:"sc-1lfqp20-5"})(["display:flex;justify-content:flex-start;align-items:center;"]),ea=i.ZP.div.withConfig({displayName:"MyAccountWidget__W1",componentId:"sc-1lfqp20-6"})([""]),el=function(e){return o.createElement(u.un,e,"Register with Email")},ec=function(e){return o.createElement(u.un,e,"Login with Email")},eu=function(e){var t=e.fill,n=e.w,r=e.h,i=Y(e,G);return n=n||"12px",r=r||"12px",t=t||"#333333",o.createElement("span",i,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 96.943 96.943",style:{enableBackground:"new 0 0 96.943 96.943"}},o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M61.168,83.92H11.364V13.025H61.17c1.104,0,2-0.896,2-2V3.66c0-1.104-0.896-2-2-2H2c-1.104,0-2,0.896-2,2v89.623 c0,1.104,0.896,2,2,2h59.168c1.105,0,2-0.896,2-2V85.92C63.168,84.814,62.274,83.92,61.168,83.92z"})," ",o.createElement("path",{d:"M96.355,47.058l-26.922-26.92c-0.75-0.751-2.078-0.75-2.828,0l-6.387,6.388c-0.781,0.781-0.781,2.047,0,2.828 l12.16,12.162H19.737c-1.104,0-2,0.896-2,2v9.912c0,1.104,0.896,2,2,2h52.644L60.221,67.59c-0.781,0.781-0.781,2.047,0,2.828 l6.387,6.389c0.375,0.375,0.885,0.586,1.414,0.586c0.531,0,1.039-0.211,1.414-0.586l26.922-26.92 c0.375-0.375,0.586-0.885,0.586-1.414C96.943,47.941,96.73,47.433,96.355,47.058z"})," ")," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null),o.createElement("g",null),o.createElement("g",null)))},es=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,o.useContext)(W.Vo),r=n.currentUser,i=n.setCurrentUser,a=(n.loginModalOpen,n.setLoginModalOpen),l=n.useApi,s=(0,o.useContext)(c.Nd),f=(s.editorMode,s.setEditorMode,s.purchaseModalOpen,s.setPurchaseModalOpen),m=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)("https://d15g8hc4183yn4.cloudfront.net/wp-content/uploads/2022/09/05174137/20220904-PFP.jpg"))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],v=l(),w=(0,Z.Ge)(),_=w.active,b=w.account,E=(w.library,w.connector,w.activate),x=w.deactivate;function k(){return(k=q(H().mark(function e(){return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(en);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.IJ)(e.t0,"could not connect");case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function C(){return(C=q(H().mark(function e(){return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{x()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P,O,I=(P=q(H().mark(function e(){return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)})),function(){return P.apply(this,arguments)}),L=(O=q(H().mark(function e(){var t,n,r,o,i,a;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=15;break}return e.next=3,I();case 3:if(!b){e.next=15;break}return n=(t=new p.Q(window.ethereum)).getSigner(),r=new d.CH("0x3e1a03a9e1682f4dd95413e0be69e5b7bccaf15d",F.Mt,n),e.next=9,r.tokensOfOwner(b);case 9:return o=e.sent,i=0,e.next=13,r.tokenURI(o[i]);case 13:a=e.sent,u.WY.get(a).then(function(e){return e.data.image}).then(function(e){y(e)});case 15:case"end":return e.stop()}},e)})),function(){return O.apply(this,arguments)});(0,o.useEffect)(function(){q(H().mark(function e(){return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,v.getMyAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[]);var M=function(){i(u.C.anonUser),localStorage.removeItem("jwt_token"),window.location.reload(!1)};return o.createElement(ei,{className:"MyAccountWidget"},(null==r?void 0:r.email)&&o.createElement(et,{src:(null==r?void 0:r.profile_photo_url)||h}),o.createElement(X,null,o.createElement(K,null,r.email&&o.createElement(eo,null,"[\xa0",void 0===r.n_unlocks?"?":r.n_unlocks," coins\xa0",o.createElement(D.Z,{onClick:function(){return f(!0)}}),"\xa0]"),null!=r&&r.email?o.createElement(K,null,"[\xa0",r.email,"\xa0",o.createElement(eu,{onClick:M},"Logout"),"\xa0]"):o.createElement(K,null,o.createElement(el,{onClick:function(){setRegisterModalOpen(!0)}}),o.createElement(ec,{onClick:function(){a(!0)}}))),o.createElement(K,null,_&&o.createElement(ea,null," [",o.createElement("span",null,"Connected with ",o.createElement("b",null,b)),o.createElement("button",{onClick:function(){return C.apply(this,arguments)}},"Disconnect"),o.createElement("button",{onClick:L},"myBodies")," ]"),!_&&o.createElement(ea,null,o.createElement("span",null,"Not Connected"),o.createElement("button",{onClick:function(){return k.apply(this,arguments)}},"Connect to MetaMask")))),o.createElement(g.to,null))};es.propTypes={};var ef=es;function ep(){ep=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new k(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=b(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,i,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function ed(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var em=r.Vn.FacebookLogin,eh=["email"],e$=function(e){var t,n,r=(0,u.h_)(),i=(0,o.useContext)(c.Nd),a=(i.currentUser,i.setCurrentUser),s=(n=(t=ep().mark(function e(){var t;return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,em.login({permissions:eh});case 2:(t=e.sent).accessToken?u.WY.post("".concat(l().apiOrigin).concat(r.longTermTokenPath),{accessToken:t.accessToken.token}).then(function(e){localStorage.setItem(u.C.jwt_token,e.data.jwt_token),a(e.data)}).catch(function(e){(0,u.IJ)(e,"Could not post request to ".concat(l().apiOrigin).concat(r.longTermTokenPath))}):(0,u.IJ)("canceled");case 4:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){ed(i,r,o,a,l,"next",e)}function l(e){ed(i,r,o,a,l,"throw",e)}a(void 0)})}),function(){return n.apply(this,arguments)});return o.createElement(u.un,{onClick:s},"FB Login")},ey=i.ZP.span.withConfig({displayName:"users__BuyBtn",componentId:"sc-b80luh-0"})(["border:1px solid ",";padding:5px;cursor:pointer;"],function(e){return e.theme.colors.text}),eg=function(){var e=(0,o.useContext)(c.Nd),t=(e.currentUser,e.setCurrentUser),n=function(){localStorage.removeItem(u.C.jwt_token),t({})};return o.createElement(ey,{onClick:n},"X")};i.ZP.div.withConfig({displayName:"users___W",componentId:"sc-b80luh-1"})(["display:flex;> *{}"])},8085:function(e,t,n){"use strict";n.d(t,{Il:function(){return P},wI:function(){return I},a5:function(){return ec},un:function(){return eu},C:function(){return p},Zb:function(){return ed},s$:function(){return es},_Q:function(){return ef},gb:function(){return e$},Oq:function(){return eg},S:function(){return V},Ni:function(){return K},f6:function(){return Q},xP:function(){return e_},XO:function(){return N.X},$z:function(){return em},IJ:function(){return ey},KW:function(){return ev},WY:function(){return D},h_:function(){return S},iP:function(){return et}});var r=n(8903),o=n(8816),i=n(5477),a=n(253),l=n(2156),c=n(1990),u=n(1587),s=n(7294),f=n(9430),p={actions:{new:"new",show:"show"},anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",newsitems:"newsitems-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",location:"::Gameui::Map",report:"Report",photo:"Photo",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",GoogleMaps:"GoogleMaps",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",TabiversePlanet:"TabiversePlanet",ThreePanelV1:"ThreePanelV1",ThreePanelV1Fullscreen:"ThreePanelV1Fullscreen",ThreePanelV4:"ThreePanelV4"},names:{editorMode:"editorMode"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",ref:{init:"init",loading:"loading"},theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical",vote_values:{up:"up",down:"down"}},d=n(2406),m=n(6775),h=n(2132),y=n(2212),g=n(5344),v=n(2661),w=n(2947),_=["children"];function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,i,a,l,c=Object.create((t&&t.prototype instanceof p?t:p).prototype),u=new C(r||[]);return c._invoke=(o=e,i=n,a=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return O()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=E(n,a);if(r){if(r===f)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===l)throw l="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);l="executing";var c=s(o,i,a);if("normal"===c.type){if(l=a.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(l="completed",a.method="throw",a.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function p(){}function d(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=p.prototype=Object.create(h);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){var r;this._invoke=function(o,i){function a(){return new t(function(r,a){!function r(o,i,a,l){var c=s(e[o],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,l)},function(e){r("throw",e,a,l)}):t.resolve(f).then(function(e){u.value=e,a(u)},function(e){return r("throw",e,a,l)})}l(c.arg)}(o,i,r,a)})}return r=r?r.then(a,a):a()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=m,l(v,"constructor",m),l(m,"constructor",d),d.displayName=l(m,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},w(_.prototype),l(_.prototype,i,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new _(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(v),l(v,a,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function E(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=(0,s.useContext)(v.Vo).setCurrentUser,n=function(e){ey(e,"cannot login!"),(0,h.Am)("cannot login!")},r=function(e){ey("Logged in successfully."),t(e)};return s.createElement(v._A,{onError:n,onSuccess:r})},P=s.createContext({}),O=function(e){var t,n,r=e.children,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,_).useHistory,i=void 0===o?m.k6:o,a=x((0,s.useState)(null),2),l=a[0],c=a[1];(n=(t=b().mark(function e(){var t;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.A.getInfo();case 2:c((t=e.sent).operatingSystem);case 4:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){E(i,r,o,a,l,"next",e)}function l(e){E(i,r,o,a,l,"throw",e)}a(void 0)})}),function(){return n.apply(this,arguments)})();var u=x((0,s.useState)(new y.Scene),2),f=u[0];u[1];var p=x((0,s.useState)([]),2),h=p[0],k=p[1],O=x((0,s.useState)({}),2),I=O[0],L=O[1],M=x((0,s.useState)(new g.V),2),N=M[0],T=M[1],A=function(){};return s.createElement(P.Provider,{value:{os:l,useHistory:i,scene:f,tracked:h,setTracked:k,worldOctree:N,setWorldOctree:T,pickingObjects:[],setPickingObjects:A,markers2destinationSlugs:I,setMarkers2destinationSlugs:L}},s.createElement(Q,null,s.createElement(v.HD,{useApi:S},s.createElement(w.AO,null,s.createElement(w.h9,null,r,s.createElement(C,null),s.createElement(v.Kt,null))))))};O.propTypes={};var I=O,L=n(5553),M=n.n(L),S=function(){var e;try{e=localStorage.getItem(p.jwt_token)}catch(t){ey(t,"Api cannot access localStorage")}return{deleteNewsitem:function(t){var n=t.id;return D.delete("".concat(M().apiOrigin,"/api/newsitems/").concat(n,"?jwt_token=").concat(e)).then(function(e){return e.data}).then(function(e){return e})},doRegister:function(e){var t=e.email,n=e.password;return D.post("".concat(M().apiOrigin,"/api/users/register"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return ey(e,"done registered"),e})},doUnlock:function(e){var t=e.kind,n=e.id,r=localStorage.getItem("jwt_token"),o="/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(r);return D.post("".concat(M().apiOrigin).concat(o)).then(function(e){return e.data})},getCities:function(){return D.get("".concat(M().apiOrigin,"/api/cities")).then(function(e){return e.data})},getCity:function(e){return D.get("".concat(M().apiOrigin,"/api/cities/view/").concat(e))},getGallery:function(t){return D.get("".concat(M().apiOrigin,"/api/galleries/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.gallery})},getLocation:function(t){var n=t.newsitems_page,r=t.slug;return D.get("/api/maps/view/".concat(r,"?jwt_token=").concat(e,"&newsitems_page=").concat(n)).then(function(e){return e.data}).then(function(e){return e.map}).catch(function(e){return e})},getMyAccount:function(){return D.post("/api/my/account",{jwt_token:e}).then(function(e){return e.data}).catch(function(e){return p.anonUser})},getPhoto:function(t){return D.get("".concat(M().apiOrigin,"/api/photos/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.photo})},getReport:function(t){return D.get("".concat(M().apiOrigin,"/api/reports/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.report})},getTag:function(e){return D.get("".concat(M().apiOrigin,"/api/tags/view/").concat(e.slug)).then(function(e){return e.data})},initPayment:function(t){return D.post("".concat(M().apiOrigin,"/api/payments2"),{jwt_token:e,amount_cents:t.amountCents}).then(function(e){return e.data})},longTermTokenPath:"/api/users/long_term_token",postLogin:function(e){var t=e.email,n=e.password;return D.post("".concat(M().apiOrigin,"/api/users/login.json"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return localStorage.setItem(p.jwt_token,e.jwt_token),e})},myVideosPath:"/api/my/videos",applicationHome:function(){D.get("".concat(M().apiOrigin,"/api/sites/view/").concat(M().domain),{params:{jwt_token:e}}).then(function(e){return e.data})},vote:function(t){var n=t.value,r=t.voter_id,o=t.votee_id,i=t.votee_class_name;return D.post("".concat(M().apiOrigin,"/api/v1/vote/").concat(i,"/").concat(o,"/").concat(r,"/").concat(n),{params:{jwt_token:e}}).then(function(e){return ey(e,"voted"),e})},unvote:function(){ey("Unvote is not implemented!")}}},N=n(8433),T=n(9669),A=n.n(T),j={baseURL:M().apiOrigin},D=A().create(j);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U={borderWidth:"10px",bottomDrawerClosedHeight:"24px",bottomDrawerOpenHeight:"124px",breadcrumbsHeight:"30px",smallWidth:"10px",mediumWidth:"20px",thinBorderWidth:"2px"},W=z(z({},U),{},{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",border:"black",blue:"#6aa3e9",cardBackground:"white",cyan:"#49bcc6",darkGrey:"#605d5d",gold:"#ffe100",lightGrey:"#988b8b",red:"red"}}),F=z(z({},U),{},{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",border:"white",blue:"#73b0fa",cardBackground:"#1a1a1a",cyan:"#49bcc6",darkGrey:"#b3afaf",gold:"#ffe100",lightGrey:"#4a4343",red:"#eb83a8"}}),V={lightTheme:W,darkTheme:F},G=n(5697),H=n.n(G),B=["children"];function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=s.createContext({});H().object;var Y=["children"];function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=s.createContext({}),Q=function(e){var t=e.children;!function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Y);var n,r=window.localStorage.getItem(p.theme)||p.themes.light,o=function(e){if(Array.isArray(e))return e}(n=(0,s.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(n,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1];(0,s.useEffect)(function(){var e=i===p.themes.light?p.themes.light:p.themes.dark,t=i===p.themes.light?p.themes.dark:p.themes.light;document.body.classList.remove(t),document.body.classList.add(e)},[]);var l=function(e){e.preventDefault(),i===p.themes.light?(window.localStorage.setItem(p.theme,p.themes.dark),a(p.themes.dark),document.body.classList.remove(p.themes.light),document.body.classList.add(p.themes.dark)):(window.localStorage.setItem(p.theme,p.themes.light),a(p.themes.light),document.body.classList.add(p.themes.light),document.body.classList.remove(p.themes.dark))};return s.createElement(K.Provider,{value:{theme:i,setTheme:a,toggleTheme:l}},s.createElement(f.f6,{theme:i==p.themes.light?V.lightTheme:V.darkTheme},t))};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var et=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)([0,0]))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){l=!0,r=c}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1];return(0,s.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),n},en=["children"],er=["navigateToItem"],eo=["children"],ei=["className"];function ea(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var el=(0,f.ZP)(o.gu).withConfig({displayName:"shared__BackIcon",componentId:"sc-h0ppel-0"})(["margin-right:5px;cursor:pointer;"]),ec=function(){var e=(0,(0,s.useContext)(P).useHistory)(),t=(0,s.useContext)(w.Nd),n=(t.showItem,t.setShowItem),o=function(){n(null),e.goBack()};return s.createElement(el,{className:"BackBtn",icon:r.XRs,onClick:o})},eu=f.ZP.div.withConfig({displayName:"shared__Btn",componentId:"sc-h0ppel-1"})(["border:1px solid gray;border-radius:5px;padding:.3em 1em;cursor:pointer;"]),es=(0,f.ZP)(l.Z).withConfig({displayName:"shared__ChevronLeft",componentId:"sc-h0ppel-2"})(["color:",""],function(e){return e.theme.colors.text}),ef=(0,f.ZP)(c.Z).withConfig({displayName:"shared__ChevronRight",componentId:"sc-h0ppel-3"})(["color:",""],function(e){return e.theme.colors.text}),ep=(0,f.ZP)(a.Z).withConfig({displayName:"shared___Card",componentId:"sc-h0ppel-4"})(["margin-bottom:1em;padding:",";background:var(--ion-card-background-color);cursor:",";display:flex;flex-direction:column;"],function(e){return e.theme.smallWidth},function(e){return e.cursor?e.cursor:"auto"}),ed=function(e){var t=e.children,n=ea(e,en);n.navigateToItem;var r=ea(n,er);return s.createElement(ep,Object.assign({className:"Card"},r),t)};f.ZP.div.withConfig({displayName:"shared__FlexRow",componentId:"sc-h0ppel-5"})(["display:flex;> *{margin:auto .4em;}"]);var em={classify:function(e){if("locations"===e)return"::Gameui::Map";"ies"===e.slice(-3)&&(e=e.slice(0,-3)+"y"),"s"===e.slice(-1)&&(e=e.slice(0,-1));for(var t=e.split("_"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("")},tableize:function(e){switch(e){case"Gallery":return"galleries";case"::Gameui::Map":return"locations";default:return"".concat(e.toLowerCase(),"s")}}},eh=f.ZP.div.withConfig({displayName:"shared___Circle",componentId:"sc-h0ppel-6"})(["position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px;"]),e$=function(e){return s.createElement(eh,null,s.createElement(i.Z,null))},ey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)},eg=(0,f.ZP)(u.Z).withConfig({displayName:"shared__MenuIcon",componentId:"sc-h0ppel-7"})(["color:",""],function(e){return e.theme.colors.text}),ev=function(e){return(e||"").substring(0,10)};f.ZP.div.withConfig({displayName:"shared__Root",componentId:"sc-h0ppel-8"})(["background:",";height:100vh;overflow:auto;"],function(e){return e.theme.colors.background});var ew=f.ZP.div.withConfig({displayName:"shared___WBordered",componentId:"sc-h0ppel-9"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);margin-bottom:1em;padding:.5em;cursor:",";"],function(e){return e.onClick?"pointer":null}),e_=function(e){var t=e.children,n=ea(e,eo),r=n.className,o=ea(n,ei);return s.createElement(ew,Object.assign({className:"".concat(void 0===r?"":r," WBordered")},o),t)};s.createContext({})},1935:function(e){e.exports={"plt-mobile":"ItemModal_plt-mobile__sanTA",ItemModal:"ItemModal_ItemModal__puazB",ItemModalOverlay:"ItemModal_ItemModalOverlay__gP0FW"}},652:function(e){e.exports={container:"DayNightToggle_container__8uWpP",switch:"DayNightToggle_switch__dShqX",fill:"DayNightToggle_fill__eQQvw",background:"DayNightToggle_background__kRvrg",stars1:"DayNightToggle_stars1__M4CSu",stars2:"DayNightToggle_stars2__f2kRc",sunMoon:"DayNightToggle_sunMoon___7z_j",dots:"DayNightToggle_dots__5_lv_"}},6567:function(e){e.exports={Metaline:"Metaline_Metaline__XHHBl",user:"Metaline_user__gvAz_",city:"Metaline_city__t7Mok",tags:"Metaline_tags__Mk_Xn"}},6681:function(e){e.exports={LoginModal:"PurchaseModal_LoginModal__CBaX9",LoginModalOverlay:"PurchaseModal_LoginModalOverlay__rymkt",Notice:"PurchaseModal_Notice__xw_v2"}},2293:function(e){e.exports={UnlockModal:"UnlockModal_UnlockModal__VXRN4",UnlockModalOverlay:"UnlockModal_UnlockModalOverlay__AVJ1w",Notice:"UnlockModal_Notice__pMSnr"}},6468:function(e){e.exports={GalleriesShow:"Galleries_GalleriesShow__4b4gq",heading:"Galleries_heading__TqfKk",title:"Galleries_title__c2Qkg",narrow:"Galleries_narrow__ZxgG6",thumbs:"Galleries_thumbs__wbY2H",card:"Galleries_card__WEvVy",full_img_section:"Galleries_full_img_section__e4rV_",item:"Galleries_item__8C3Lb"}},2661:function(e,t,n){"use strict";n.d(t,{HD:function(){return em},Ht:function(){return er},IJ:function(){return ei},Kt:function(){return ef},Vo:function(){return ed},_A:function(){return es},gq:function(){return eo},xB:function(){return ec}});var r,o,i,a,l,c,u,s,f,p,d,m,h,y,g,v,w,_,b,E,x=n(7294),k=n(3935),C=n(4360),P=n(1874),O=n(2917),I=n(6405),L=n(6946),M=n(7573),S=n.n(M),N=n(6775),T=n(9430),A=n(6458),j=n.n(A),D=n(2132);n(6717);var R=n(3792),z=n.n(R);n(3770);var Z=n(8657),U=n(7727),W=n(4345),F=n(8941),V=n(2622);function G(){return(G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function B(e,t){return t||(t=e.slice(0)),e.raw=t,e}var q={anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{scratchpad:"Scratchpad"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"},J=j().create({}),Y=["children"],X=["children"],K=["children","onClose"],Q=T.ZP.div(r||(r=B(["\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n"])));T.ZP.div(o||(o=B(["\n  margin-right: 5px;\n  cursor: pointer;\n"])));var ee=T.ZP.div(i||(i=B(["\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n"])));(0,T.ZP)(P.Z)(a||(a=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),(0,T.ZP)(O.Z)(l||(l=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),(0,T.ZP)(C.Z)(c||(c=B(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),function(e){return e.cursor?e.cursor:"auto"});var et=function(e){var t=H(e,Y);return x.createElement(I.Z,G({style:G({cursor:"pointer"},t.style)},t))};et.propTypes={onClick:S().func.isRequired};var en=T.ZP.div(u||(u=B(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n"]))),er=function(e){var t=e.children,n=H(e,X);return x.createElement(en,G({className:"FlexCol"},n),t)},eo=T.ZP.div(s||(s=B(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n"])));T.ZP.div(f||(f=B(["\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n"])));var ei=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&"undefined"!=typeof window&&(window[n]=e),console.log("+++ "+t+":",e)},ea=(0,T.ZP)(L.Z)(p||(p=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),el=T.ZP.div(d||(d=B(["\n  flex-grow: 1;\n  text-align: center;\n  font-size: 1.2rem;\n"]))),ec=function(e){var t=e.children,n=e.onClose;return H(e,K),x.createElement(eo,null,x.createElement(el,null,t),x.createElement(et,{onClick:n}))};ec.propTypes={onClose:S().func.isRequired},T.ZP.div(m||(m=B(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  padding: .5em;\n\n  margin-bottom: 1em;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground}),T.ZP.div(h||(h=B(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  color: ",";\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground},function(e){return e.theme.colors.text}),T.ZP.div(y||(y=B(["\n  height: 100vh;\n"]))),x.createContext({});var eu={LoginModal:"_2YolN",LoginModalOverlay:"_3hqvY",Notice:"_2ifwF"},es=function(e){var t=e.onError,n=e.onSuccess,r=(0,x.useContext)(ed),o=r.loginModalOpen,i=r.setLoginModalOpen,a=r.setRegisterModalOpen,l=r.useApi,c=(0,x.useState)(""),u=c[0],s=c[1],f=(0,x.useState)(""),p=f[0],d=f[1],m=l(),h=function(e,r){try{return m.postLogin({email:e,password:r}).then(function(e){i(!1),n(e)}).catch(function(e){t(e)}),Promise.resolve()}catch(o){return Promise.reject(o)}};return z().setAppElement("body"),x.createElement(z(),{className:"LoginModal "+eu.LoginModal,isOpen:!!o,overlayClassName:eu.LoginModalOverlay,portalClassName:eu.LoginModalPortal},x.createElement(ec,{onClose:function(){return i(!1)}},"Login"),"string"==typeof o&&x.createElement(eo,null,x.createElement("div",{className:eu.Notice},o)),x.createElement(er,null,x.createElement("label",{htmlFor:"email"},"Email"),x.createElement("input",{name:"email",type:"email",value:u,onChange:function(e){return s(e.target.value)}}),x.createElement("label",{htmlFor:"password"},"Password"),x.createElement("input",{name:"password",type:"password",value:p,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h(u,p)}}),x.createElement(eo,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},x.createElement(ee,{onClick:function(){return h(u,p)}},"Login"))),x.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),x.createElement(eo,{style:{justifyContent:"center"}},x.createElement("a",{onClick:function(){i(!1),a(!0)}},"Register Instead")))};es.propTypes={onError:S().func,onSuccess:S().func};var ef=function(e){var t=(0,x.useContext)(ed),n=t.setLoginModalOpen,r=t.registerModalOpen,o=t.setRegisterModalOpen,i=(0,t.useApi)(),a=(0,x.useState)(""),l=a[0],c=a[1],u=(0,x.useState)(""),s=u[0],f=u[1],p=(0,x.useState)(""),d=p[0],m=p[1],h=function(e,t,r){try{if(t!==r)return(0,D.Am)("Passwords do not match"),Promise.resolve();return i.doRegister({email:e,password:t}).then(function(e){o(!1),n(e.message)}).catch(function(e){(0,D.Am)("Registration failed")}),Promise.resolve()}catch(a){return Promise.reject(a)}};return x.createElement(z(),{className:"LoginModal "+eu.LoginModal,isOpen:r,overlayClassName:eu.LoginModalOverlay,portalClassName:eu.LoginModalPortal},x.createElement(ec,{onClose:function(){return o(!1)}},"Register"),x.createElement(er,null,x.createElement("label",{htmlFor:"email"},"Email"),x.createElement("input",{type:"email",name:"email",value:l,onChange:function(e){return c(e.target.value)}}),x.createElement("label",{htmlFor:"password"},"Password"),x.createElement("input",{type:"password",name:"password",value:s,onChange:function(e){return f(e.target.value)}}),x.createElement("label",{htmlFor:"password2"},"Confirm Password"),x.createElement("input",{type:"password",name:"password2",value:d,onChange:function(e){return m(e.target.value)}}),x.createElement(eo,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},x.createElement(ee,{className:"Submit",onClick:function(){return h(l,s,d)}},"Register")),x.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),x.createElement(eo,{style:{justifyContent:"center"}},x.createElement("a",{onClick:function(){return n(!0)||o(!1)}},"Login Instead"))))};ef.propTypes={};var ep=["children"],ed=(0,x.createContext)({}),em=function(e){var t=e.children,n=H(e,ep),r=n.currentUser,o=void 0===r?q.anonUser:r,i=n.setCurrentUser,a=n.loginModalOpen,l=void 0!==a&&a,c=n.setLoginModalOpen,u=n.registerModalOpen,s=void 0!==u&&u,f=n.setRegisterModalOpen,p=(0,x.useState)(o),d=p[0],m=p[1];i&&(d=o,m=i);var h=(0,x.useState)(l),y=h[0],g=h[1];c&&(y=l,g=c);var v=(0,x.useState)(s),w=v[0],_=v[1];f&&(w=s,_=f);var b={currentUser:d,setCurrentUser:m,loginModalOpen:y,setLoginModalOpen:g,registerModalOpen:w,setRegisterModalOpen:_};return x.createElement(ed.Provider,{value:G({},n,b)},t)};em.propTypes={useApi:S().func.isRequired};var eh={apiOrigin:"http://localhost:3001"},e$=function(){var e=function(){return{doRegister:function(e){var t=e.email,n=e.password;return J.post(eh.apiOrigin+"/api/users",{email:t,password:n}).then(function(e){return e.data}).then(function(e){return ei(e,"done registered"),e})}}},t=(0,x.useState)(!1),n=t[0],r=t[1],o=(0,x.useState)(!0),i=o[0],a=o[1];return x.createElement(em,{loginModalOpen:n,setLoginModalOpen:r,registerModalOpen:i,setRegisterModalOpen:a,useApi:e},x.createElement(es,null),x.createElement(D.Ix,{position:"bottom-left"}))},ey=["children"],eg=x.createContext({});S().object,T.ZP.div(g||(g=B(["\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n"]))),T.ZP.div(v||(v=B(["\n  border: 1px solid red;\n"]))),T.ZP.div(w||(w=B(["\n  display: flex;\n"]))),T.ZP.div(_||(_=B(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n"])));var ev=T.ZP.div(b||(b=B(["\n"]))),ew=["children"],e_=T.ZP.div(E||(E=B(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"])));S().array.isRequired,S().string,V.env.REACT_APP_SERVE&&k.render(x.createElement(e$,null),document.getElementById("root"))},3141:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=3141,e.exports=t},1711:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=1711,e.exports=t},8677:function(){},2808:function(){}}]);