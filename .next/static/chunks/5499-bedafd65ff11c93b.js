(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5499],{379:function(e,t,n){var r={"./ion-action-sheet.entry.js":[8451,8451],"./ion-alert.entry.js":[8550,8550],"./ion-app_8.entry.js":[1006,1006],"./ion-avatar_3.entry.js":[9169,9169],"./ion-back-button.entry.js":[9112,9112],"./ion-backdrop.entry.js":[9389,9389],"./ion-button_2.entry.js":[7733,7733],"./ion-card_5.entry.js":[2011,2011],"./ion-checkbox.entry.js":[3562,3562],"./ion-chip.entry.js":[2185,2185],"./ion-col_3.entry.js":[7478,7478],"./ion-datetime_3.entry.js":[9440,9440],"./ion-fab_3.entry.js":[6608,6608],"./ion-img.entry.js":[8014,8014],"./ion-infinite-scroll_2.entry.js":[6270,6270],"./ion-input.entry.js":[2865,2865],"./ion-item-option_3.entry.js":[964,964],"./ion-item_8.entry.js":[7419,7419],"./ion-loading.entry.js":[9740,9740],"./ion-menu_3.entry.js":[9936,9936],"./ion-modal.entry.js":[3731,3731],"./ion-nav_2.entry.js":[4288,4288],"./ion-popover.entry.js":[6560,6560],"./ion-progress-bar.entry.js":[5051,5051],"./ion-radio_2.entry.js":[2932,2932],"./ion-range.entry.js":[6074,6074],"./ion-refresher_2.entry.js":[8290,8290],"./ion-reorder_2.entry.js":[3479,3479],"./ion-ripple-effect.entry.js":[4905,4905],"./ion-route_4.entry.js":[5095,5095],"./ion-searchbar.entry.js":[7421,2880],"./ion-segment_2.entry.js":[3806,3806],"./ion-select_3.entry.js":[6306,7421],"./ion-slide_2.entry.js":[4208,4208],"./ion-spinner.entry.js":[3046,3046],"./ion-split-pane.entry.js":[4774,4774],"./ion-tab-bar_2.entry.js":[3196,3196],"./ion-tab_2.entry.js":[3965,3965],"./ion-text.entry.js":[2516,2516],"./ion-textarea.entry.js":[2117,2117],"./ion-toast.entry.js":[4617,4617],"./ion-toggle.entry.js":[9125,9125],"./ion-virtual-scroll.entry.js":[9480,9480]};function o(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],o=t[0];return n.e(t[1]).then(function(){return n(o)})}o.keys=function(){return Object.keys(r)},o.id=379,e.exports=o},3414:function(e){"use strict";e.exports={appIndexPath:"src/index",apiOrigin:"",domain:"tgm.piousbox.com",debug:!1,REACT_ENV:"N/A",requireLogin:!0,siteTitle:"Infinite Shelter - Location Discovery Guide",stripePublicKey:""}},5553:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(3414);e.exports=o(o({},i),{apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",debug:!1,GOOGLE_MAPS_KEY:"AIzaSyCPzonnRCpTIUJauMMQcL3k69Vm5O8vz3M",APP_ENV:"development_web",homePath:"/en/locations/show/root",REACT_ENV:"production_ish",requireLogin:!1,stripePublicKey:"pk_live_xQX97vdZNe11A3HBVZc1GX6H"})},6120:function(e,t,n){"use strict";n.d(t,{X:function(){return C},Z:function(){return P}});var r=n(7294),o=n(3727),a=n(6775),i=n(5553),l=n.n(i),c=n(8935),u=n(6707),s=n(3204),f=n(5502),d=n(8085),p=n(2915),m=n(282),h=n(1749),y=n(7130),g=n(7827),v=n(3172),_=n(9430),w=["children"];function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=_.ZP.div.withConfig({displayName:"TestPay__Maxwidth",componentId:"sc-26r8cx-0"})(["margin:auto;max-width:800px;input[type='text']{width:100%;}"]),x=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=r.useState(new Date("2014-08-18T21:11:54")))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],a=n[1],i=function(e){a(e)};return r.createElement(r.Fragment,null,r.createElement(E,null,r.createElement(g.M,{utils:p.Z},r.createElement("h1",null,"TestPay"),r.createElement("form",{noValidate:!0,autoComplete:"off"},r.createElement("div",null,r.createElement(y.Z,{label:"Your Name",variant:"outlined"})),r.createElement("div",null,r.createElement(y.Z,{label:"Telephone",variant:"outlined"})),r.createElement("div",null,r.createElement(y.Z,{label:"Email",variant:"outlined"})),r.createElement(h.Z,{container:!0,justifyContent:"space-around"},r.createElement(v.e,{margin:"normal",id:"time-picker",label:"Time picker",value:o,onChange:i,KeyboardButtonProps:{"aria-label":"change time"}})),r.createElement("div",null,r.createElement(y.Z,{label:"cc",variant:"outlined"})),r.createElement(m.Z,{variant:"contained",color:"primary"},"Submit")))))},k=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,w);(0,d.IJ)(n,"WrappedTestPay"),function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(n);var o=(0,r.useContext)(d.Il).setLayout;return n.layout&&o(n.layout),r.createElement(x,n,t)},C={item:function e(t){t.item_type?e=t:(e=t.item,n=t.location);var e,n,r=e,o=r.item_type,a=r.slug;return(a||(a=e.id),o===d.C.item_types.location)?"/en/locations/show/".concat(a):n?"/en/locations/show/".concat(n.slug,"/").concat(d.$z.tableize(o),"/show/").concat(a):"/en/".concat(d.$z.tableize(o),"/show/").concat(a)},gallery:function(e){var t=e.location,n=e.location_slug,r=e.slug;return n?"/en/locations/show/".concat(n,"/galleries/show/").concat(r):t?"/en/locations/show/".concat(t.slug,"/galleries/show/").concat(r):"/en/galleries/show/".concat(r)},location:function(e){var t=e.slug,n=e.newsitems_page,r=n?"newsitems_page=".concat(n):"";return"/en/locations/show/".concat(t,"?").concat(r)}},P=function(e){return r.createElement(o.VK,null,r.createElement(a.rs,{main:!0},r.createElement(a.l_,{exact:!0,from:"/",to:l().homePath}),r.createElement(a.AW,{exact:!0,path:"/en/account",component:f.mR}),r.createElement(a.AW,{exact:!0,path:"/test/pay",render:function(e){return r.createElement(k,Object.assign({layout:d.C.layout_onecol},e))}}),r.createElement(a.AW,{exact:!0,path:"/en/galleries/show/:slug",component:c.q}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show/:slug",component:u.qm,layout:d.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show/:slug/:item_type/show/:item_slug",component:u.qm,layout:d.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show2/:slug",component:u.qm,layout:d.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/locations/show3d/:slug",component:u.HZ,layout:d.C.layout_mapui}),r.createElement(a.AW,{exact:!0,path:"/en/reports/show/:slug",component:s.X})))}},8233:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(7294),o=n(2132),a=n(9430),i=n(179),l=n(8085),c=n(6120);n(1197),n(9463),n(6022),n(9487),n(5505),n(3232),n(1164),n(2943),n(7632),n(5971);var u=a.ZP.div.withConfig({displayName:"WrappedApp__Root",componentId:"sc-lecg9m-0"})(["padding:var(--ion-small-padding);"]),s=function(e){return!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),r.createElement(l.wI,null,r.createElement(u,{className:"Root"},r.createElement(c.Z,null)),r.createElement(i.lY,null),r.createElement(o.Ix,{position:"bottom-left"}))};s.propTypes={},t.Z=s},2947:function(e,t,n){"use strict";n.d(t,{zF:function(){return C},h9:function(){return g},LW:function(){return I},Nd:function(){return A},AO:function(){return N}});var r=n(5697),o=n.n(r),a=n(7294),i=n(9430),l=n(8085),c=["children"],u=["children","variant"],s=["children"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var y=a.createContext({}),g=function(e){var t,n=e.children;h(e,c);var r=m({},l.C.collapsible.descr,!0);try{(t=localStorage.getItem(l.C.collapsibles))&&(r=JSON.parse(t))}catch(o){(0,l.IJ)(o,"Could not parse collapsibles from localStorage")}var i,u=function(e){if(Array.isArray(e))return e}(i=(0,a.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(i,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(i,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=u[0],f=u[1],d=function(e){localStorage.setItem(l.C.collapsibles,JSON.stringify(e)),f(e)};return a.createElement(y.Provider,{value:{collapsibles:s,setCollapsibles:d}},n)},v=function(){return a.createElement("span",null,"\xa0>\xa0\xa0")},_=i.ZP.div.withConfig({displayName:"Collapsible__Inner",componentId:"sc-92wcj7-0"})(["clear:left;"]),w=function(){return a.createElement("span",null,"\xa0<\xa0\xa0")},b=i.ZP.div.withConfig({displayName:"Collapsible__Label",componentId:"sc-92wcj7-1"})(["display:flex;margin-bottom:",";color:",";"],function(e){return e.theme.borderWidth},function(e){return e.theme.colors.text}),E=i.ZP.div.withConfig({displayName:"Collapsible__WTransparent",componentId:"sc-92wcj7-2"})(["padding:0 .5em .5em .5em;"]),x=function(e){var t=e.children,n=e.variant,r=h(e,u);return n===l.C.variants.bordered?a.createElement(l.xP,r,t):a.createElement(E,r,t)},k=function(e){var t=e.children,n=h(e,s),r=n.className,o=n.config,i=void 0===o?{}:o,l=n.slug,c=n.variant,u=(0,a.useContext)(y),f=u.collapsibles,p=u.setCollapsibles,g=function(){return p(d(d({},f),{},m({},l,!f[l])))},E=void 0===i.collapsible||i.collapsible,k=!!E&&!!f[l];return a.createElement(x,{variant:c,className:"Collapsible ".concat(void 0===r?"":r)},n.label&&E&&a.createElement(b,{onClick:g},k?a.createElement(w,null):a.createElement(v,null)," ",n.label),n.label&&!E&&a.createElement(b,null,n.label),!k&&a.createElement(_,null,t))};k.propTypes={className:o().string,config:o().shape({collapsible:o().bool}),label:o().string,slug:o().string.isRequired,variant:o().string};var C=k,P=i.ZP.div.withConfig({displayName:"LongLine",componentId:"sc-1nwgz2l-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);flex-grow:1;width:",";height:",";padding:2px;background:",";"],function(e){return e.orientation===l.C.horizontal?"auto":"10px"},function(e){return e.orientation===l.C.horizontal?"10px":"auto"},function(e){return e.theme.colors.background});P.propTypes={orientation:o().string};var I=P,O=["children"];function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=a.createContext({}),N=function(e){var t,n=e.children,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,O);r.currentUser,r.setCurrentUser;var o=r.itemToUnlock,i=r.setItemToUnlock,c=r.layout,u=r.setLayout,s=r.showItem,f=r.setShowItem,d=r.zoom,p=void 0===d?1:d,m=r.setZoom,h=L((0,a.useState)(!0),2),y=h[0],g=h[1],v=function(e){try{localStorage.setItem(l.C.bottomDrawerOpen,JSON.stringify(e))}catch(t){}g(e)};(0,a.useEffect)(function(){try{var e=JSON.parse(localStorage.getItem(l.C.bottomDrawerOpen));g(e)}catch(t){}},[]);var _=L((0,a.useState)(!1),2),w=_[0],b=_[1],E=L((0,a.useState)(),2),x=E[0],k=E[1],C=x===l.C.foldedLeft,P=x===l.C.foldedRight,I=L((0,a.useState)({}),2),M=I[0],N=I[1];o||(o=M,i=N);var A=L((0,a.useState)(null),2),T=A[0],j=A[1],R=L((0,a.useState)(null),2),D=R[0],Z=R[1],z=L((0,a.useState)(!1),2),F=z[0],U=z[1],W=L((0,a.useState)(!0),2),H=W[0],V=W[1],G=L((0,a.useState)(0),2),B=G[0],q=G[1],J=function(){return q(B+1)},Y=L((0,a.useState)(!1),2),X=Y[0],K=Y[1];f&&(K=f),s&&(X=s);var Q=L((0,a.useState)(!1),2),ee=Q[0],et=Q[1];try{t=JSON.parse(localStorage.getItem(l.C.twofoldPercent))}catch(en){}var er=(0,a.useState)(t||.5),eo=L(er,2),ea=eo[0],ei=eo[1],el=function(e){try{localStorage.setItem(l.C.twofoldPercent,JSON.stringify(e))}catch(t){}ei(e)},ec=L((0,a.useState)(1),2),eu=ec[0],es=ec[1];return m||(p=eu,m=es),a.createElement(S.Provider,{value:{bottomDrawerOpen:y,setBottomDrawerOpen:v,editorMode:w,setEditorMode:b,folded:x,setFolded:k,foldedLeft:C,foldedRight:P,itemToUnlock:o,setItemToUnlock:i,layout:c,setLayout:u,mapPanelHeight:D,setMapPanelHeight:Z,mapPanelWidth:T,setMapPanelWidth:j,purchaseModalOpen:F,setPurchaseModalOpen:U,ratedConfirmation:H,setRatedConfirmation:V,resizeCount:B,touchResize:J,showItem:X,setShowItem:K,showUrl:ee,setShowUrl:et,twofoldPercent:ea,setTwofoldPercent:el,zoom:p,setZoom:m}},n)},A=S},179:function(e,t,n){"use strict";n.d(t,{lY:function(){return w},Oo:function(){return M},rC:function(){return T},_I:function(){return Z},to:function(){return et},fv:function(){return eu},ce:function(){return ey}});var r=n(1518),o=n(7812),a=n(7294),i=n(9430),l=n(7918),c=n.n(l),u=n(7044);n(9857);var s=n(2947),f=n(5502),d=n(8085),p=(0,i.ZP)(r.ZP).withConfig({displayName:"BottomDrawer__Drawer",componentId:"sc-1cfcaai-0"})([".MuiDrawer-paper{background:",";z-index:0;}.MuiDrawer-paperAnchorDockedBottom{border-top:0;}"],function(e){return e.theme.colors.background});function m(e){return new(c())(e)}var h=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner0",componentId:"sc-1cfcaai-1"})(["display:flex;align-items:flex-start;color:",";"],function(e){return e.theme.colors.text}),y=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner1",componentId:"sc-1cfcaai-2"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);height:calc("," + 1*",");margin:",";flex-grow:1;"],function(e){return e.theme.bottomDrawerOpenHeight},function(e){return e.theme.borderHeight},function(e){return e.theme.borderWidth}),g=i.ZP.div.withConfig({displayName:"BottomDrawer__Inner2",componentId:"sc-1cfcaai-3"})(["height:100px;display:flex;"]),v=i.ZP.div.withConfig({displayName:"BottomDrawer__WClosed",componentId:"sc-1cfcaai-4"})(["position:absolute;bottom:-10px;width:calc(100% - 2*",");display:flex;align-items:center;"],function(e){return e.theme.borderWidth}),_=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,a.useContext)(d.Il).layout;if((0,d.IJ)((0,a.useContext)(d.Il),"BottomDrawer usedAppContext"),t&&t!==d.C.layout_gameui)return null;var n=(0,a.useContext)(s.Nd),r=n.bottomDrawerOpen,i=n.setBottomDrawerOpen;return a.createElement(a.Fragment,null,a.createElement(v,null,a.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return i(!0)}},a.createElement(d.Oq,{fontSize:"small"})),a.createElement(s.LW,{orientation:d.C.horizontal})),a.createElement(p,{anchor:"bottom",elevation:1,open:!!r,onClose:function(){return i(!1)},BackdropProps:{invisible:!0},variant:"persistent"},a.createElement(h,null,a.createElement(o.Z,{"aria-label":"open drawer",onClick:function(){return i(!1)},style:{paddingRight:0}},a.createElement(d.Oq,{fontSize:"small"})),a.createElement(y,null,a.createElement(g,null,a.createElement(u.Ht,{getLibrary:m},a.createElement(f.pu,null)))))))};_.propTypes={};var w=_,b=n(5697),E=n.n(b),x=n(5553),k=n.n(x),C=i.ZP.a.withConfig({displayName:"Breadcrumbs__B0",componentId:"sc-1yfagtc-0"})(["color:var(--ion-color);display:block;"]),P=i.ZP.div.withConfig({displayName:"Breadcrumbs__B1",componentId:"sc-1yfagtc-1"})(["padding:0.5em;color:var(--ion-color);"]),I=i.ZP.div.withConfig({displayName:"Breadcrumbs__W0",componentId:"sc-1yfagtc-2"})(["border:","px solid cyan;display:flex;align-items:center;justify-content:stretch;z-index:0;"],function(e){return e.debug?"1":"0"}),O=i.ZP.div.withConfig({displayName:"Breadcrumbs__WBreadcrumbs",componentId:"sc-1yfagtc-3"})(["display:block;flex-grow:1;> *{display:inline;}"]),L=function(e){var t=e.breadcrumbs,n=(0,(0,a.useContext)(d.Il).useHistory)(),r=[];return(void 0===t?[]:t).map(function(t,o){if(o+1===e.breadcrumbs.length)r.push(a.createElement(C,{key:o},t.name));else{var i=d.XO.location({slug:t.slug}),l=function(e){e.preventDefault(),n.push(i)};r.push(a.createElement(C,{key:o,href:i,onClick:l},t.name)),r.push(a.createElement(P,{key:"".concat(o,"-divider")},">"))}}),a.createElement(I,{debug:k().debug,className:"Breadcrumbs"},a.createElement(eu,{variant:d.C.variants.inline}),a.createElement(O,{className:"WBreadcrumbs"},r),a.createElement(T,null))};L.propTypes={breadcrumbs:E().arrayOf(E().shape({name:E().string.isRequired,slug:E().string.isRequired}))};var M=L,S=n(652),N=n.n(S),A=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,a.useContext)(d.Ni),n=t.theme,r=t.toggleTheme;return a.createElement("div",{className:"DaynightToddle ".concat(N().container),onClick:r},a.createElement("div",{className:N().switch},a.createElement("label",{htmlFor:"toggle"},a.createElement("input",{readOnly:!0,type:"checkbox",checked:n===d.C.themes.dark}),a.createElement("div",{className:N().sunMoon},a.createElement("div",{className:N().dots})),a.createElement("div",{className:N().background},a.createElement("div",{className:N().stars1}),a.createElement("div",{className:N().stars2})))))};A.propTypes={};var T=A,j=n(6567),R=n.n(j),D=i.ZP.div.withConfig({displayName:"Metaline__W0",componentId:"sc-d7epka-0"})(["margin:.5em 0;color:",";"],function(e){return e.theme.colors.text}),Z=function(e){var t=e.created_at,n=(e.city,e.tags,e.username);return a.createElement(D,{className:R().Metaline},t&&a.createElement("span",{className:"date"},"On ",(0,d.KW)(t),"\xa0"),n&&a.createElement(a.Fragment,null,"by ",a.createElement("span",{className:"user",style:{textDecoration:"underline"}},n),"\xa0"))},z=n(3253),F=n.n(z),U=n(2132),W=n(6664),H=n(4465),V=n(2661),G=n(6681),B=n.n(G);function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function J(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){J(a,r,o,i,l,"next",e)}function l(e){J(a,r,o,i,l,"throw",e)}i(void 0)})}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=i.ZP.div.withConfig({displayName:"PurchaseModal__FlexRow",componentId:"sc-v4mx5w-0"})([""]),Q=(0,H.J)(k().stripePublicKey),ee=function(e){var t,n,r=(0,a.useContext)(V.Vo),o=(r.currentUser,r.setCurrentUser),i=(0,a.useContext)(s.Nd),l=i.purchaseModalOpen,c=i.setPurchaseModalOpen,u=(0,d.h_)(),f=(0,W.useStripe)(),p=(0,W.useElements)(),m=function(e){if(Array.isArray(e))return e}(t=(0,a.useState)(50))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],g=(n=Y(q().mark(function e(t){var n,r,a;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(!f||!p)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u.initPayment({amountCents:h});case 5:return n=e.sent,e.next=8,f.confirmCardPayment(n.client_secret,{payment_method:{card:p.getElement(W.CardElement)}});case 8:(r=e.sent).error?((0,U.Am)("We are sorry, but something went wrong."),(0,d.IJ)(r.error.message,"e41 - cannot buyUnlocks()")):"succeeded"===r.paymentIntent.status&&(a=setInterval(Y(q().mark(function e(){var t;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getMyAccount();case 2:t=e.sent,(0,d.IJ)(t,"tr2 success"),t.is_purchasing||((0,d.IJ)("clearing interval!"),o(t),c(!1),clearInterval(a));case 5:case"end":return e.stop()}},e)})),500),setTimeout(function(){return clearInterval(a)},1e4));case 10:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});return F().setAppElement("body"),a.createElement(F(),{className:"PurchaseModal ".concat(B().LoginModal),isOpen:l,overlayClassName:B().LoginModalOverlay,portalClassName:B().LoginModalPortal},a.createElement(V.xB,{onClose:function(){c(!1)}},"Buy unlocks"),a.createElement("form",{onSubmit:g},a.createElement(K,null,"How many cents would you pay for 1 coin? Minimum 50 cents.",a.createElement("input",{value:h,onChange:function(e){return y(e.target.value)}})),a.createElement(W.CardElement,null),a.createElement("button",{type:"submit",disabled:!f},"Pay")))},et=function(e){return a.createElement(W.Elements,{stripe:Q},a.createElement(ee,e))};n(8816);var en=n(3758),er=n(2822),eo=n(998);function ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el=i.ZP.div.withConfig({displayName:"SideMenu__W0",componentId:"sc-ove78m-0"})(["height:100vh;display:flex;flex-direction:column;justify-content:space-between;align-content:space-between;"]),ec=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,a.useContext)(d.Il).useHistory,o=ea(a.useState(!1),2),i=o[0],l=o[1],c=ea((0,a.useState)(!1),2);c[0],c[1];var u=n(),f=(0,a.useContext)(s.Nd),p=f.currentUser;return f.setCurrentUser,a.createElement(a.Fragment,null,e.variant===d.C.variants.floating?a.createElement(en.Z,{onClick:function(){return l(!0)},style:{position:"absolute",top:0,left:0,margin:".5em"},"aria-label":"main menu"},a.createElement(d.Oq,null)):a.createElement(d.Oq,{onClick:function(){return l(!0)}}),a.createElement(r.ZP,{anchor:"left",open:i,onClose:function(){return l(!1)}},a.createElement(el,null,a.createElement(er.Z,null,a.createElement(eo.Z,{button:!0,key:"newsfeed",onClick:function(){l(!1),u.push(k().homePath)}},"Home"),p&&(null===(t=p.bookmarks)||void 0===t?void 0:t.map(function(e,t){return a.createElement(eo.Z,{button:!0,key:t,onClick:function(){l(!1),u.push("/en/locations/show/".concat(e.slug))}},a.createElement("span",null,e.name))})),a.createElement(eo.Z,null,"REACT_ENV: ",k().REACT_ENV)))))};ec.propTypes={variant:E().string};var eu=ec,es=n(6707),ef=n(6120),ed=n(2293);function ep(){ep=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function em(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var eh=i.ZP.div.withConfig({displayName:"UnlockModal__BtnRow",componentId:"sc-wbtxk-0"})(["display:flex;justify-content:space-around;"]),e$=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,r=(0,(0,a.useContext)(d.Il).useHistory)(),o=(0,a.useContext)(V.Vo),i=o.currentUser,l=o.setCurrentUser,c=(o.loginModalOpen,o.setLoginModalOpen),u=o.useApi,f=(0,a.useContext)(es.LZ),p=(0,a.useContext)(s.Nd),m=p.itemToUnlock,h=p.setItemToUnlock,y=(p.purchaseModalOpen,p.setPurchaseModalOpen),g=(p.ratedConfirmation,p.setRatedConfirmation),v=u(),_=(n=(t=ep().mark(function e(){return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.doUnlock({kind:m.item_type,id:m.id}).then(function(e){(0,d.IJ)(e,"UnlockModal Unlocked"),h({}),l(e),r.push(ef.X.item({item:m,location:f}))}).catch(function(e){(0,d.IJ)(e,"e19 - cannot doUnlock")});case 2:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){em(a,r,o,i,l,"next",e)}function l(e){em(a,r,o,i,l,"throw",e)}i(void 0)})}),function(){return n.apply(this,arguments)});if(!(null!=m&&m.id))return null;var w=void 0===m.closable||m.closable,b=function(){h({}),g(!0),r.push(k().homePath)},E=m.premium_tier;return F().setAppElement("body"),a.createElement(F(),{isOpen:!!m.id,className:"UnlockModal ".concat(ed.UnlockModal),overlayClassName:ed.UnlockModalOverlay,portalClassName:ed.UnlockModalPortal},a.createElement(V.xB,{onClose:function(){return w&&h(!1)}},"Unlock this item?"),a.createElement("p",null,"To access this content, please unlock it first. It costs ",E," coin(s) to unlock."),i.email&&a.createElement(a.Fragment,null,a.createElement("p",null,"You have ",a.createElement("b",null,i.n_unlocks||"-")," unlocks."),i.n_unlocks>=E&&a.createElement(d.un,{className:"doUnlock",onClick:_},"Unlock")||a.createElement(a.Fragment,null,a.createElement("p",null,"You don't have enough unlocks."),a.createElement(d.un,{onClick:function(){y(!0),h(!1)}},"Purchase more.")))||a.createElement(a.Fragment,null,a.createElement("p",null,"You have to be logged in to unlock content. ",a.createElement("a",{onClick:function(){c(!0),h(!1)}},"Please login."))),a.createElement(eh,null,!w&&a.createElement(d.un,{onClick:b},"Go Home")))};e$.propTypes={};var ey=e$},8935:function(e,t,n){"use strict";n.d(t,{q:function(){return p}});var r=n(8816),o=n(7294),a=n(9430),i=n(179),l=n(2947),c=n(8085),u=n(6468),s=n.n(u);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=a.ZP.div.withConfig({displayName:"GalleriesShow__W0",componentId:"sc-1742rhv-0"})(["height:auto;"]),p=function(e){var t,n=e.match,a=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)({}))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],p=a[1],m=(0,o.useRef)("init"),h=(0,o.useContext)(l.Nd),y=h.itemToUnlock,g=h.setItemToUnlock,v=(0,c.h_)();return(0,o.useEffect)(function(){return v.getGallery(n.params.slug).then(function(e){m.current&&((0,c.IJ)(e,"_gallery"),e.is_premium&&!e.is_purchased?g(e):p(e))}),function(){m.current=null}},[u.id,y.id]),o.createElement(d,{className:s().GalleriesShow},o.createElement("div",{className:s().narrow},o.createElement("h1",{className:s().heading},o.createElement(c.a5,null),o.createElement("span",{className:s().title},u.name)),o.createElement(i._I,u),o.createElement("div",{className:s().thumbs},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().card,key:t},o.createElement("div",null,o.createElement(r.Xz,{src:e.thumb_url})))})),o.createElement("div",{dangerouslySetInnerHTML:{__html:u.description}})),o.createElement("div",{className:s().full_img_section},u.photos&&u.photos.map(function(e,t){return o.createElement("div",{className:s().item,key:t},o.createElement("img",{src:e.large_url}))})))}},6707:function(e,t,n){"use strict";n.d(t,{Tv:function(){return l},LZ:function(){return P},vR:function(){return I},QH:function(){return O},N2:function(){return tL},qm:function(){return tR},HZ:function(){return nD},I8:function(){return nW},fg:function(){return nG}});var r=n(7294),o=n(9430),a=n(8085);o.ZP.div.withConfig({displayName:"ConferenceRoom__W0",componentId:"sc-q97saq-0"})([""]);var i=function(e){return(0,a.IJ)(e,"ConferenceRoom"),r.createElement("h1",null,"removed for next_js - see ConferenceRoom.jsx")};i.propTypes={};var l=i;n(3935);var c=n(7212),u=n(5553),s=n.n(u),f=["onClick","onIdle","children","style"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t=e.map,n=h(r.useState([]),2),o=n[0],a=n[1],i=h(r.useState(12),2),l=i[0],u=i[1],f=h(r.useState({lat:t.x,lng:t.y}),2),d=f[0],m=f[1],y=function(e){},g=function(e){e.getZoom()&&u(e.getZoom()),e.getCenter()&&m(e.getCenter().toJSON())},w=r.createElement("div",{style:{display:"none",padding:"1rem",flexBasis:"250px",height:"100%",overflow:"auto"}},r.createElement("label",{htmlFor:"zoom"},"Zoom"),r.createElement("input",{type:"number",id:"zoom",name:"zoom",value:l,onChange:function(e){return u(Number(e.target.value))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lat"},"Latitude"),r.createElement("input",{type:"number",id:"lat",name:"lat",value:d.lat,onChange:function(e){return m(p(p({},d),{},{lat:Number(e.target.value)}))}}),r.createElement("br",null),r.createElement("label",{htmlFor:"lng"},"Longitude"),r.createElement("input",{type:"number",id:"lng",name:"lng",value:d.lng,onChange:function(e){return m(p(p({},d),{},{lng:Number(e.target.value)}))}}),r.createElement("h3",null,0===o.length?"Click on map to add markers":"Clicks"),o.map(function(e,t){return r.createElement("pre",{key:t},JSON.stringify(e.toJSON(),null,2))}),r.createElement("button",{onClick:function(){return a([])}},"Clear"));return r.createElement("div",{style:{display:"flex",height:"100%"}},r.createElement(c.Wrapper,{apiKey:s().GOOGLE_MAPS_KEY},r.createElement(v,{center:d,onClick:y,onIdle:g,zoom:l,style:{flexGrow:"1",height:"100%"}},t.markers.map(function(e,t){return r.createElement(_,{key:t,position:{lat:e.x,lng:e.y}})}))),w)},v=function(e){var t=e.onClick,n=e.onIdle,o=e.children,a=e.style,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,f),l=r.useRef(null),c=h(r.useState(),2),u=c[0],s=c[1];return r.useEffect(function(){l.current&&!u&&s(new window.google.maps.Map(l.current,{}))},[l,u]),b(function(){u&&u.setOptions(i)},[u,i]),r.useEffect(function(){u&&(["click","idle"].forEach(function(e){return google.maps.event.clearListeners(u,e)}),t&&u.addListener("click",t),n&&u.addListener("idle",function(){return n(u)}))},[u,t,n]),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:a}),r.Children.map(o,function(e){if(r.isValidElement(e))return r.cloneElement(e,{map:u})}))},_=function(e){var t=h(r.useState(),2),n=t[0],o=t[1];return r.useEffect(function(){return n||o(new google.maps.Marker),function(){n&&n.setMap(null)}},[n]),r.useEffect(function(){n&&n.setOptions(e)},[n,e]),null};function w(e){var t=r.useRef();return e!==t.current&&(t.current=e),t.current}var b=function(e,t){r.useEffect(e,t.map(w))},E=g,x=["children"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=r.createContext({}),I=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,x);return r.createElement(P.Provider,{value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n)},t)},O=function(){return r.createElement("h1",null,"This location is restricted (tmp placeholder)")},L=n(5697),M=n.n(L),S=n(3253),N=n.n(S),A=n(2661),T=n(179),j=n(6775),R=function(e){(0,a.IJ)(e,"PhotosShow");var t=e.item;return r.createElement(r.Fragment,null,r.createElement("img",{src:t.original_url,alt:""}),t.subhead)},D=n(2947),Z=n(8935),z=n(3204),F=n(6120),U=n(1935),W=n.n(U),H=function(e){(0,a.IJ)(e,"ItemModal");var t=e.item;if(!t)return null;var n=(0,j.UO)(),o=(0,j.k6)(),i=(0,r.useContext)(D.Nd),l=(i.showItem,i.setShowItem),c=function(){o.push(F.X.location({slug:n.slug})),l(null)};return t.action||(t.action=a.C.actions.show),N().setAppElement("body"),r.createElement(N(),{className:"ItemModal ".concat(W().ItemModal),isOpen:!!t,overlayClassName:W().ItemModalOverlay,portalClassName:W().ItemModalPortal},r.createElement(A.xB,{onClose:c},t.name),t.item_type===a.C.item_types.photo&&r.createElement(R,{item:t}),t.item_type===a.C.item_types.report&&t.action===a.C.actions.show&&r.createElement(z.X,{item:t,match:{params:{slug:t.reportname}}}),t.item_type===a.C.item_types.report&&t.action===a.C.actions.new&&r.createElement(z.v,null),t.item_type===a.C.item_types.gallery&&r.createElement(Z.q,{match:{params:{slug:t.slug}}}),".^.")},V=["children","src"],G=o.ZP.a.withConfig({displayName:"NewsitemGallery__Images",componentId:"sc-1milq4-0"})(["display:block;position:relative;width:100%;max-width:600px;height:0;padding-bottom:min( 400px,66.66% );margin:auto;"]),B=o.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb0",componentId:"sc-1milq4-1"})(["border:solid ",";border-width:1px 1px 1px 1px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;width:66.66%;height:0;padding-bottom:66.66%;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),q=o.ZP.div.withConfig({displayName:"NewsitemGallery__Thumb1",componentId:"sc-1milq4-2"})(["border:solid ",";border-width:1px 1px 0 0;position:absolute;left:66.66%;top:0;width:33.33%;height:0;padding-bottom:33.33%;background-color:#dedede;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),J=o.ZP.div.withConfig({displayName:"NewsitemGallery___Thumb2",componentId:"sc-1milq4-3"})(["border:solid ",";border-width:1px 1px 1px 0;position:absolute;left:66.66%;top:50%;width:33.33%;height:0;padding-bottom:33.33%;display:flex;justify-content:center;align-items:flex-start;background-color:#c4c4c4;background-image:url('","');background-size:contain;"],function(e){return e.theme.colors.text},function(e){return e.src}),Y=function(e){var t=e.children,n=e.src;return function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(e,V),r.createElement(J,{style:{background:n}},r.createElement("div",{style:{marginTop:"calc( 50% - 0.5em )"}},t))},X=function(e){var t=e.item,n=e.variant,o=(0,r.useContext)(P).slug,i=(0,(0,r.useContext)(a.Il).useHistory)(),l=F.X.gallery({location_slug:o,slug:t.slug}),c=function(e){e.preventDefault(),i.push(l)};return r.createElement(eA,{item:t,variant:n},r.createElement(G,{className:"Images",href:l,onClick:c},r.createElement(B,{src:t.photos[0]&&t.photos[0].thumb_url}),r.createElement(q,{src:t.photos[1]&&t.photos[1].thumb_url}),r.createElement(Y,{src:t.photos[2]&&t.photos[2].thumb_url},"(",t.n_photos," photos)")))};X.propTypes={item:M().shape({photos:M().array.isRequired})};var K=X,Q=o.ZP.img.withConfig({displayName:"NewsitemPhoto__ImageLarge",componentId:"sc-2jnpzp-0"})(["max-width:100%;"]),ee=o.ZP.div.withConfig({displayName:"NewsitemPhoto__W0",componentId:"sc-2jnpzp-1"})(["display:flex;justify-content:center;"]),et=function(e){var t=e.item,n=e.variant;return r.createElement(eA,{className:"Newsitem NewsitemPhoto",item:t,variant:n},r.createElement(ee,null,t.photos[0]&&r.createElement(Q,{src:t.photos[0].large_url})))};et.propTypes={item:M().shape({photos:M().array.isRequired}),variant:M().string};var en=et,er=function(e){return e.item,e.variant,r.createElement(eA,e)};er.propTypes={item:M().object.isRequired,variant:M().string};var eo=er,ea=n(2132),ei=function(e){var t=e.item,n=e.variant;return r.createElement(eA,{item:t,variant:n},r.createElement("div",{style:{display:"flex",justifyContent:"center"}},t.youtube_id?r.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"//www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):r.createElement("video",{style:{maxWidth:"100%",maxHeight:"50vh"},preload:"metadata",height:"auto",controls:!0},r.createElement("source",{src:t.url,type:"video/mp4"}))))};ei.propTypes={item:M().object.isRequired,variant:M().string};var el=ei,ec=["children"],eu=o.ZP.div.withConfig({displayName:"Newsitems__Pagination",componentId:"sc-16s1m55-0"})(["border:","px solid cyan;display:flex;"],function(e){return e.debug?1:0}),es=o.ZP.div.withConfig({displayName:"Newsitems__CurrentPageNum",componentId:"sc-16s1m55-1"})(["text-decoration:bold;"]),ef=o.ZP.a.withConfig({displayName:"Newsitems__PageNum",componentId:"sc-16s1m55-2"})(["display:block;"]),ed=o.ZP.div.withConfig({displayName:"Newsitems__W0",componentId:"sc-16s1m55-3"})([""]),ep=o.ZP.div.withConfig({displayName:"Newsitems__W1",componentId:"sc-16s1m55-4"})(["position:relative;::before{content:'","';position:absolute;top:2px;left:2px;color:var(--ion-debug-color);}"],function(e){return e.debug&&e._key}),em=o.ZP.div.withConfig({displayName:"Newsitems___EditModeActions",componentId:"sc-16s1m55-5"})(["position:absolute;right:1em;top:1em;z-index:2;"]),eh=function(e){e.children;var t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ec).item;if(!(0,r.useContext)(D.Nd).editorMode)return null;var n=(0,a.h_)(),o=function(e){confirm("Are you sure?")&&n.deleteNewsitem({id:t.newsitem_id}).then(function(e){(0,ea.Am)("Removed the story")}).catch(function(e){(0,a.IJ)("320 - cannot delete newsitem")})};return r.createElement(em,null,r.createElement(a.un,{onClick:o},"Remove Story"))},e$=function(e){var t=e.newsitems,n=void 0===t?[]:t,o=e.variant;if(!n.length)return r.createElement("div",null,"No Newsitems");var i=(0,r.useContext)(P),l=i.newsitems_pagination,c=i.slug,u=[];return n.map(function(e,t){var n,i=e.premium_tier||0;switch(e.item_type){case a.C.item_types.gallery:n=r.createElement(K,{item:e,variant:o});break;case a.C.item_types.report:n=r.createElement(eo,{item:e,variant:o});break;case a.C.item_types.video:n=r.createElement(el,{item:e,variant:o});break;case a.C.item_types.photo:n=r.createElement(en,{item:e,variant:o});break;default:n=r.createElement(eK,{item:e})}u.push(r.createElement(ep,{key:t,_key:t+1,className:"premium-".concat(i),debug:s().debug},r.createElement(eh,{item:e}),n))}),r.createElement(ed,{className:"Newsitems",variant:o},u,r.createElement(eu,null,"Pages:",l.previous&&r.createElement(ef,{href:F.X.location({slug:c,newsitems_page:l.previous})},"previous")||null,r.createElement(es,null,l.current),l.next&&r.createElement(ef,{href:F.X.location({slug:c,newsitems_page:l.next})},"next")||null))};e$.propTypes={newsitems:M().array.isRequired,variant:M().string};var ey=e$,eg=["fill"],ev=["fill"];function e_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ew(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eb(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var e0=(0,o.ZP)(A.Ht).withConfig({displayName:"Votable__FlexCol",componentId:"sc-19mp3xk-0"})(["color:var(--ion-color);"]),eE=function(e){var t=e.fill,n=eb(e,eg);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.138 124.138",fill:t,style:{enableBackground:"new 0 0 124.138 124.138"}},r.createElement("g",null,r.createElement("path",{d:"M50.569,124.138h23.1c4.7,0,9-3.8,9-8.601V81.138c0-4.7,3.5-9,8.2-9h14.699c7.2,0,11.2-8.101,6.801-13.8l-44.101-55 c-3.5-4.5-10.2-4.4-13.6,0l-42.9,55c-4.4,5.699-0.4,13.8,6.8,13.8h14.8c4.7,0,8.3,4.2,8.3,9v34.399 C41.669,120.338,45.769,124.138,50.569,124.138z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},ex=(0,o.ZP)(eE).withConfig({displayName:"Votable__IconUp",componentId:"sc-19mp3xk-1"})(["cursor:pointer;"]),e8=function(e){var t=e.fill,n=eb(e,ev);return r.createElement("div",n,r.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 124.075 124.075",fill:t,style:{enableBackground:"new 0 0 124.075 124.075"}},r.createElement("g",null,r.createElement("path",{d:"M54.628,120.7c3.5,4.5,10.2,4.5,13.601,0l44.1-54.9c4.4-5.7,0.4-13.8-6.8-13.8h-14.7c-4.7,0-8.2-4.2-8.2-9V8.6 c0-4.8-4.2-8.6-9-8.6h-23.1c-4.8,0-8.9,3.8-8.9,8.6V43c0,4.7-3.6,9-8.3,9h-14.8c-7.1,0-11.2,8-6.8,13.7L54.628,120.7z"})),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},e1=(0,o.ZP)(e8).withConfig({displayName:"Votable__IconDown",componentId:"sc-19mp3xk-2"})(["cursor:pointer;"]),e3=o.ZP.div.withConfig({displayName:"Votable__WCount",componentId:"sc-19mp3xk-3"})(["text-align:center;"]),e2=function(e){var t=e.item,n=(0,r.useContext)(A.Vo),o=n.currentUser,i=(n.setCurrentUser,n.setLoginModalOpen),l=(0,a.h_)(),c=e_((0,r.useState)(void 0===t.votes_score?"-":t.votes_score),2),u=c[0],s=c[1],f=e_((0,r.useState)("#cecece"),2),d=f[0],p=f[1],m=e_((0,r.useState)("#cecece"),2),h=m[0],y=m[1],g=e_((0,r.useState)(t.current_user_vote_value),2),v=g[0],_=g[1];(0,r.useEffect)(function(){v===a.C.vote_values.up&&(p("#cc3333"),y("#cecece")),v===a.C.vote_values.down&&(p("#cecece"),y("#cc3333"))},[v]);var w=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===a.C.vote_values.up?((0,A.IJ)("unvoting is not implemented!"),(0,ea.Am)("unvoting is not implemented!"),l.unvote()):l.vote({value:a.C.vote_values.up,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,A.IJ)(e,"upvoted"),p("#cc3333"),_(a.C.vote_values.up),v===a.C.vote_values.down?(y("#cecece"),s(u+2)):s(u+1)})},b=function(){if(!o.email){i("Please login or register to upvote or downvote.");return}v===a.C.vote_values.down?((0,A.IJ)("unvoting is not implemented!"),(0,ea.Am)("unvoting is not implemented!"),l.unvote()):l.vote({value:a.C.vote_values.down,votee_class_name:"Newsitem",votee_id:t.newsitem_id,voter_id:o.id}).then(function(e){(0,A.IJ)(e,"downvoted"),y("#cc3333"),_(a.C.vote_values.down),v===a.C.vote_values.up?(p("#cecece"),s(u-2)):s(u-1)})};return r.createElement(e0,null,r.createElement(ex,{onClick:w,width:20,height:20,fill:d}),r.createElement(e3,null,u),r.createElement(e1,{onClick:b,width:20,height:20,fill:h}))};e2.propTypes={item:M().object.isRequired};var ek=e2,e5=["children"],e4=["children"],eC=["children"];function eP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var e7=o.ZP.div.withConfig({displayName:"NewsitemContainer__Col",componentId:"sc-11t8rkk-0"})(["display:flex;flex-direction:column;"]),e6=o.ZP.div.withConfig({displayName:"NewsitemContainer___Row",componentId:"sc-11t8rkk-1"})(["display:flex;align-items:flex-start;margin-top:",";"],function(e){return e.theme.smallWidth}),eI=function(e){var t=e.children,n=eP(e,e5);return r.createElement(e6,Object.assign({className:"Row"},n),t)},eO=o.ZP.div.withConfig({displayName:"NewsitemContainer__RowInline",componentId:"sc-11t8rkk-2"})(["> *{display:inline;}"]),eL=o.ZP.a.withConfig({displayName:"NewsitemContainer__A",componentId:"sc-11t8rkk-3"})(["color:var(--ion-color);text-decoration:none;"]),eM=o.ZP.a.withConfig({displayName:"NewsitemContainer__TitleA",componentId:"sc-11t8rkk-4"})(["margin-top:0;margin-bottom:0;color:var(--ion-color);font-size:2em;text-decoration:none;"]),eS=function(e){var t=e.children,n=eP(e,e4);if(n.variant===a.C.variants.bordered)return r.createElement(a.xP,n,t);throw"not implemented, how do I show a newsitem without a border?"},eN=function(e){var t,n=e.children,o=eP(e,eC),a=o.className,i=o.item,l=o.variant,c=(0,r.useContext)(P).slug,u=(0,r.useContext)(D.Nd),s=(u.itemToUnlock,u.setItemToUnlock);u.layout,u.showItem,u.setShowItem;var f=(0,j.k6)(),d=F.X.item({item:i,location:{slug:c}}),p=function(e){e.preventDefault(),i.is_premium&&!i.is_purchased?s(i):f.push(d)};return r.createElement(eS,{className:a,variant:l},n,r.createElement(eI,null,r.createElement(e7,{style:{alignItems:"center"}},r.createElement(ek,{item:i})),r.createElement(e7,{style:{overflowWrap:"break-word"}},r.createElement(eO,null,r.createElement(eX,i),r.createElement(eM,{href:d,onClick:p},i.name)),r.createElement(T._I,i))),(null===(t=i.subhead)||void 0===t?void 0:t.length)&&r.createElement(eL,{className:"subhead",href:d,onClick:p,dangerouslySetInnerHTML:{__html:i.subhead}})||null)};eN.propTypes={item:M().object.isRequired,variant:M().string};var eA=eN,eT=["fill","w","h"],ej=["fill","w","h"],eR=["fill","w","h"],eD=["fill","w","h"],eZ=["fill","w","h"],ez=["children"];function eF(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var eU=o.ZP.span.withConfig({displayName:"ItemIcon___Icon",componentId:"sc-1fvs9d6-0"})(["margin:0 "," 0 0;"],function(e){return e.theme.smallWidth}),eW=function(e){var t=e.fill,n=e.w,a=e.h;eF(e,eT);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eU,{className:"IconGem"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:t,viewBox:"0 0 45.964 45.964",style:{enableBackground:"new 0 0 45.964 45.964"}},r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M7.071,30.834V11.062H4.042C1.803,11.062,0,12.893,0,15.13v26.732c0,2.24,1.803,4.051,4.042,4.051h26.733    c2.238,0,4.076-1.811,4.076-4.051v-2.92H15.179C10.733,38.943,7.071,35.281,7.071,30.834z"}),"   ",r.createElement("path",{d:"M41.913,0.05H15.179c-2.238,0-4.066,1.813-4.066,4.051v26.733c0,2.241,1.829,4.067,4.066,4.067h26.734    c2.237,0,4.051-1.826,4.051-4.067V4.102C45.964,1.862,44.15,0.05,41.913,0.05z M41.363,28.589    c-0.223,0.412-0.652,0.656-1.12,0.656H17.336c-0.403,0-0.782-0.18-1.022-0.502c-0.24-0.324-0.313-0.736-0.197-1.123l3.277-10.839    c0.216-0.713,0.818-1.24,1.554-1.361c0.736-0.12,1.476,0.19,1.908,0.797l4.582,6.437c0.617,0.867,1.812,1.082,2.689,0.484    l4.219-2.865c0.434-0.295,0.967-0.402,1.48-0.299c0.515,0.102,0.966,0.408,1.253,0.848l4.229,6.472    C41.564,27.687,41.585,28.179,41.363,28.589z"}),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eH=function(e){var t=e.fill,n=e.w,a=e.h;eF(e,ej);var i=(0,o.Fg)();return t=t||i.colors.gold,n=n||24,a=a||24,r.createElement(eU,{className:"IconGem"},r.createElement("svg",{viewBox:"0 -32 576 576",xmlns:"http://www.w3.org/2000/svg",width:n,height:a,fill:t},r.createElement("path",{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"})))},eV=function(e){var t=e.fill,n=e.w,a=e.h;eF(e,eR);var i=(0,o.Fg)();return t=t||i.colors.cyan,n=n||24,a=a||24,r.createElement(eU,{className:"IconGlasses"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 297 297",style:{enableBackground:"new 0 0 297 297"},width:n,height:a,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M115.167,101.47H24.012C10.751,101.469,0,112.22,0,125.482v43.477c0,14.674,11.896,26.57,26.57,26.57h39.67     c21.977,0,41.223-14.737,46.954-35.953l10.297-45.336c0.633-3.567-0.276-7.232-2.431-9.804     C120.132,103.328,118.132,101.47,115.167,101.47z M24.542,138.106c-1.945,0-3.888-0.742-5.373-2.225     c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747     l-5.428,5.428C28.432,137.364,26.487,138.106,24.542,138.106z M64.111,130.453l-21.71,21.71     c-1.484,1.483-3.429,2.225-5.374,2.225c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71     c2.968-2.966,7.779-2.966,10.747,0C67.078,122.674,67.078,127.485,64.111,130.453z"}),"    ",r.createElement("path",{d:"M160.885,106.524h-26.517c0.575,3.345,0.587,6.828-0.021,10.307l-2.22,12.693h31l-2.22-12.693     C160.299,113.352,160.311,109.868,160.885,106.524z"}),"    ",r.createElement("path",{d:"M272.988,101.47h-94.649c-2.965,0-4.965,1.858-5.893,2.966c-2.155,2.572-3.064,6.236-2.43,9.804l10.296,45.336     c5.731,21.216,24.977,35.954,46.954,35.954h43.164c14.674-0.001,26.57-11.897,26.57-26.571v-43.477     C297,112.22,286.249,101.47,272.988,101.47z M192.422,135.881c-2.967-2.968-2.967-7.779,0-10.747l5.428-5.428     c2.968-2.966,7.779-2.966,10.747,0c2.967,2.968,2.967,7.779,0,10.747l-5.428,5.428c-1.484,1.483-3.429,2.225-5.374,2.225     C195.851,138.106,193.906,137.364,192.422,135.881z M237.363,130.453l-21.71,21.71c-1.484,1.483-3.429,2.225-5.374,2.225     c-1.945,0-3.889-0.742-5.374-2.225c-2.967-2.968-2.967-7.779,0-10.747l21.71-21.71c2.968-2.966,7.779-2.966,10.747,0     C240.33,122.674,240.33,127.485,237.363,130.453z"}),"   "),"  ")," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")," ",r.createElement("g",null," ")))},eG=function(e){var t=e.fill,n=e.w,a=e.h;eF(e,eD);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eU,{className:"IconReport"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 184.153 184.153",style:{enableBackground:"new 0 0 184.153 184.153"},width:n,height:a,fill:t},r.createElement("g",null,r.createElement("g",null,r.createElement("g",null,r.createElement("path",{d:"M129.318,0H26.06c-1.919,0-3.475,1.554-3.475,3.475v177.203c0,1.92,1.556,3.475,3.475,3.475h132.034 c1.919,0,3.475-1.554,3.475-3.475V34.131C161.568,22.011,140.771,0,129.318,0z M154.62,177.203H29.535V6.949h99.784 c7.803,0,25.301,18.798,25.301,27.182V177.203z"}),r.createElement("path",{d:"M71.23,76.441c15.327,0,27.797-12.47,27.797-27.797c0-15.327-12.47-27.797-27.797-27.797 c-15.327,0-27.797,12.47-27.797,27.797C43.433,63.971,55.902,76.441,71.23,76.441z M71.229,27.797 c11.497,0,20.848,9.351,20.848,20.847c0,0.888-0.074,1.758-0.183,2.617l-18.071-2.708L62.505,29.735    C65.162,28.503,68.112,27.797,71.229,27.797z M56.761,33.668l11.951,19.869c0.534,0.889,1.437,1.49,2.462,1.646l18.669,2.799    c-3.433,6.814-10.477,11.51-18.613,11.51c-11.496,0-20.847-9.351-20.847-20.847C50.381,42.767,52.836,37.461,56.761,33.668z"}),"   ",r.createElement("rect",{x:"46.907",y:"90.339",width:"73.058",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"107.712",width:"48.644",height:"6.949"}),"   ",r.createElement("rect",{x:"46.907",y:"125.085",width:"62.542",height:"6.949"}),"  "))),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null),r.createElement("g",null)))},eB=function(e){var t=e.fill,n=e.w,a=e.h;eF(e,eZ);var i=(0,o.Fg)();return t=t||i.colors.text,n=n||24,a=a||24,r.createElement(eU,{className:"IconVideo"},r.createElement("svg",{width:n,height:a,viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:t,d:"M9.89989 0H29.6999C31.5149 0 32.9999 1.485 32.9999 3.3V23.1C32.9999 24.915 31.5149 26.4 29.6999 26.4H9.89989C8.08489 26.4 6.59989 24.915 6.59989 23.1V3.3C6.59989 1.485 8.08489 0 9.89989 0ZM0 6.6H3.3V29.7H26.4V33H3.3C1.485 33 0 31.515 0 29.7V6.6ZM29.7 23.1H9.89997V3.3H29.7V23.1ZM16.5001 20.625V5.775L26.4001 13.2L16.5001 20.625Z"})))},eq=o.ZP.div.withConfig({displayName:"ItemIcon___W0",componentId:"sc-1fvs9d6-1"})(["display:inline;box-sizing:border-box;"]),eJ=function(e){var t=e.children,n=eF(e,ez);return r.createElement(eq,Object.assign({className:"ItemIcon"},n),t)},eY=function(e){var t=e.is_purchased,n=e.item_type,o=e.premium_tier,i=[];switch(o>0&&(t?i.push(r.createElement(eV,{key:"IconGlasses"})):i.push(r.createElement(eH,{key:"IconGem"}))),n){case a.C.item_types.gallery:i.push(r.createElement(eW,{key:"IconGallery"}));break;case a.C.item_types.report:i.push(r.createElement(eG,{key:"IconReport"}));break;case a.C.item_types.video:i.push(r.createElement(eB,{key:"IconVideo"}));break;case a.C.item_types.location:break;default:i.push(r.createElement("span",{key:"unknown-kind"},"[\xa0?\xa0]"))}return r.createElement(eJ,null,i)};eY.propTypes={is_premium:M().bool,is_purchased:M().bool,item_type:M().string.isRequired,premium_tier:M().number};var eX=eY,eK=function(e){var t=e.item;return r.createElement(r.Fragment,null,r.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}}))},e9=["children"],eQ=["className"],te=["children"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var to=o.ZP.a.withConfig({displayName:"Marker___W0",componentId:"sc-lvan3-0"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);display:block;text-decoration:none;margin:0 .5em .5em 0;padding:.5em;text-align:center;width:18%;max-width:140px;min-width:120px;"]),ta=o.ZP.div.withConfig({displayName:"Marker__MarkerEmpty",componentId:"sc-lvan3-1"})(["width:18%;max-width:140px;min-width:120px;height:0;border:none;padding:0;margin:0 .5em 0 0;"]),ti=function(e){var t=e.children,n=tr(e,e9),o=n.className,a=tr(n,eQ);return r.createElement(to,Object.assign({className:"WBorderedItem ".concat(void 0===o?"":o)},a),t)},tl=function(e){e.children;var t=tr(e,te),n=t.marker,o=(0,(0,r.useContext)(a.Il).useHistory)(),i=(0,r.useContext)(D.Nd),l=(i.itemToUnlock,i.setItemToUnlock),c=(i.showUrl,i.setShowUrl),u=F.X.location({slug:n.destination_slug}),s=function(e){e.preventDefault(),n.premium_tier&&!n.is_purchased?l(n):n.url?c(n.url):o.push(u)};return r.createElement(ti,Object.assign({onClick:s},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){tn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({href:u},t)),r.createElement("img",{src:n.title_img_path}),r.createElement("br",null),r.createElement(eX,n)," ",n.name)};tl.propTypes={marker:M().object.isRequired};var tc=tl,tu=["children","variant"],ts=o.ZP.div.withConfig({displayName:"MarkersList___W0",componentId:"sc-i7mf08-0"})(["display:flex;flex-wrap:wrap;justify-content:space-between;"]),tf=function(e){var t=e.children,n=e.variant,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tu);return n===a.C.variants.bordered?r.createElement(a.xP,o,t):r.createElement(ts,o,t)},td=function(e){e.variant;var t=[];e.markers.map(function(e,n){e.destination_slug&&t.push(r.createElement(tc,{key:n,marker:e}))});for(var n=12-t.length%12,o=0;o<n;o++)t.push(r.createElement(ta,{key:"padded-".concat(o)}));return r.createElement(tf,{className:"MarkersList"},t)};td.propTypes={markers:M().arrayOf(M().shape({destination_slug:M().string})).isRequired,variant:M().string};var tp=td,tm=o.ZP.div.withConfig({displayName:"MarkerForm__Actions",componentId:"sc-1qq3e62-0"})([""]),th=o.ZP.div.withConfig({displayName:"MarkerForm__W0",componentId:"sc-1qq3e62-1"})([""]),t$=r.createContext({}),ty=["fill"],tg=["children"],tv=["children"];function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){tb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t0(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tx(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var t8=function(e){var t=e.fill,n=tx(e,ty);return r.createElement("div",n,r.createElement("svg",{width:"17",height:"17",viewBox:"0 -0.5 17 17",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.createElement("defs",null),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(1.000000, 0.000000)",fill:void 0===t?"var(--ion-inactive-color)":t},r.createElement("path",{d:"M5.958,8.951 L5.958,7.007 L3.979,7.007 L3.97900001,5.06677246 C3.97900001,4.57762889 0.265,7.332 0.265,7.332 C-0.095,7.696 -0.095,8.29 0.264,8.655 C0.264,8.655 3.97900001,11.4734899 3.97900001,10.9475709 L3.979,8.951 L5.958,8.951 Z"}),r.createElement("path",{d:"M10.002,7 L10.002,8.973 L12.048,8.973 L12.048,11 C12.048,11.4553833 15.695,8.684 15.695,8.684 C16.055,8.336 16.055,7.771 15.695,7.423 C15.695,7.423 11.980774,4.64377734 11.980774,5.03546143 L12.048,7 L10.002,7 Z"}),r.createElement("rect",{x:"7",y:"0",width:"2",height:"16"})))))},t1=function(){return r.createElement(t8,null)},t3=o.ZP.div.withConfig({displayName:"LocationsShow___D",componentId:"sc-j8biii-0"})([""]),t2=function(e){var t=e.item,n=void 0===t?{}:t;if(n.description)return r.createElement(t3,{className:"Description",dangerouslySetInnerHTML:{__html:n.description}})},tk=o.ZP.div.withConfig({displayName:"LocationsShow___Handle",componentId:"sc-j8biii-1"})(["border:","px solid green;position:absolute;top:0;bottom:0;left:",";right:",";display:flex;flex-direction:column;align-items:center;width:var(--handle-width);z-index:2;"],function(e){return e.debug?1:0},function(e){return e.foldedLeft?0:e.foldedRight?"auto":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?0:"auto"}),t5=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t=(0,r.useContext)(D.Nd),n=t.folded,o=t.setFolded,i=t.foldedLeft,l=t.foldedRight,c=t.twofoldPercent;t.setTwofoldPercent,t0((0,a.iP)(),1)[0];var u=t0((0,r.useState)(),2);u[0],u[1];var f=t0((0,r.useState)(!1),2);f[0],f[1];var d=function(){n===a.C.foldedRight?o(a.C.foldedCenter):o(a.C.foldedLeft)},p=function(){n===a.C.foldedLeft?o(a.C.foldedCenter):o(a.C.foldedRight)};return r.createElement(tk,{className:"Handle",debug:s().debug,foldedLeft:i,foldedRight:l,twofoldPercent:c},r.createElement(a.s$,{onClick:d}),r.createElement(a._Q,{onClick:p}),r.createElement(t1,null),-1!==[a.C.foldedRight,a.C.foldedLeft].indexOf(n)&&r.createElement(D.LW,{orientation:a.C.vertical}))},t4=function(e){var t=(0,r.useContext)(D.Nd),n=t.showUrl,o=t.setShowUrl;return r.createElement(N(),{ariaHideApp:!1,isOpen:!!n},r.createElement("span",{onClick:function(){o(!1)}},"[x]"),r.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))},tC=o.ZP.div.withConfig({displayName:"LocationsShow___Left",componentId:"sc-j8biii-2"})(["background:",";flex:",";overflow:hidden;display:flex;flex-direction:column;margin-right:",";height:calc(100vh - "," - ",");"],function(e){return e.theme.colors.background},function(e){return e.foldedRight?"99%":"".concat(100*e.twofoldPercent,"%")},function(e){return e.foldedRight?"30px":0},function(e){return e.theme.borderWidth},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),tP=function(e){var t=e.children;tx(e,tg);var n=(0,r.useContext)(D.Nd),o=n.bottomDrawerOpen,a=(n.folded,n.foldedLeft),i=n.foldedRight,l=n.twofoldPercent;return a?null:r.createElement(tC,{className:"Left",bottomDrawerOpen:o,foldedRight:i,twofoldPercent:l},t)},t7=o.ZP.div.withConfig({displayName:"LocationsShow___Right",componentId:"sc-j8biii-3"})(["position:relative;padding:0 0 0 ",";display:",";flex:",";overflow-x:hidden;flex-direction:column;height:calc(100vh - "," - ",");"],function(e){return["android","ios"].includes(e.os)?"":"var(--handle-width)"},function(e){return e.foldedRight?"none":"flex"},function(e){return"".concat((1-e.twofoldPercent)*100,"%")},function(e){return"calc(2*".concat(e.theme.borderWidth,")")},function(e){return e.bottomDrawerOpen?e.theme.bottomDrawerOpenHeight:e.theme.bottomDrawerClosedHeight}),t6=function(e){var t=e.children,n=tx(e,tv),o=(0,r.useContext)(D.Nd),a=o.bottomDrawerOpen,i=(o.folded,o.foldedLeft,o.foldedRight),l=o.twofoldPercent;return r.createElement(t7,Object.assign({className:"Right"},tw({bottomDrawerOpen:a,foldedRight:i,twofoldPercent:l},n)),t)},tI=o.ZP.div.withConfig({displayName:"LocationsShow__W0",componentId:"sc-j8biii-4"})(["display:flex;position:relative;"]),tO=function(e){(0,a.IJ)(e,"LocationsShow");var t=e.location,n=e.match,o=e.showItem;if(!t)return null;var i=(0,r.useContext)(A.Vo).currentUser,l=(0,r.useContext)(a.Il).os,c=(0,r.useContext)(D.Nd),u=c.bottomDrawerOpen,s=(c.editorMode,c.folded),f=(c.setFolded,c.foldedLeft,c.foldedRight,c.itemToUnlock,c.setItemToUnlock),d=(c.mapPanelWidth,c.setMapPanelWidth),p=(c.mapPanelHeight,c.setMapPanelHeight),m=(c.ratedConfirmation,c.setRatedConfirmation,c.showUrl),h=(c.setShowUrl,c.twofoldPercent),y=t0((0,a.iP)(),2),g=y[0],v=y[1],_=t0((0,r.useState)(!1),2),w=_[0];_[1];var b=(0,r.useRef)(null);return((0,r.useEffect)(function(){!t.is_premium||i.email&&t.is_purchased?f(!1):f(tw({closable:!1,item_type:a.C.item_types.location},t))},[i,t]),(0,r.useEffect)(function(){b.current&&(d(b.current.offsetWidth),p(b.current.offsetHeight))},[u,s,b.current,h,g,v]),-1!==["ios","android"].indexOf(l))?r.createElement(tI,null,r.createElement(I,t,r.createElement(t6,{os:l},r.createElement(T.Oo,t),r.createElement(D.zF,{className:"Maps",label:t.labels.map,slug:a.C.collapsible.map,variant:a.C.variants.transparent},r.createElement(nD,{location:t.map?t.map:t,match:e.match,ref:b,slug:n.params.slug})),t.markers.length&&r.createElement(D.zF,{className:"Markers",label:t.labels.markers,slug:a.C.collapsible.markers,variant:a.C.variants.transparent},r.createElement(tp,{markers:t.markers,variant:a.C.variants.bordered}))||null,t.description&&r.createElement(D.zF,{className:"Description",label:t.labels.description,slug:a.C.collapsible.description,variant:a.C.variants.bordered},r.createElement(t2,{item:t}))||null,t.newsitems.length&&r.createElement(D.zF,{className:"Newsitems",label:t.labels.newsitems,slug:a.C.collapsible.newsitems,variant:a.C.variants.transparent},r.createElement(ey,{newsitems:t.newsitems,variant:a.C.variants.bordered}))||null),m&&r.createElement(t4,{src:m}),o&&r.createElement(H,{item:o}),w&&r.createElement(a.gb,null),r.createElement(T.ce,null))):r.createElement(tI,null,r.createElement(I,t,r.createElement(tP,null,r.createElement(T.Oo,t),r.createElement(nG,{map:t.map?t.map:t,ref:b,slug:n.params.slug})),r.createElement(t5,null),r.createElement(t6,null,t.markers.length&&r.createElement(D.zF,{className:"Markers",label:t.labels.markers,slug:a.C.collapsible.markers,variant:a.C.variants.transparent},r.createElement(tp,{markers:t.markers,variant:a.C.variants.bordered}))||null,t.description&&r.createElement(D.zF,{className:"Description",label:t.labels.description,slug:a.C.collapsible.description,variant:a.C.variants.bordered},r.createElement(t2,{item:t}))||null,t.newsitems.length&&r.createElement(D.zF,{className:"Newsitems",label:t.labels.newsitems,slug:a.C.collapsible.newsitems,variant:a.C.variants.transparent},r.createElement(ey,{newsitems:t.newsitems,variant:a.C.variants.bordered}))||null),m&&r.createElement(t4,{src:m}),o&&r.createElement(H,{item:o}),w&&r.createElement(a.gb,null),r.createElement(T.ce,null)))};tO.propTypes={location:M().object,match:M().shape({params:M().shape({slug:M().string.isRequired})}),showItem:M().object};var tL=tO;function tM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(n),!0).forEach(function(t){tN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tj=function(e){(0,a.IJ)(e,"LocationsShowAsync");var t,n=e.match,o=tA((0,r.useState)(),2),i=o[0],l=o[1],c=(t=(0,j.TH)().search,r.useMemo(function(){return new URLSearchParams(t)},[t]));n.params=tS(tS({},n.params),{},{newsitems_page:c.get("newsitems_page")||1});var u=tA((0,r.useState)(),2),s=u[0],f=u[1],d=(0,a.h_)();(0,r.useEffect)(function(){(0,a.IJ)(n,"LocationsShowAsync Request Chain");var e=[d.getLocation(n.params)];if(n.params.item_type){var t=a.$z.classify(n.params.item_type);switch(t){case a.C.item_types.gallery:e.push(d.getGallery(n.params.item_slug));break;case a.C.item_types.photo:e.push(d.getPhoto(n.params.item_slug));break;case a.C.item_types.report:e.push(d.getReport(n.params.item_slug));break;default:(0,a.IJ)(t,"Cannot get this item type!"),(0,ea.Am)("Cannot get this item type: ".concat(t))}}Promise.all(e).then(function(e){(0,a.IJ)(e,"LocationsShowAsync ChainResults"),l(e[0]),f(e[1]?e[1]:null)}).catch(function(e){})},[n.params.item_type,n.params.item_slug,n.params.slug,n.params.newsitems_page]);var p=r.useMemo(function(){return r.createElement(tL,{location:i,match:n,showItem:s})},[i]);return i?i.is_premium&&!i.is_purchased?r.createElement(O,null):r.createElement(r.Fragment,null,p):null};tj.propTypes={match:M().object.isRequired};var tR=tj;n(8816);var tD=n(7011),tZ=["children"],tz=o.ZP.div.withConfig({displayName:"Blocker___Blocker",componentId:"sc-1mqnpns-0"})(["border:2px solid var(--ion-highlight-color);border-radius:var(--ion-border-radius);position:relative;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:calc(50% - 0px);top:calc(50% - 4px);::before{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:var(--ion-highlight-color);border-style:solid;border-width:0 2px 0 0;height:16px;top:0em;left:0;}}"]),tF=r.forwardRef(function(e,t){var n=e.children,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tZ);return r.createElement(tz,Object.assign({ref:t,className:"Blocker"},o),n)});o.ZP.div.withConfig({displayName:"Crosshair",componentId:"sc-pqmgvx-0"})(["width:50px;height:50px;position:absolute;left:50%;top:50%;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 2px 0 0;height:20px;top:-10px;left:-1px;}"]);var tU=n(2212);function tW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tH(e,t){return(tH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tV(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(e){return(tG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tB=new tU.Euler(0,0,0,"YXZ"),tq=new tU.Vector3,tJ={type:"change"},tY={type:"lock"},tX={type:"unlock"},tK=Math.PI/2,t9=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tH(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=tG(t);if(n){var o=tG(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tV(e)}(this,e)});function l(e,t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),r=i.call(this),void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),r.domElement=t,r.isLocked=!1,r.minPolarAngle=0,r.maxPolarAngle=Math.PI;var n,r,o=tV(r);function a(t){if(!1!==o.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;tB.setFromQuaternion(e.quaternion),tB.y-=.002*n,tB.x-=.002*r,tB.x=Math.max(tK-o.maxPolarAngle,Math.min(tK-o.minPolarAngle,tB.x)),e.quaternion.setFromEuler(tB),o.dispatchEvent(tJ)}}function c(){o.domElement.ownerDocument.pointerLockElement===o.domElement?(o.dispatchEvent(tY),o.isLocked=!0):(o.dispatchEvent(tX),o.isLocked=!1)}function u(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return r.connect=function(){o.domElement.ownerDocument.addEventListener("mousemove",a),o.domElement.ownerDocument.addEventListener("pointerlockchange",c),o.domElement.ownerDocument.addEventListener("pointerlockerror",u)},r.disconnect=function(){o.domElement.ownerDocument.removeEventListener("mousemove",a),o.domElement.ownerDocument.removeEventListener("pointerlockchange",c),o.domElement.ownerDocument.removeEventListener("pointerlockerror",u)},r.dispose=function(){this.disconnect()},r.getObject=function(){return e},r.getDirection=(n=new tU.Vector3(0,0,-1),function(t){return t.copy(n).applyQuaternion(e.quaternion)}),r.moveForward=function(t){tq.setFromMatrixColumn(e.matrix,0),tq.crossVectors(e.up,tq),e.position.addScaledVector(tq,t)},r.moveRight=function(t){tq.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(tq,t)},r.lock=function(){this.domElement.requestPointerLock()},r.unlock=function(){o.domElement.ownerDocument.exitPointerLock()},r.connect(),r}return r=l,o&&tW(r.prototype,o),a&&tW(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(tU.EventDispatcher),tQ=o.ZP.div.withConfig({displayName:"RotationPad__W0",componentId:"sc-py61vh-0"})(["position:absolute;bottom:10px;right:10px;color:white;font-size:2em;border:1px solid red;"]),ne=function(e){(0,a.IJ)(e,"RotationPad"),e.container;var t,n,o,i,l,c=!1,u=function(e){var r,a,u,s;c=!0,self.handle.css("opacity","1.0"),r=e.pageX,a=e.pageY,n=r-self.regionData.offset.left,o=a-self.regionData.offset.top,(i=Math.pow(self.regionData.centerX-n,2)+Math.pow(self.regionData.centerY-o,2))>Math.pow(self.regionData.radius,2)&&(n=Math.cos(l=Math.atan2(o-self.regionData.centerY,n-self.regionData.centerX))*self.regionData.radius+self.regionData.centerX,o=Math.sin(l)*self.regionData.radius+self.regionData.centerY),o=Math.round(10*o)/10,n=Math.round(10*n)/10,self.handle.css({top:o-self.handleData.radius,left:n-self.handleData.radius}),u=self.regionData.centerX-parseInt(n),s=self.regionData.centerY-parseInt(o),u=-2+4*(u- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),s=-2+4*(s- -self.regionData.radius)/(self.regionData.radius- -self.regionData.radius),function e(n,r){if(!c){clearTimeout(t);return}clearTimeout(t),t=setTimeout(function(){e(n,r)},5);var o=$.Event("YawPitch",{detail:{deltaX:n,deltaY:r},bubbles:!1});$(self).trigger(o)}(u=-1*Math.round(10*u)/10,s=-1*Math.round(10*s)/10)};return self.regionData={},self.handleData={},self.rotationPad=r.createElement("h1",null,"R"),self.region=r.createElement("h2",{onMouseDown:u},"region"),self.handle=r.createElement("h2",null,"handle"),(0,a.IJ)("resetting handle position..."),r.createElement(tQ,null,"[ Rotate4 ]")},nt=n(1217),nn=n(5344);function nr(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return no(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var na={epsilon:.001,events:{move:"move",stopMove:"stopMove",gotoPosition:"gotoPosition"},origin:[0,10,0]},ni=function(e){(0,a.IJ)(e,"ThreePanelMobile");var t,n,o,i,l,c,u=e.map,s=!1,f=performance.now(),d=new tU.Vector3;new tU.Vector3,new tU.Color;var p=new nt.E,m=new nn.V,h=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,a,y,v,_,w,b,E,x,k,C;(e=(l=new tU.PerspectiveCamera(75,2,1,1e3)).position).set.apply(e,nr(na.origin)),(o=new tU.Scene).background=new tU.Color(16777215),o.fog=new tU.Fog(16777215,0,750),(r=new tU.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),o.add(r),a=new tU.AxesHelper(5),o.add(a),y=function(e){switch(e.code){case"ArrowUp":case"KeyW":case"ArrowLeft":case"KeyA":case"ArrowDown":case"KeyS":case"ArrowRight":case"KeyD":break;case"Space":!0===s&&(d.y+=350),s=!1}},v=function(e){e.code},document.addEventListener("keydown",y),document.addEventListener("keyup",v),_=function(e){},w=function(e){var t=e.detail,n=t.deltaX,r=t.deltaY,o=new tU.Vector3(n,0,-r);o.normalize(),o.multiplyScalar(.2),d.add(o)},b=function(e){var t,n=e.detail;(t=l.position).set.apply(t,nr(n))},document.addEventListener(na.events.move,w),document.addEventListener(na.events.stopMove,_),document.addEventListener(na.events.gotoPosition,b),t=new tU.Raycaster(new tU.Vector3,new tU.Vector3(0,-1,0),0,10),i=tU.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(E=new tU.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),x=new tU.MeshBasicMaterial({map:i}),k=new tU.Mesh(E,x),o.add(k),u.markers.map(function(e,t){p.load(e.asset3d_path,function(e){o.add(e.scene),m.fromGraphNode(e.scene),e.scene.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.map&&(e.material.map.anisotropy=4))})})}),i=new tU.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tU.WebGLCubeRenderTarget(i.image.height);e.fromEquirectangularTexture(n,i),o.background=e.texture}),(C=new tU.Object3D).name="cameraHolder",(c=new tU.Object3D).add(C),(n=new tU.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),n.setSize(700,350),h.current.appendChild(n.domElement),window.addEventListener("resize",g),function e(){requestAnimationFrame(e),new tU.Vector3;var t=performance.now(),r=(t-f)/1e3;Math.abs(d.x)<na.epsilon?d.x=0:d.x-=10*d.x*r,Math.abs(d.y)<na.epsilon&&(d.y=0),Math.abs(d.z)<na.epsilon?d.z=0:d.z-=10*d.z*r,l.translateX(d.x),l.translateZ(d.z),f=t,n.render(o,l)}(),g()},[]);var g=function(){l.aspect=h.current.clientWidth/h.current.clientHeight,l.updateProjectionMatrix(),n.setSize(h.current.clientWidth,h.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:y}),r.createElement(tF,{ref:h,className:"Blocker"},r.createElement("div",{id:"Crosshair"}),r.createElement(nv,null)))},nl={src:"/_next/static/media/MovementPadBg.93d6840e.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAABlBMVEUACo0AC4z3HtlIAAAAAnRSTlMBISPh7CcAAAAJcEhZcwAALiMAAC4jAXilP3YAAAARSURBVAiZY2DACxgZ0Rk4AAAA2AAFhJR3HAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},nc={src:"/_next/static/media/aim.74012678.svg",height:504,width:504},nu=["children"],ns=["children"];function nf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function np(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}o.ZP.div.withConfig({displayName:"MovementPad___Region",componentId:"sc-it6gu4-0"})(["width:100%;height:100%;background:rgba(126,126,0,.5);"]);var nm=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(n),!0).forEach(function(t){nd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({thresh:.2},na),nh=o.ZP.div.withConfig({displayName:"MovementPad___Handle",componentId:"sc-it6gu4-1"})([""]),n$=function(e){var t=e.children,n=np(e,nu);return r.createElement(nh,Object.assign({className:"Handle"},n),t)},ny=o.ZP.div.withConfig({displayName:"MovementPad___Pad",componentId:"sc-it6gu4-2"})(["top:50px;right:50px;position:absolute;width:100px;height:100px;border:1px solid cyan;"]),ng=function(e){var t=e.children,n=np(e,ns);return r.createElement(ny,Object.assign({className:"MovementPad"},n),t)},nv=function(e){(0,a.IJ)(e,"MovementPad"),function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n,o,i,l=!1,c={},u=(0,r.useRef)(null);u.current&&(c.w=u.current.clientWidth,c.radius=c.w/2,c.h=u.current.clientHeight,c.x=u.current.getBoundingClientRect().x,c.y=u.current.getBoundingClientRect().y,c.centerX=c.x+c.w/2,c.centerY=c.y+c.h/2);var s=function(e){l=!1,g(),h()},f=function(e){l&&p(e.touches[0].pageX,e.touches[0].pageY)},d=function(e){e.persist(),l=!0,p(e.targetTouches[0].pageX,e.targetTouches[0].pageY)},p=function(e,t){o=e-c.x,i=t-c.y,c.centerX=50,c.centerY=50;var n=c.centerX-parseInt(o),r=c.centerY-parseInt(i);n=-2+4*(n- -c.radius)/(c.radius- -c.radius),r=-2+4*(r- -c.radius)/(c.radius- -c.radius),n=Math.round(10*n)/10,r=Math.round(10*r)/10,Math.abs(n)<nm.thresh&&Math.abs(r)<nm.thresh&&(n=0,r=0),h(-n,r,0)},m=new CustomEvent("stopMove",{bubbles:!1});function h(e,r,o){if(!l){clearTimeout(n),document.dispatchEvent(m);return}clearTimeout(t),t=setTimeout(function(){(0,a.IJ)("stopping..."),document.dispatchEvent(m)},200);var i=new CustomEvent(nm.events.move,{detail:{deltaX:e,deltaY:r},bubbles:!1});document.dispatchEvent(i)}var y=function(){var e=new CustomEvent(nm.events.gotoPosition,{detail:nm.origin,bubbles:!1});document.dispatchEvent(e)},g=function(){};return r.createElement(ng,null,r.createElement("div",{className:"Region",style:{width:"100px",height:"100px",background:'center center url("'.concat(nl,'") rgba(255,0,0,.5)')},onTouchEnd:s,onTouchCancel:s,onTouchStart:d,onTouchMove:f,ref:u},r.createElement(n$,null)),r.createElement("img",{style:{width:25,height:25,position:"absolute",right:0,top:125},src:nc,onClick:y}))};function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(t){nb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.ZP.div.withConfig({displayName:"TouchControls__W0",componentId:"sc-dv6ako-0"})(["position:absolute;bottom:10px;left:10px;border:1px solid red;z-index:2;color:white;font-size:2em;"]);var n0=function(e){(0,a.IJ)(e,"TouchControls");var t=e.container,n=e.camera,o=e.options;if(!(null!=t&&t.current))return(0,a.IJ)("no current ref in TouchControls!"),null;var i=nw(nw({},o),{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40}),l=!1,c=[],u=i.maxPitch*Math.PI/180;new tU.Vector3(0,0,0);var s=new tU.Object3D;s.name="cameraHolder",s.add(n),new tU.Object3D().add(s);var f,d,p,m,h=new tU.Vector2;function y(e){l=!1}function g(e,t,n){var n=n||self.config.rotationFactor,r=self.fpsBody.rotation.y-e*n,o=s.rotation.x-t*n;return{rx:o=Math.max(-u,Math.min(u,o)),ry:r}}return $(self.rotationPad).on("YawPitch",function(e){var t=g(e.detail.deltaX,e.detail.deltaY);self.setRotation(t.rx,t.ry)}),t.current.addEventListener("contextmenu",function(e){e.preventDefault()}),t.current.addEventListener("mousedown",function(e){self.enabled&&2===e.button&&(l=!0,e.preventDefault(),e.stopPropagation())}),t.current.addEventListener("mouseup",function(e){self.enabled&&2===e.button&&(l=!1)}),t.current.addEventListener("keydown",function(e){self.enabled&&e.keyCode}),t.current.addEventListener("keyup",function(e){e.keyCode}),t.current.addEventListener("mousemove",function(e){if(h.x=e.clientX/window.innerWidth*2-1,h.y=-(2*(e.clientY/window.innerHeight))+1,self.enabled&&l){var t,n=g(-1*(e.originalEvent.movementX||e.originalEvent.mozMovementX||e.originalEvent.webkitMovementX||0),-1*(e.originalEvent.movementY||e.originalEvent.mozMovementY||e.originalEvent.webkitMovementY||0));self.setRotation(n.rx,n.ry)}}),t.current.addEventListener("mouseout",y),(f=new tU.Matrix4).makeRotationY(0),c.push(f),(d=new tU.Matrix4).makeRotationY(180*Math.PI/180),c.push(d),(p=new tU.Matrix4).makeRotationY(90*Math.PI/180),c.push(p),(m=new tU.Matrix4).makeRotationY(270*Math.PI/180),c.push(m),r.createElement(ne,null)};n0.prototype={addToScene:function(e){this.scene=e,e.add(this.fpsBody)},setPosition:function(e,t,n){this.fpsBody.position.set(e,t,n)},stopMouseMoving:function(){isRightMouseDown=!1},getHitObjects:function(){return hitObjects}};var nE=n0,nx=o.ZP.div.withConfig({displayName:"Equirectangular4__Blocker",componentId:"sc-n47vax-0"})(["border:1px dashed red;position:relative;width:100%;height:100%;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),n8=o.ZP.div.withConfig({displayName:"Equirectangular4__W",componentId:"sc-n47vax-1"})(["border:1px solid blue;height:90vh;"]),n1=function(e){(0,a.IJ)(e,"Equirectangular2");var t=e.map;(0,j.k6)();var n,o,i,l,c,u,s=[],f=(0,r.useContext)(D.Nd),d=f.bottomDrawerOpen,p=f.folded,m=(f.setFolded,f.itemToUnlock,f.setItemToUnlock,f.mapPanelWidth,f.setMapPanelWidth,f.mapPanelHeight,f.setMapPanelHeight,f.ratedConfirmation,f.setRatedConfirmation,f.showItem,f.setShowItem,f.showUrl,f.setShowUrl,f.twofoldPercent),h=(0,r.useRef)(null),y=(0,r.useRef)(null),g=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,f,d,p,m,g,I,O,L;(n=new tU.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tU.Scene).background=new tU.Color(16777215),u.fog=new tU.Fog(16777215,0,750),(e=new tU.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new t9(n,document.body),h.current.addEventListener("click",function(){(0,a.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!0;break;case"ArrowLeft":case"KeyA":w=!0;break;case"ArrowDown":case"KeyS":_=!0;break;case"ArrowRight":case"KeyD":b=!0;break;case"Space":!0===E&&(k.y+=350),E=!1}},f=function(e){switch(e.code){case"ArrowUp":case"KeyW":v=!1;break;case"ArrowLeft":case"KeyA":w=!1;break;case"ArrowDown":case"KeyS":_=!1;break;case"ArrowRight":case"KeyD":b=!1}},document.addEventListener("keydown",r),document.addEventListener("keyup",f),i=new tU.Raycaster(new tU.Vector3,new tU.Vector3(0,-1,0),0,10),d=new tU.AxisHelper(700),u.add(d),p=y.current,(o=new nE({container:p,camera:n,options:{speedFactor:.5,delta:1,rotationFactor:.002,maxPitch:55,hitTest:!0,hitTestDistance:40},RotationPad:rotationPad,THREE:tU})).setPosition(0,35,400),o.addToScene(u),(m=new tU.PlaneGeometry(100,100,10,10)).rotateX(-Math.PI/2),(c=tU.ImageUtils.loadTexture("/assets/textures/100x100_lazer-floor.png")).wrapS=tU.RepeatWrapping,c.wrapT=tU.RepeatWrapping,c.repeat.set(10,10),g=new tU.MeshPhongMaterial({map:c}),I=new tU.Mesh(m,g),u.add(I),O=new tU.TextureLoader,L=t.img_path,c=O.load(L,function(){var e=new tU.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(l,c),u.background=e.texture}),(l=new tU.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(h.current.clientWidth,h.current.clientHeight),h.current.appendChild(l.domElement),window.addEventListener("resize",P),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tU.Vector3(0,0,0)).clone(),a=(i=new tU.Raycaster(n.position,r)).intersectObjects(s,!0);a.length&&(a[0].object,a[0].distance<5&&(v=!1));var c=a.length>0,f=(t-x)/1e3;k.x-=10*k.x*f,k.z-=10*k.z*f,k.y-=9.8*100*f,C.z=Number(v)-Number(_),C.x=Number(b)-Number(w),C.normalize(),(v||_)&&(k.z-=400*C.z*f),(w||b)&&(k.x-=400*C.x*f),!0===c&&(k.y=Math.max(0,k.y),E=!0),o.moveRight(-k.x*f),o.moveForward(-k.z*f),o.getObject().position.y+=k.y*f,o.getObject().position.y<10&&(k.y=0,o.getObject().position.y=10,E=!0)}x=t,l.render(u,n)}()},[]),(0,r.useEffect)(function(){window.dispatchEvent(new Event("resize"))},[d,p,m]);var v=!1,_=!1,w=!1,b=!1,E=!1,x=performance.now(),k=new tU.Vector3,C=new tU.Vector3;function P(){var e,t,r,o;if(e=l.domElement,t=h.current.clientWidth,r=h.current.clientHeight,(o=e.width!==t||e.height!==r)&&l.setSize(t,r),o){var a=h.current.clientWidth,i=h.current.clientHeight;n.aspect=a/i,n.updateProjectionMatrix()}}return new tU.Vector3,new tU.Color,r.createElement(n8,{ref:y},r.createElement("div",{ref:g}),r.createElement(nx,{ref:h},r.createElement("div",{id:"Crosshair"}),r.createElement(ne,null)))},n3=function(e){var t,n,o,i,l,c,u,s=(0,r.useRef)(null);function f(){t.aspect=s.current.clientWidth/s.current.clientHeight,t.updateProjectionMatrix(),l.setSize(s.current.clientWidth,s.current.clientHeight)}return(0,r.useRef)(null),(0,r.useEffect)(function(){var e;(t=new tU.PerspectiveCamera(75,2,.1,1e3)).position.y=10,t.position.z=-10,(u=new tU.Scene).background=new tU.Color(3220255),u.fog=new tU.Fog(16777215,0,750),(e=new tU.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),c=tU.ImageUtils.loadTexture("/assets/textures/2k_mercury.jpeg"),n=new tU.SphereBufferGeometry(1,32,32),o=new tU.MeshBasicMaterial({map:c}),(i=new tU.Mesh(n,o)).position.y=10,i.position.z=-12,u.add(i),(l=new tU.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(700,350),s.current.appendChild(l.domElement),window.addEventListener("resize",f),function e(){requestAnimationFrame(e),i.rotation.y+=35e-5,l.render(u,t)}()},[]),r.createElement(r.Fragment,null,r.createElement(tF,Object.assign({},a.S,{ref:s})))};function n2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nk(e,t){return(nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function n5(e){return(n5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nk(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=n5(t);if(n){var o=n5(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);var r=[];!function e(t){for(var n=0;n<t.length;n++){var o=t[n].box.min,a=t[n].box.max;r.push(a.x,a.y,a.z),r.push(o.x,a.y,a.z),r.push(o.x,a.y,a.z),r.push(o.x,o.y,a.z),r.push(o.x,o.y,a.z),r.push(a.x,o.y,a.z),r.push(a.x,o.y,a.z),r.push(a.x,a.y,a.z),r.push(a.x,a.y,o.z),r.push(o.x,a.y,o.z),r.push(o.x,a.y,o.z),r.push(o.x,o.y,o.z),r.push(o.x,o.y,o.z),r.push(a.x,o.y,o.z),r.push(a.x,o.y,o.z),r.push(a.x,a.y,o.z),r.push(a.x,a.y,a.z),r.push(a.x,a.y,o.z),r.push(o.x,a.y,a.z),r.push(o.x,a.y,o.z),r.push(o.x,o.y,a.z),r.push(o.x,o.y,o.z),r.push(a.x,o.y,a.z),r.push(a.x,o.y,o.z),e(t[n].subTrees)}}(e.subTrees);var o=new tU.BufferGeometry;return o.setAttribute("position",new tU.Float32BufferAttribute(r,3)),(t=i.call(this,o,new tU.LineBasicMaterial({color:n,toneMapped:!1}))).octree=e,t.color=n,t.type="OctreeHelper",t}return r=l,o&&n2(r.prototype,o),a&&n2(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r}(tU.LineSegments),nC=n(2936);function nP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n7(){return(n7="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nI(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function n6(e,t){return(n6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nI(e){return(nI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n6(e,t)}(l,e);var t,n,r,o,a,i=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=nI(t);if(n){var o=nI(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div");return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l),(e=i.call(this)).isCSS2DObject=!0,e.element=t,e.element.style.position="absolute",e.element.style.userSelect="none",e.element.setAttribute("draggable",!1),e.addEventListener("removed",function(){this.traverse(function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})}),e}return r=l,o=[{key:"copy",value:function(e,t){return n7(nI(l.prototype),"copy",this).call(this,e,t),this.element=e.element.cloneNode(!0),this}}],nP(r.prototype,o),a&&nP(r,a),Object.defineProperty(r,"prototype",{writable:!1}),l}(tU.Object3D),new tU.Vector3,new tU.Matrix4,new tU.Matrix4,new tU.Vector3,new tU.Vector3;var nM=function(){var e,t,n;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.resources=new Set}return e=r,t=[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach(function(e){return t.track(e)}),e;if((e.dispose||e instanceof tU.Object3D)&&this.resources.add(e),e instanceof tU.Object3D)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof tU.Material){for(var n=0,r=Object.values(e);n<r.length;n++){var o=r[n];o instanceof tU.Texture&&this.track(o)}if(e.uniforms)for(var a=0,i=Object.values(e.uniforms);a<i.length;a++){var l=i[a];if(l){var c=l.value;(c instanceof tU.Texture||Array.isArray(c))&&this.track(c)}}}return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return nO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nO(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof tU.Object3D&&n.parent&&n.parent.remove(n),n.dispose&&n.dispose()}}catch(r){t.e(r)}finally{t.f()}this.resources.clear()}}],nL(e.prototype,t),n&&nL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),r}(),nS={cm:function(e){return e},m:function(e){return 100*e},centimeters:function(e){return e},meters:function(e){return 100*e}},nN=function(e){(0,a.IJ)(e,"ThreePanelDesktop");var t,n,o,i,l,c,u,s,f=e.map,d=e.slug,p=(0,r.useContext)(a.Il),m=p.useHistory,h=p.scene,y=p.worldOctree,g=p.setWorldOctree,v=p.markers2destinationSlugs,_=(p.setSarkers2destinationSlugs,p.tracked),w=new nM;w.track.bind(w);var b=(0,r.useRef)([]),E=m(),x=new tU.PerspectiveCamera(75,2,nS.cm(10),nS.m(25)),k={},C=new tU.WebGLRenderer({antialias:!0});C.setPixelRatio(window.devicePixelRatio),C.setSize(700,350),C.shadowMap.enabled=!0;var P=nS.m(3),I=nS.m(1),O=nS.m(8),L=(0,r.useRef)(null),M=(0,r.useRef)(null);(0,r.useEffect)(function(){var e;w.dispose(),(0,a.IJ)(h,"init Scene"),e=new tU.AxesHelper(50),h.add(e),x.position.y=nS.m(0),x.position.z=nS.cm(0),(s=new tU.Mesh(U,A)).position.y=I,s.position.x=-nS.m(2),s.position.z=nS.m(3),s.add(x),h.add(s),h.add(j),V(),H(f.config.studio),G(),L.current.appendChild(C.domElement),function e(){var n,r,o,a=performance.now(),i=(a-D)/1e3;!0===t.isLocked&&(r=(n=i)*O,R&&(r*=.8),k.KeyW&&Z.add(B().multiplyScalar(-r)),k.KeyS&&Z.add(B().multiplyScalar(r)),k.KeyA&&Z.add(q().multiplyScalar(r)),k.KeyD&&Z.add(q().multiplyScalar(-r)),R&&k.Space&&(Z.y=nS.m(3),R=!1),o=Math.exp(-4*n)-1,R||(Z.y-=P*n,o*=.1),Z.addScaledVector(Z,o),J(i),Y(),X()),C.render(h,x),D=a,requestAnimationFrame(e)}(),K()},[f.id,d]),new tU.TextureLoader;var S=new nt.E,N=new tU.MeshBasicMaterial({color:16776960}),A=new tU.MeshStandardMaterial;A.wireframe=!0;var T=new nC.s(new tU.Vector3(0,0,0),new tU.Vector3(0,I,0),nS.m(.5));T.translate(new tU.Vector3(-nS.m(2),0,nS.m(3)));var j=new tU.Mesh(new tU.CylinderBufferGeometry(nS.m(.05),nS.m(.025),nS.m(.15),5),N);new nC.s(new tU.Vector3(0,0,0),new tU.Vector3(0,I,0),6),new tU.Mesh(new tU.CylinderBufferGeometry(6,3,I,5),N);var R=!1,D=performance.now(),Z=new tU.Vector3,z=new tU.Vector3,U=new tU.SphereGeometry(5,8,8);window.addEventListener("resize",K);var W=function(e){e instanceof tU.Object3D&&e.parent&&e.parent.remove(e),e.dispose&&e.dispose()},H=function(e){(0,a.IJ)(null,"initStudio"),n=new tU.AmbientLight(16777215,1.1),h.add(n),(n=new tU.DirectionalLight(16777215,1)).position.set(50,100,0),n.target.position.set(0,0,0),h.add(n),h.add(n.target),n.castShadow=!0;var t,n,r=n;r.shadow.camera.bottom=-150,r.shadow.camera.top=150,r.shadow.camera.left=-150,r.shadow.camera.right=150,r.shadow.camera.near=10,r.shadow.camera.far=5e3,r.shadow.camera.updateProjectionMatrix(),(t=r.position).set.apply(t,[0,400,0]),h.add(r),new tU.CameraHelper(r.shadow.camera)},V=function(){t=new t9(s,document.body),L.current.addEventListener("click",function(){(0,a.IJ)("event #click, locked controls"),t.lock()}),t.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),t.addEventListener("unlock",function(){(0,a.IJ)("event #unlock")}),h.add(t.getObject());var e=function(){if(l&&t.isLocked){for((0,a.IJ)(_,"cleaning Up");_.length;){var e=_.pop();(0,a.IJ)(e,"popped"),h.remove(e),W(e)}g(new nn.V),E.push(F.X.location({slug:v[l.uuid].destination_slug}))}};document.addEventListener("keydown",function(e){k[e.code]=!0}),document.addEventListener("keyup",function(e){k[e.code]=!1}),document.addEventListener("click",e),n=new tU.Raycaster(new tU.Vector3,new tU.Vector3(0,-1,0),0,10)},G=function(){var e=new tU.MeshLambertMaterial({color:"black",side:tU.BackSide});e.onBeforeCompile=function(e){e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","\n        vec3 transformed = position + objectNormal*0.06;\n      ")},new tU.MeshPhongMaterial({color:"yellow",side:tU.FrontSide}),b.current=[],f.markers.map(function(t,n){t.asset3d_path&&S.load(t.asset3d_path,function(n){_.push(n.scene),(0,a.IJ)(_,"adding Tracking"),n.scene.position.x=t.x,n.scene.position.y=t.y,n.scene.position.z=t.z,n.scene.scale.multiplyScalar(110);var r=n.scene.clone();r.traverse(function(t){t.material=e}),h.add(r),h.add(n.scene),y.fromGraphNode(n.scene,h),(o=new n4(y)).visible=!1,h.add(o),n.scene.traverse(function(e){e.isMesh&&(t.castShadow&&(e.castShadow=!0),t.receiveShadow&&(e.receiveShadow=!0))}),t.destination_slug&&(b.current.push(n.scene),n.scene.traverse(function(e){e.isMesh&&(e.material.emissive.setHex(65535),v[e.uuid]={destination_slug:t.destination_slug})}))})})};function B(){return s.getWorldDirection(z),z.y=0,z.normalize(),z}function q(){return s.getWorldDirection(z),z.y=0,z.normalize(),z.cross(x.up),z}var J=function(e){i=Z.clone().multiplyScalar(e),T.translate(i),s.position.copy(T.end),j.position.copy(T.end),s.position.y+=Z.y*e,s.position.y<I&&(Z.y=0,s.position.y=I,R=!0)},Y=function(){y&&(u=y.capsuleIntersect(T))&&((R=u.normal.y>0)||Z.addScaledVector(u.normal,-u.normal.dot(Z)),T.translate(u.normal.multiplyScalar(u.depth)))},X=function(){var e=x.position.clone();e.applyMatrix4(x.matrixWorld);var t=new tU.Vector3;x.getWorldDirection(t),t.normalize();var r=(n=new tU.Raycaster(e,t)).intersectObjects(b.current,!0);l&&(l.material.emissive.setHex(c),l=void 0),r.length&&(c=(l=r[0].object).material.emissive.getHex(),l.material.emissive.setHex(16776960))},K=function(){x.aspect=L.current.clientWidth/L.current.clientHeight,x.updateProjectionMatrix(),C.setSize(L.current.clientWidth,L.current.clientHeight)};return r.createElement(r.Fragment,null,r.createElement("div",{ref:M,className:"Instructions empty"}),r.createElement(tF,{ref:L,className:"Blocker"},r.createElement("div",{id:"Crosshair"})))};o.ZP.div.withConfig({displayName:"ThreePanelV1__Blocker",componentId:"sc-tdhfy-0"})(["height:calc(100% - ",");"],function(e){return e.theme.breadcrumbsHeight}),o.ZP.div.withConfig({displayName:"ThreePanelV2__Blocker",componentId:"sc-123lz9r-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),n(5079),o.ZP.div.withConfig({displayName:"ThreePanelV3__Blocker",componentId:"sc-1x7r1h8-0"})(["position:relative;width:100%;height:100%;"]);var nA=n(6023),nT=o.ZP.div.withConfig({displayName:"ThreePanelV4__Blocker",componentId:"sc-mpzgez-0"})(["border:2px solid red;position:relative;width:700px;height:350px;#Crosshair{width:50px;height:50px;position:absolute;left:50%;top:50%;color:white;::before{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;transform:rotate(90deg);}::after{content:'';position:absolute;border-color:white;border-style:solid;border-width:0 0.1em 0 0;height:1em;top:0em;left:0.3em;}}"]),nj=function(e){(0,a.IJ)(e,"ThreePanelV4");var t=e.map;(0,j.k6)();var n,o,i,l,c,u,s=[],f=[],d=(0,r.useRef)(null),p=(0,r.useRef)(null);(0,r.useEffect)(function(){var e,r,p,x,k,C,P,I,O,L,M;(n=new tU.PerspectiveCamera(75,2,1,1e3)).position.y=10,(u=new tU.Scene).background=new tU.Color(16777215),u.fog=new tU.Fog(16777215,0,750),(e=new tU.HemisphereLight(15658751,7829384,.75)).position.set(.5,1,.75),u.add(e),o=new t9(n,document.body),d.current.addEventListener("click",function(){(0,a.IJ)("locked controls"),o.lock()}),o.addEventListener("lock",function(){(0,a.IJ)("event #lock")}),o.addEventListener("unlock",function(){}),u.add(o.getObject()),r=new tU.ShaderMaterial({uniforms:{main_color:{value:{r:1,g:1,b:1}},border_color:{value:{r:0,g:0,b:.1}},thickness:{value:.006},height:{value:.13},offset:{value:.05},border:{value:.003},opacity:{value:1},center:{value:{x:.5,y:.5}},rotation:{value:0}},vertexShader:"\n                uniform float rotation;\n                uniform vec2 center;\n                #include <common>\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n                    vec2 scale;\n                    scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n                    scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n                    #ifndef USE_SIZEATTENUATION\n                        bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n                        if ( isPerspective ) scale *= - mvPosition.z;\n                    #endif\n                    vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n                    vec2 rotatedPosition;\n                    rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n                    rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n                    mvPosition.xy += rotatedPosition;\n                    gl_Position = projectionMatrix * mvPosition;\n                }\n            ",fragmentShader:"\n            uniform vec3 main_color;\n            uniform vec3 border_color;\n            uniform float opacity;\n\n            uniform float thickness;\n            uniform float height;\n            uniform float offset;\n            uniform float border;\n\n            varying vec2 vUv;\n            void main() {\n\n                float a = (step(abs(vUv.x - 0.5), thickness)) * step(abs(vUv.y - 0.5), height + offset) * step(offset, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness)) * step(abs(vUv.x - 0.5), height + offset) * step(offset, abs(vUv.x - 0.5));\n                float b = (step(abs(vUv.x - 0.5), thickness - border)) * step(abs(vUv.y - 0.5), height + offset - border) * step(offset + border, abs(vUv.y - 0.5)) + (step(abs(vUv.y - 0.5), thickness - border)) * step(abs(vUv.x - 0.5), height + offset - border) * step(offset + border, abs(vUv.x - 0.5));\n                gl_FragColor = vec4( mix(border_color, main_color, b), a * opacity);\n            }\n        ",transparent:!0}),new tU.Sprite(r),p=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!0;break;case"ArrowLeft":case"KeyA":y=!0;break;case"ArrowDown":case"KeyS":h=!0;break;case"ArrowRight":case"KeyD":g=!0;break;case"Space":!0===v&&(w.y+=350),v=!1}},x=function(e){switch(e.code){case"ArrowUp":case"KeyW":m=!1;break;case"ArrowLeft":case"KeyA":y=!1;break;case"ArrowDown":case"KeyS":h=!1;break;case"ArrowRight":case"KeyD":g=!1}},document.addEventListener("keydown",p),document.addEventListener("keyup",x),i=new tU.Raycaster(new tU.Vector3,new tU.Vector3(0,-1,0),0,10),c=tU.ImageUtils.loadTexture("/assets/textures/moon-1.jpg"),(k=new tU.CircleGeometry(1e3,32)).rotateX(-Math.PI/2),C=new tU.MeshBasicMaterial({map:c}),P=new tU.Mesh(k,C),u.add(P),I=new tU.LoadingManager,(O=new nA.v(I)).setPath("/assets/textures/"),L=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t,2)+"% downloaded")}},M=function(){},t.markers.map(function(e,t){var n,r,o=e.slug,i="".concat(o,"/").concat(o,".mtl"),l="".concat(o,"/").concat(o,".obj");O.load(i,(n=l,r=o,function(e){e.preload();var t=new tD.L(I);t.setMaterials(e),t.setPath("/assets/objects/"),t.load(n,function(e){e.traverse(function(e){e.isMesh&&e.geometry.scale(10,10,10)}),e.position.x=100*Math.random(),e.position.y=10,e.position.z=100*Math.random(),(0,a.IJ)(e,"loaded obj"),u.add(e),s.push(e),f.push({uuid:e.uuid,name:r})},L,M)}))}),c=new tU.TextureLoader().load("/assets/textures/space-5.jpg",function(){var e=new tU.WebGLCubeRenderTarget(c.image.height);e.fromEquirectangularTexture(l,c),u.background=e.texture}),(l=new tU.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),l.setSize(700,350),d.current.appendChild(l.domElement),window.addEventListener("resize",E),function e(){requestAnimationFrame(e);var t=performance.now();if(!0===o.isLocked){var r=o.getDirection(new tU.Vector3(0,0,0)).clone(),a=(i=new tU.Raycaster(n.position,r)).intersectObjects(s,!0);a.length&&a[0].object;var c=a.length>0,f=(t-_)/1e3;w.x-=10*w.x*f,w.z-=10*w.z*f,w.y-=9.8*100*f,b.z=Number(m)-Number(h),b.x=Number(g)-Number(y),b.normalize(),(m||h)&&(w.z-=400*b.z*f),(y||g)&&(w.x-=400*b.x*f),!0===c&&(w.y=Math.max(0,w.y),v=!0),o.moveRight(-w.x*f),o.moveForward(-w.z*f),o.getObject().position.y+=w.y*f,o.getObject().position.y<10&&(w.y=0,o.getObject().position.y=10,v=!0)}_=t,l.render(u,n)}()},[]);var m=!1,h=!1,y=!1,g=!1,v=!1,_=performance.now(),w=new tU.Vector3,b=new tU.Vector3;function E(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)}return new tU.Vector3,new tU.Color,r.createElement(r.Fragment,null,r.createElement("div",{ref:p}),r.createElement(nT,{ref:d},r.createElement("div",{id:"Crosshair"})))},nR=o.ZP.div.withConfig({displayName:"LocationsShowMobile3d__W",componentId:"sc-1mparkt-0"})([""]),nD=function(e){(0,a.IJ)(e,"LocationsShowMobile3d");var t=e.location,n=e.match,o=(0,r.useRef)(null);return r.createElement(nR,{className:"LocationsShowMobile3d"},t&&r.createElement(ni,{map:t.map||t,ref:o,slug:n.params.slug}))};function nZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var nz=o.ZP.div.withConfig({displayName:"MapPanel__Actions",componentId:"sc-1dfbrdt-0"})(["border:1px solid red;position:absolute;top:0;right:0;z-index:2;"]),nF=o.ZP.div.withConfig({displayName:"MapPanel__W0",componentId:"sc-1dfbrdt-1"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:",";height:100%;display:flex;align-items:center;justify-content:center;position:relative;"],function(e){return e.theme.colors.background}),nU=o.ZP.div.withConfig({displayName:"MapPanel__W1",componentId:"sc-1dfbrdt-2"})(["display:flex;align-items:center;justify-content:center;position:relative;height:100%;"]),nW=function(e){var t,n=e.map,o=(0,r.useContext)(D.Nd),i=(o.bottomDrawerOpen,o.editorMode),l=o.mapPanelWidth,c=o.mapPanelHeight,u=o.zoom,s=o.setZoom,f=(0,r.useContext)(t$),d=(f.markerModalOpen,f.setMarkerModalOpen),p=(0,(0,r.useContext)(a.Il).useHistory)(),m=function(e){if(Array.isArray(e))return e}(t=(0,a.iP)())||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return nZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nZ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1];(0,r.useEffect)(function(){if(0!==h){var e,t=Math.min(h/n.w,y/n.h);s(t+=.01)}},[l,c,n.id,h,y]);var g=[];return e.map.markers.map(function(e,t){var n=r.createElement("div",{key:t,onClick:function(){return p.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:e.y*u,left:e.x*u,zIndex:2}},r.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w*u,"px"),maxHeight:"".concat(e.h*u,"px"),width:"auto",height:"auto"}}));g.push(n)}),r.createElement(nF,{className:"W0 MapPanel"},i&&r.createElement(nz,null,r.createElement(a.Zb,{onClick:function(){return d(!0)}},"+ Marker")),r.createElement(nU,{className:"W1"},r.createElement("img",{src:n.img_path,style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",position:"relative",zIndex:0}}),g))},nH=o.ZP.div.withConfig({displayName:"WrappedMapPanel__W0",componentId:"sc-ahks14-0"})(["overflow:hidden;flex-grow:1;"]),nV=o.ZP.div.withConfig({displayName:"WrappedMapPanel__FW",componentId:"sc-ahks14-1"})([""]),nG=r.forwardRef(function(e,t){switch((0,a.IJ)(e,"WrappedMapPanel"),!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e),e.map.config.map_panel_type){case a.C.map_panel_types.Equirectangular:return r.createElement(nH,{ref:t,className:"Equirectangular4"},r.createElement(n1,e));case a.C.map_panel_types.MapPanel:return r.createElement(nH,{ref:t,className:"WrappedMapPanel"},r.createElement(nW,Object.assign({withZoom:!1},e)));case a.C.map_panel_types.ThreePanelV1:return r.createElement(nN,e);case a.C.map_panel_types.ThreePanelV1Fullscreen:return r.createElement(nV,{ref:t,className:"FW"},r.createElement(nN,e));case a.C.map_panel_types.TabiversePlanet:return r.createElement(nH,null,r.createElement(n3,e));case a.C.map_panel_types.ThreePanelV4:return r.createElement(nH,null,r.createElement(nj,e));case a.C.map_panel_types.GoogleMaps:return r.createElement(nH,null,r.createElement(E,e));case a.C.map_panel_types.ConferenceRoom:return r.createElement(nH,null,r.createElement(l,e));default:return r.createElement(nH,{ref:t,className:"WrappedMapPanel"},r.createElement(nW,e))}});o.ZP.div.withConfig({displayName:"ZoomCtrl__W",componentId:"sc-xo781b-0"})(["position:absolute;top:0;right:0;z-index:1;background:white;padding:5px;display:flex;flex-direction:column;"])},3204:function(e,t,n){"use strict";n.d(t,{v:function(){return u},X:function(){return h}});var r=n(7294),o=n(9430),a=n(2661),i=o.ZP.div.withConfig({displayName:"ReportsForm__Actions",componentId:"sc-zt7bri-0"})([""]),l=o.ZP.div.withConfig({displayName:"ReportsForm__W0",componentId:"sc-zt7bri-1"})([""]),c=function(e){return e.item,r.createElement(l,null,r.createElement("h1",null,"Report Form (@TODO: remove)"),r.createElement("form",null,r.createElement(a.gq,null,r.createElement("input",{type:"text",name:"name"})," name"),r.createElement(a.gq,null,r.createElement("textarea",{name:"name"})," subhead"),r.createElement(a.gq,null,"item_type: default? longscroll?"),r.createElement(a.gq,null,"@TODO: editable slug, the fucking slug hasn't been solved in 10 years!"),r.createElement(a.gq,null,"@TODO: premium tier"),r.createElement(a.gq,null,"@TODO: tags"),r.createElement(a.gq,null,"public?"),r.createElement("textarea",null)," description",r.createElement(i,null,r.createElement("button",{type:"submit"},"Create"))))};c.propTypes={};var u=c,s=n(5697),f=n.n(s),d=n(8085),p=o.ZP.div.withConfig({displayName:"ReportsShow__W0",componentId:"sc-1gldjyo-0"})([""]),m=function(e){(0,d.IJ)(e,"ReportsShow");var t,n,o=e.item,a=o.descr;return null!==(t=o.raw_json)&&void 0!==t&&null!==(n=t.content)&&void 0!==n&&n.rendered&&(a=o.raw_json.content.rendered),r.createElement(p,null,r.createElement("h1",null,o.name),r.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a}}))};m.propTypes={item:f().object.isRequired};var h=m},5502:function(e,t,n){"use strict";n.d(t,{mR:function(){return j},di:function(){return ey},RD:function(){return ev},pu:function(){return ed}});var r=n(9895);n(4524);var o=n(7294),a=n(9430),i=n(5553),l=n.n(i),c=n(2947),u=n(8085),s=n(773),f=n(2634),d=n(7114),p=n(6076),m=n(8816),h=n(1749),y=n(3727),g=n(179),v=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),_=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new C(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return I()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=E(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(b.prototype),l(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function b(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){b(a,r,o,i,l,"next",e)}function l(e){b(a,r,o,i,l,"throw",e)}i(void 0)})}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||O(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=r.dV.isPluginAvailable("PushNotifications"),S="0x4bE9765Ca063E73E0aaEd227fd6731473508DbE0",N="0xffa52d00685aC60e65457922aEae2c2783c0cB0E",A=function(){return o.createElement("div",null,"PasswordLogin - @TODO: remove")},T=a.ZP.div.withConfig({displayName:"Account__LoginRow",componentId:"sc-xdfxzq-0"})(["display:flex;> *{margin:auto .4em;}"]),j=function(e){var t=(0,o.useContext)(c.Nd),n=t.currentUser;t.setCurrentUser;var r,a=I((0,o.useState)(""),2),i=a[0],l=a[1],b=I((0,o.useState)([]),2),x=b[0],C=b[1],O=I((0,o.useState)(""),2),L=O[0],j=O[1],R=function(){},D=function(){s.V.register(),s.V.addListener("registration",function(e){Z("Push registration success")}),s.V.addListener("registrationError",function(e){alert("Error on registration: "+JSON.stringify(e))}),s.V.addListener("pushNotificationReceived",function(e){var t=e;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"foreground"})])})}),s.V.addListener("pushNotificationActionPerformed",function(e){var t=e.nofitication;C(function(e){return[].concat(P(e),[k(k({},t),{},{type:"action"})])})})},Z=(r=E(w().mark(function e(t){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.F.show({text:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});function z(){return F.apply(this,arguments)}function F(){return(F=E(w().mark(function e(){return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return W.apply(this,arguments)}function W(){return(W=E(w().mark(function e(){var t,n,r;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=13;break}return t=new d.Q(window.ethereum),n=new p.CH(S,v.Mt,t),e.prev=3,e.next=6,n.greet();case 6:l(r=e.sent),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}))).apply(this,arguments)}function H(){return(H=E(w().mark(function e(){var t,n,r,o,a,i;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return r=(n=I(t=e.sent,1))[0],o=new d.Q(window.ethereum),a=new p.CH(N,_.Mt,o),e.next=10,a.balanceOf(r);case 10:i=e.sent,console.log("Balance: ",i.toString());case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(){return(V=E(w().mark(function e(){var t,n,r,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(!(void 0!==window.ethereum)){e.next=14;break}return e.next=5,z();case 5:return n=(t=new d.Q(window.ethereum)).getSigner(),r=new p.CH(S,v.Mt,n),e.next=10,r.setGreeting(i);case 10:return o=e.sent,e.next=13,o.wait();case 13:U();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(){return(G=E(w().mark(function e(){var t,n,r,o;return w().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(void 0!==window.ethereum)){e.next=12;break}return e.next=3,z();case 3:return n=(t=new d.Q(window.ethereum)).getSigner(),r=new p.CH(N,_.Mt,n),e.next=8,r.transfer(userAccount,amount);case 8:return o=e.sent,e.next=11,o.wait();case 11:console.log("".concat(amount," Coins successfully sent to ").concat(userAccount));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,o.useEffect)(function(){M&&s.V.checkPermissions().then(function(e){"granted"===e.receive?D():s.V.requestPermissions().then(function(e){"denied"===e.receive?Z("Push Notification permission denied"):(Z("Push Notification permission granted"),D())})})},[]),o.createElement(m._i,null,o.createElement(h.Z,{container:!0},o.createElement(g.fv,{variant:u.C.variants.inline}),o.createElement("h1",null,"Account")),o.createElement(m.W2,{className:"ion-padding"},o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:12},o.createElement(h.Z,{container:!0},o.createElement(h.Z,{item:!0,xs:6},o.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"}),o.createElement("div",null,o.createElement("button",{onClick:U},"Fetch Greeting"),o.createElement("br",null),o.createElement("button",{onClick:function(){return V.apply(this,arguments)}},"Set Greeting"),o.createElement("br",null),o.createElement("input",{value:i,onChange:function(e){return l(e.target.value)},placeholder:"Set greeting"})),o.createElement("hr",null),o.createElement("div",null,o.createElement("button",{onClick:function(){return H.apply(this,arguments)}},"Get Balance"),o.createElement("br",null),o.createElement("button",{onClick:function(){return G.apply(this,arguments)}},"Send Coins"),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setUserAccount(e.target.value)},placeholder:"Account ID"}),o.createElement("br",null),o.createElement("input",{onChange:function(e){return setAmount(e.target.value)},placeholder:"Amount"}))),o.createElement(h.Z,{item:!0,xs:6},!!n&&o.createElement(o.Fragment,null,o.createElement("h4",null,n.email),o.createElement("ul",null,o.createElement("li",null,o.createElement(y.rU,{to:"/en/account/my/galleries"},"My Galleries")),o.createElement("li",null,o.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),o.createElement("li",null,o.createElement(ev,null))))||o.createElement(o.Fragment,null,o.createElement("h4",null,"Not logged in"),o.createElement(T,null,o.createElement(ey,null),o.createElement(A,null))))),o.createElement(h.Z,{container:!0,spacing:2},o.createElement(h.Z,{item:!0,xs:6},o.createElement("textarea",{value:L,onChange:j}),o.createElement("button",{type:"submit",onClick:R},"Save Scratchpad"))))),o.createElement("hr",null),x.length&&o.createElement(m.q_,null,x.map(function(e){return o.createElement(m.Ie,{key:e.id},o.createElement(m.Q$,null,o.createElement(m.yW,null,o.createElement("h3",{className:"notif-title"},e.title)),o.createElement("p",null,e.body),"foreground"===e.type&&o.createElement("p",null,"This data was received in foreground"),"action"===e.type&&o.createElement("p",null,"This data was received on tap")))}))||"no notifications so far"),o.createElement(m.fr,null,o.createElement(m.sr,null,M&&o.createElement(m.YG,{color:"success",expand:"full",onClick:D},"Register for Push")||o.createElement("div",null,o.createElement("h1",null,"Push notifications not available")))))},R=n(1139),D=n(9067),Z=n(2132);n(888),n(7918);var z=n(7044),F=n(9857),U=n(2661),W=n(6120);n(6730);var H=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"player","type":"address"},{"internalType":"string","name":"tokenURI","type":"string"}],"name":"awardToken","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint256","name":"_idx","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"tokensOfOwner","outputs":[{"internalType":"uint256[]","name":"ownerTokens","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),V=["children"],G=["fill","w","h"];function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function q(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function J(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){q(a,r,o,i,l,"next",e)}function l(e){q(a,r,o,i,l,"throw",e)}i(void 0)})}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var K=a.ZP.div.withConfig({displayName:"MyAccountWidget__FlexCol",componentId:"sc-1lfqp20-0"})(["display:flex;flex-direction:column;"]),Q=a.ZP.div.withConfig({displayName:"MyAccountWidget__FlexRow",componentId:"sc-1lfqp20-1"})(["display:flex;flex-wrap:wrap;"]),ee=(0,a.ZP)(D.Z).withConfig({displayName:"MyAccountWidget__Edit",componentId:"sc-1lfqp20-2"})(["font-size:18px;position:absolute;top:2px;right:2px;cursor:pointer;"]),et=a.ZP.div.withConfig({displayName:"MyAccountWidget___Img",componentId:"sc-1lfqp20-3"})(["border:1px solid #333333;border-radius:4px;position:relative;width:90px;height:90px;margin:5px;margin-right:",";background-image:url('","');background-size:cover;"],function(e){return e.theme.smallWidth},function(e){return e.src}),en=function(e){var t=e.src,n=function(){(0,Z.Am)("Editing your avatar is not yet implemented")};return o.createElement(et,{src:t},o.createElement(ee,{onClick:n}))},er=new F._k,eo=a.ZP.div.withConfig({displayName:"MyAccountWidget___CoinManager",componentId:"sc-1lfqp20-4"})(["display:flex;"]),ea=function(e){var t=e.children,n=X(e,V);return o.createElement(eo,Object.assign({className:"CoinManager"},n),t)},ei=a.ZP.div.withConfig({displayName:"MyAccountWidget__W0",componentId:"sc-1lfqp20-5"})(["display:flex;justify-content:flex-start;align-items:center;"]),el=a.ZP.div.withConfig({displayName:"MyAccountWidget__W1",componentId:"sc-1lfqp20-6"})([""]),ec=function(e){return o.createElement(u.un,e,"Register with Email")},eu=function(e){return o.createElement(u.un,e,"Login with Email")},es=function(e){var t=e.fill,n=e.w,r=e.h,a=X(e,G);return n=n||"12px",r=r||"12px",t=t||"#333333",o.createElement("span",a,o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 96.943 96.943",style:{enableBackground:"new 0 0 96.943 96.943"}},o.createElement("g",null,o.createElement("g",null,o.createElement("path",{d:"M61.168,83.92H11.364V13.025H61.17c1.104,0,2-0.896,2-2V3.66c0-1.104-0.896-2-2-2H2c-1.104,0-2,0.896-2,2v89.623 c0,1.104,0.896,2,2,2h59.168c1.105,0,2-0.896,2-2V85.92C63.168,84.814,62.274,83.92,61.168,83.92z"})," ",o.createElement("path",{d:"M96.355,47.058l-26.922-26.92c-0.75-0.751-2.078-0.75-2.828,0l-6.387,6.388c-0.781,0.781-0.781,2.047,0,2.828 l12.16,12.162H19.737c-1.104,0-2,0.896-2,2v9.912c0,1.104,0.896,2,2,2h52.644L60.221,67.59c-0.781,0.781-0.781,2.047,0,2.828 l6.387,6.389c0.375,0.375,0.885,0.586,1.414,0.586c0.531,0,1.039-0.211,1.414-0.586l26.922-26.92 c0.375-0.375,0.586-0.885,0.586-1.414C96.943,47.941,96.73,47.433,96.355,47.058z"})," ")," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null," ")," ",o.createElement("g",null),o.createElement("g",null),o.createElement("g",null)))},ef=function(e){!function(e){if(null==e)throw TypeError("Cannot destructure undefined")}(e);var t,n=(0,o.useContext)(U.Vo),r=n.currentUser,a=n.setCurrentUser,i=(n.loginModalOpen,n.setLoginModalOpen),l=n.useApi,s=(0,o.useContext)(c.Nd),f=(s.editorMode,s.setEditorMode,s.purchaseModalOpen,s.setPurchaseModalOpen),m=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)("https://d15g8hc4183yn4.cloudfront.net/wp-content/uploads/2022/09/05174137/20220904-PFP.jpg"))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],y=m[1],v=l(),_=(0,z.Ge)(),w=_.active,b=_.account,E=(_.library,_.connector,_.activate),x=_.deactivate;function k(){return(k=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(er);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,u.IJ)(e.t0,"could not connect");case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function C(){return(C=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{x()}catch(t){console.log(t)}case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var P,I,O=(P=J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}},e)})),function(){return P.apply(this,arguments)}),L=(I=J(B().mark(function e(){var t,n,r,o,a,i;return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=15;break}return e.next=3,O();case 3:if(!b){e.next=15;break}return n=(t=new d.Q(window.ethereum)).getSigner(),r=new p.CH("0x3e1a03a9e1682f4dd95413e0be69e5b7bccaf15d",H.Mt,n),e.next=9,r.tokensOfOwner(b);case 9:return o=e.sent,a=0,e.next=13,r.tokenURI(o[a]);case 13:i=e.sent,u.WY.get(i).then(function(e){return e.data.image}).then(function(e){y(e)});case 15:case"end":return e.stop()}},e)})),function(){return I.apply(this,arguments)});(0,o.useEffect)(function(){J(B().mark(function e(){return B().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,v.getMyAccount();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[]);var M=function(){a(u.C.anonUser),localStorage.removeItem("jwt_token"),window.location.reload(!1)};return o.createElement(ei,{className:"MyAccountWidget"},(null==r?void 0:r.email)&&o.createElement(en,{src:(null==r?void 0:r.profile_photo_url)||h}),o.createElement(K,null,o.createElement(Q,null,r.email&&o.createElement(ea,null,"[\xa0",void 0===r.n_unlocks?"?":r.n_unlocks," coins\xa0",o.createElement(R.Z,{onClick:function(){return f(!0)}}),"\xa0]"),null!=r&&r.email?o.createElement(Q,null,"[\xa0",o.createElement("a",{href:W.X.location({slug:"self"})},r.email),"\xa0",o.createElement(es,{onClick:M}),"\xa0]"):o.createElement(Q,null,o.createElement(ec,{onClick:function(){setRegisterModalOpen(!0)}}),o.createElement(eu,{onClick:function(){i(!0)}}))),o.createElement(Q,null,w&&o.createElement(el,null," [",o.createElement("span",null,"Connected with ",o.createElement("b",null,b)),o.createElement("button",{onClick:function(){return C.apply(this,arguments)}},"Disconnect"),o.createElement("button",{onClick:L},"myBodies")," ]"),!w&&o.createElement(el,null,o.createElement("span",null,"Not Connected"),o.createElement("button",{onClick:function(){return k.apply(this,arguments)}},"Connect to MetaMask")))),o.createElement(g.to,null))};ef.propTypes={};var ed=ef;function ep(){ep=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new k(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return P()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=b(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function em(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}var eh=r.Vn.FacebookLogin,e$=["email"],ey=function(e){var t,n,r=(0,u.h_)(),a=(0,o.useContext)(c.Nd),i=(a.currentUser,a.setCurrentUser),s=(n=(t=ep().mark(function e(){var t;return ep().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eh.login({permissions:e$});case 2:(t=e.sent).accessToken?u.WY.post("".concat(l().apiOrigin).concat(r.longTermTokenPath),{accessToken:t.accessToken.token}).then(function(e){localStorage.setItem(u.C.jwt_token,e.data.jwt_token),i(e.data)}).catch(function(e){(0,u.IJ)(e,"Could not post request to ".concat(l().apiOrigin).concat(r.longTermTokenPath))}):(0,u.IJ)("canceled");case 4:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){em(a,r,o,i,l,"next",e)}function l(e){em(a,r,o,i,l,"throw",e)}i(void 0)})}),function(){return n.apply(this,arguments)});return o.createElement(u.un,{onClick:s},"FB Login")},eg=a.ZP.span.withConfig({displayName:"users__BuyBtn",componentId:"sc-b80luh-0"})(["border:1px solid ",";padding:5px;cursor:pointer;"],function(e){return e.theme.colors.text}),ev=function(){var e=(0,o.useContext)(c.Nd),t=(e.currentUser,e.setCurrentUser),n=function(){localStorage.removeItem(u.C.jwt_token),t({})};return o.createElement(eg,{onClick:n},"X")};a.ZP.div.withConfig({displayName:"users___W",componentId:"sc-b80luh-1"})(["display:flex;> *{}"])},8085:function(e,t,n){"use strict";n.d(t,{Il:function(){return P},wI:function(){return O},a5:function(){return ec},un:function(){return eu},C:function(){return d},Zb:function(){return ep},s$:function(){return es},_Q:function(){return ef},gb:function(){return e$},Oq:function(){return eg},S:function(){return H},Ni:function(){return K},f6:function(){return Q},xP:function(){return ew},XO:function(){return N.X},$z:function(){return em},IJ:function(){return ey},KW:function(){return ev},WY:function(){return R},h_:function(){return S},iP:function(){return et}});var r=n(8903),o=n(8816),a=n(5477),i=n(253),l=n(2156),c=n(1990),u=n(1587),s=n(7294),f=n(9430),d={actions:{new:"new",show:"show"},anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",newsitems:"newsitems-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",location:"::Gameui::Map",report:"Report",photo:"Photo",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{ConferenceRoom:"ConferenceRoom",Equirectangular:"Equirectangular",GoogleMaps:"GoogleMaps",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",TabiversePlanet:"TabiversePlanet",ThreePanelV1:"ThreePanelV1",ThreePanelV1Fullscreen:"ThreePanelV1Fullscreen",ThreePanelV4:"ThreePanelV4"},names:{editorMode:"editorMode"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",ref:{init:"init",loading:"loading"},theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical",vote_values:{up:"up",down:"down"}},p=n(2406),m=n(6775),h=n(2132),y=n(2212),g=n(5344),v=n(2661),_=n(2947),w=["children"];function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(c){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o,a,i,l,c=Object.create((t&&t.prototype instanceof d?t:d).prototype),u=new C(r||[]);return c._invoke=(o=e,a=n,i=u,l="suspendedStart",function(e,t){if("executing"===l)throw Error("Generator is already running");if("completed"===l){if("throw"===e)throw t;return I()}for(i.method=e,i.arg=t;;){var n=i.delegate;if(n){var r=E(n,i);if(r){if(r===f)continue;return r}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===l)throw l="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);l="executing";var c=s(o,a,i);if("normal"===c.type){if(l=i.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(l="completed",i.method="throw",i.arg=c.arg)}}),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=u;var f={};function d(){}function p(){}function m(){}var h={};l(h,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(P([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=m.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,l){var c=s(e[o],e,a);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,l)})}l(c.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=TypeError("The iterator does not provide a 'throw' method")}return f}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=m,l(v,"constructor",m),l(m,"constructor",p),p.displayName=l(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},_(w.prototype),l(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},_(v),l(v,i,"Generator"),l(v,o,function(){return this}),l(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function E(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(u){n(u);return}l.done?t(c):Promise.resolve(c).then(r,o)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=(0,s.useContext)(v.Vo).setCurrentUser,n=function(e){ey(e,"cannot login!"),(0,h.Am)("cannot login!")},r=function(e){ey("Logged in successfully."),t(e)};return s.createElement(v._A,{onError:n,onSuccess:r})},P=s.createContext({}),I=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,w);ey(n,"AppProvider");var r,o,a=n.useHistory,i=void 0===a?m.k6:a,l=x((0,s.useState)(null),2),c=l[0],u=l[1];(o=(r=b().mark(function e(){var t;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.A.getInfo();case 2:u((t=e.sent).operatingSystem);case 4:case"end":return e.stop()}},e)}),function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(e){E(a,n,o,i,l,"next",e)}function l(e){E(a,n,o,i,l,"throw",e)}i(void 0)})}),function(){return o.apply(this,arguments)})();var f=x((0,s.useState)(new y.Scene),2),h=f[0];f[1];var k=x((0,s.useState)([]),2),I=k[0],O=k[1],L=x((0,s.useState)({}),2),M=L[0],N=L[1],A=x((0,s.useState)(new g.V),2),T=A[0],j=A[1],R=function(){},D=x((0,s.useState)(d.layout_gameui),2),Z=D[0],z=D[1];return s.createElement(P.Provider,{value:{os:c,useHistory:i,layout:Z,setLayout:z,scene:h,tracked:I,setTracked:O,worldOctree:T,setWorldOctree:j,pickingObjects:[],setPickingObjects:R,markers2destinationSlugs:M,setMarkers2destinationSlugs:N}},s.createElement(Q,null,s.createElement(v.HD,{useApi:S},s.createElement(_.AO,null,s.createElement(_.h9,null,t,s.createElement(C,null),s.createElement(v.Kt,null))))))};I.propTypes={};var O=I,L=n(5553),M=n.n(L),S=function(){var e;try{e=localStorage.getItem(d.jwt_token)}catch(t){ey(t,"Api cannot access localStorage")}return{deleteNewsitem:function(t){var n=t.id;return R.delete("".concat(M().apiOrigin,"/api/newsitems/").concat(n,"?jwt_token=").concat(e)).then(function(e){return e.data}).then(function(e){return e})},doRegister:function(e){var t=e.email,n=e.password;return R.post("".concat(M().apiOrigin,"/api/users/register"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return ey(e,"done registered"),e})},doUnlock:function(e){var t=e.kind,n=e.id,r=localStorage.getItem("jwt_token"),o="/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(r);return R.post("".concat(M().apiOrigin).concat(o)).then(function(e){return e.data})},getCities:function(){return R.get("".concat(M().apiOrigin,"/api/cities")).then(function(e){return e.data})},getCity:function(e){return R.get("".concat(M().apiOrigin,"/api/cities/view/").concat(e))},getGallery:function(t){return R.get("".concat(M().apiOrigin,"/api/galleries/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.gallery})},getLocation:function(t){var n=t.newsitems_page,r=t.slug;return R.get("/api/maps/view/".concat(r,"?jwt_token=").concat(e,"&newsitems_page=").concat(n)).then(function(e){return e.data}).then(function(e){return e.map}).catch(function(e){return e})},getMyAccount:function(){return R.post("/api/my/account",{jwt_token:e}).then(function(e){return e.data}).catch(function(e){return d.anonUser})},getPhoto:function(t){return R.get("".concat(M().apiOrigin,"/api/photos/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.photo})},getReport:function(t){return R.get("".concat(M().apiOrigin,"/api/reports/view/").concat(t,"?jwt_token=").concat(e)).then(function(e){return e.data.report})},getTag:function(e){return R.get("".concat(M().apiOrigin,"/api/tags/view/").concat(e.slug)).then(function(e){return e.data})},initPayment:function(t){return R.post("".concat(M().apiOrigin,"/api/payments2"),{jwt_token:e,amount_cents:t.amountCents}).then(function(e){return e.data})},longTermTokenPath:"/api/users/long_term_token",postLogin:function(e){var t=e.email,n=e.password;return R.post("".concat(M().apiOrigin,"/api/users/login.json"),{user:{email:t,password:n}}).then(function(e){return e.data}).then(function(e){return localStorage.setItem(d.jwt_token,e.jwt_token),e})},myVideosPath:"/api/my/videos",applicationHome:function(){R.get("".concat(M().apiOrigin,"/api/sites/view/").concat(M().domain),{params:{jwt_token:e}}).then(function(e){return e.data})},vote:function(t){var n=t.value,r=t.voter_id,o=t.votee_id,a=t.votee_class_name;return R.post("".concat(M().apiOrigin,"/api/v1/vote/").concat(a,"/").concat(o,"/").concat(r,"/").concat(n),{params:{jwt_token:e}}).then(function(e){return ey(e,"voted"),e})},unvote:function(){ey("Unvote is not implemented!")}}},N=n(6120),A=n(9669),T=n.n(A),j={baseURL:M().apiOrigin},R=T().create(j);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F={borderWidth:"10px",bottomDrawerClosedHeight:"24px",bottomDrawerOpenHeight:"124px",breadcrumbsHeight:"30px",smallWidth:"10px",mediumWidth:"20px",thinBorderWidth:"2px"},U=Z(Z({},F),{},{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",border:"black",blue:"#6aa3e9",cardBackground:"white",cyan:"#49bcc6",darkGrey:"#605d5d",gold:"#ffe100",lightGrey:"#988b8b",red:"red"}}),W=Z(Z({},F),{},{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",border:"white",blue:"#73b0fa",cardBackground:"#1a1a1a",cyan:"#49bcc6",darkGrey:"#b3afaf",gold:"#ffe100",lightGrey:"#4a4343",red:"#eb83a8"}}),H={lightTheme:U,darkTheme:W},V=n(5697),G=n.n(V),B=["children"];function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J=s.createContext({});G().object;var Y=["children"];function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var K=s.createContext({}),Q=function(e){var t=e.children;!function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Y);var n,r=window.localStorage.getItem(d.theme)||d.themes.light,o=function(e){if(Array.isArray(e))return e}(n=(0,s.useState)(r))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],i=o[1];(0,s.useEffect)(function(){var e=a===d.themes.light?d.themes.light:d.themes.dark,t=a===d.themes.light?d.themes.dark:d.themes.light;document.body.classList.remove(t),document.body.classList.add(e)},[]);var l=function(e){e.preventDefault(),a===d.themes.light?(window.localStorage.setItem(d.theme,d.themes.dark),i(d.themes.dark),document.body.classList.remove(d.themes.light),document.body.classList.add(d.themes.dark)):(window.localStorage.setItem(d.theme,d.themes.light),i(d.themes.light),document.body.classList.add(d.themes.light),document.body.classList.remove(d.themes.dark))};return s.createElement(K.Provider,{value:{theme:a,setTheme:i,toggleTheme:l}},s.createElement(f.f6,{theme:a==d.themes.light?H.lightTheme:H.darkTheme},t))};function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var et=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,s.useState)([0,0]))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1];return(0,s.useLayoutEffect)(function(){function e(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}},[]),n},en=["children"],er=["navigateToItem"],eo=["children"],ea=["className"];function ei(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var el=(0,f.ZP)(o.gu).withConfig({displayName:"shared__BackIcon",componentId:"sc-h0ppel-0"})(["margin-right:5px;cursor:pointer;"]),ec=function(){var e=(0,(0,s.useContext)(P).useHistory)(),t=(0,s.useContext)(_.Nd),n=(t.showItem,t.setShowItem),o=function(){n(null),e.goBack()};return s.createElement(el,{className:"BackBtn",icon:r.XRs,onClick:o})},eu=f.ZP.div.withConfig({displayName:"shared__Btn",componentId:"sc-h0ppel-1"})(["border:1px solid gray;border-radius:5px;padding:.3em 1em;cursor:pointer;"]),es=(0,f.ZP)(l.Z).withConfig({displayName:"shared__ChevronLeft",componentId:"sc-h0ppel-2"})(["color:",""],function(e){return e.theme.colors.text}),ef=(0,f.ZP)(c.Z).withConfig({displayName:"shared__ChevronRight",componentId:"sc-h0ppel-3"})(["color:",""],function(e){return e.theme.colors.text}),ed=(0,f.ZP)(i.Z).withConfig({displayName:"shared___Card",componentId:"sc-h0ppel-4"})(["margin-bottom:1em;padding:",";background:var(--ion-card-background-color);cursor:",";display:flex;flex-direction:column;"],function(e){return e.theme.smallWidth},function(e){return e.cursor?e.cursor:"auto"}),ep=function(e){var t=e.children,n=ei(e,en);n.navigateToItem;var r=ei(n,er);return s.createElement(ed,Object.assign({className:"Card"},r),t)};f.ZP.div.withConfig({displayName:"shared__FlexRow",componentId:"sc-h0ppel-5"})(["display:flex;> *{margin:auto .4em;}"]);var em={classify:function(e){if("locations"===e)return"::Gameui::Map";"ies"===e.slice(-3)&&(e=e.slice(0,-3)+"y"),"s"===e.slice(-1)&&(e=e.slice(0,-1));for(var t=e.split("_"),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join("")},tableize:function(e){switch(e){case"Gallery":return"galleries";case"::Gameui::Map":return"locations";default:return"".concat(e.toLowerCase(),"s")}}},eh=f.ZP.div.withConfig({displayName:"shared___Circle",componentId:"sc-h0ppel-6"})(["position:fixed;z-index:999;overflow:show;margin:auto;top:0;left:0;bottom:0;right:0;width:50px;height:50px;"]),e$=function(e){return s.createElement(eh,null,s.createElement(a.Z,null))},ey=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)},eg=(0,f.ZP)(u.Z).withConfig({displayName:"shared__MenuIcon",componentId:"sc-h0ppel-7"})(["color:",""],function(e){return e.theme.colors.text}),ev=function(e){return(e||"").substring(0,10)};f.ZP.div.withConfig({displayName:"shared__Root",componentId:"sc-h0ppel-8"})(["background:",";height:100vh;overflow:auto;"],function(e){return e.theme.colors.background});var e_=f.ZP.div.withConfig({displayName:"shared___WBordered",componentId:"sc-h0ppel-9"})(["border:2px solid var(--ion-border-color);border-radius:var(--ion-border-radius);background:var(--ion-card-background-color);color:var(--ion-color);margin-bottom:1em;padding:.5em;cursor:",";"],function(e){return e.onClick?"pointer":null}),ew=function(e){var t=e.children,n=ei(e,eo),r=n.className,o=ei(n,ea);return s.createElement(e_,Object.assign({className:"".concat(void 0===r?"":r," WBordered")},o),t)};s.createContext({})},1935:function(e){e.exports={"plt-mobile":"ItemModal_plt-mobile__sanTA",ItemModal:"ItemModal_ItemModal__puazB",ItemModalOverlay:"ItemModal_ItemModalOverlay__gP0FW"}},652:function(e){e.exports={container:"DayNightToggle_container__8uWpP",switch:"DayNightToggle_switch__dShqX",fill:"DayNightToggle_fill__eQQvw",background:"DayNightToggle_background__kRvrg",stars1:"DayNightToggle_stars1__M4CSu",stars2:"DayNightToggle_stars2__f2kRc",sunMoon:"DayNightToggle_sunMoon___7z_j",dots:"DayNightToggle_dots__5_lv_"}},6567:function(e){e.exports={Metaline:"Metaline_Metaline__XHHBl",user:"Metaline_user__gvAz_",city:"Metaline_city__t7Mok",tags:"Metaline_tags__Mk_Xn"}},6681:function(e){e.exports={LoginModal:"PurchaseModal_LoginModal__CBaX9",LoginModalOverlay:"PurchaseModal_LoginModalOverlay__rymkt",Notice:"PurchaseModal_Notice__xw_v2"}},2293:function(e){e.exports={UnlockModal:"UnlockModal_UnlockModal__VXRN4",UnlockModalOverlay:"UnlockModal_UnlockModalOverlay__AVJ1w",Notice:"UnlockModal_Notice__pMSnr"}},6468:function(e){e.exports={GalleriesShow:"Galleries_GalleriesShow__4b4gq",heading:"Galleries_heading__TqfKk",title:"Galleries_title__c2Qkg",narrow:"Galleries_narrow__ZxgG6",thumbs:"Galleries_thumbs__wbY2H",card:"Galleries_card__WEvVy",full_img_section:"Galleries_full_img_section__e4rV_",item:"Galleries_item__8C3Lb"}},2661:function(e,t,n){"use strict";n.d(t,{HD:function(){return e_},Ht:function(){return eo},IJ:function(){return ei},Kt:function(){return ey},Vo:function(){return ev},_A:function(){return e$},gq:function(){return ea},xB:function(){return eu}});var r,o,a,i,l,c,u,s,f,d,p,m,h,y,g,v,_,w,b,E,x=n(7294),k=n(3935),C=n(4360),P=n(1874),I=n(2917),O=n(6405),L=n(6946),M=n(7573),S=n.n(M),N=n(6775),A=n(9430),T=n(6458),j=n.n(T),R=n(2132);n(6717);var D=n(3792),Z=n.n(D);n(3770);var z=n(8657),F=n(7727),U=n(4345),W=n(8941),H=n(2622);function V(){return(V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function B(e,t){return t||(t=e.slice(0)),e.raw=t,e}var q={anonUser:{},bottomDrawerOpen:"bottom-drawer-open",collapsible:{description:"descr-sec",extra1:"extra1-sec",extra2:"extra2-sec",extra3:"extra3-sec",map:"map-sec",markers:"markers-sec"},collapsibles:"collapsibles",current_user:"current_user",foldedCenter:"folded-center",foldedLeft:"folded-left",foldedRight:"folded-right",horizontal:"horizontal",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",locations:{earth:"earth"},map_panel_types:{Equirectangular:"Equirectangular",MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1",ThreePanelV4:"ThreePanelV4"},names:{scratchpad:"Scratchpad"},rated:{nc17:"nc-17"},ratedConfirmation:"rated-confirmation",theme:"theme",themes:{dark:"dark",light:"light"},twofoldPercent:"twofold-percent",variants:{bordered:"bordered",floating:"floating",inline:"inline",transparent:"transparent"},vertical:"vertical"},J=j().create({}),Y={borderWidth:"10px",bottomDrawerClosedHeight:"20px",bottomDrawerOpenHeight:"115px",breadcrumbsHeight:"30px",thinBorderWidth:"2px",thinBorderRadius:"5px"};V({},Y,{thinBorder:"2px solid black",colors:{text:"black",background:"#dedede",blue:"#6aa3e9",darkGrey:"#605d5d",lightGrey:"#988b8b",red:"red",border:"black",cardBackground:"white"}}),V({},Y,{thinBorder:"2px solid white",colors:{text:"white",background:"#292929",blue:"#73b0fa",darkGrey:"#b3afaf",lightGrey:"#4a4343",red:"#eb83a8",border:"white",cardBackground:"#1a1a1a"}}),x.createContext({});var X=["children"],K=["children"],Q=["children","onClose"],ee=A.ZP.div(r||(r=B(["\n\n  // @TODO: this should use variables, for Modal inner size.\n  // I'd need to do dependency injection of the variable, from infiniteshelterjs into ishlibjs.\n  position: fixed; // for GalleriesShow\n  top: 60px;\n  right: 60px;\n\n  display: flex;\n  flex-direction: row-reverse;\n"])));A.ZP.div(o||(o=B(["\n  margin-right: 5px;\n  cursor: pointer;\n"])));var et=A.ZP.div(a||(a=B(["\n  border: 1px solid gray;\n  border-radius: 5px;\n  cursor: pointer;\n  display: inline-block;\n  padding: .3em 1em;\n"])));(0,A.ZP)(P.Z)(i||(i=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),(0,A.ZP)(I.Z)(l||(l=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),(0,A.ZP)(C.Z)(c||(c=B(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),function(e){return e.cursor?e.cursor:"auto"});var en=function(e){var t=G(e,X);return x.createElement(O.Z,V({style:V({cursor:"pointer"},t.style)},t))};en.propTypes={onClick:S().func.isRequired};var er=A.ZP.div(u||(u=B(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin: auto .4em; // @TODO: standardize this size!\n  }\n"]))),eo=function(e){var t=e.children,n=G(e,K);return x.createElement(er,V({className:"FlexCol"},n),t)},ea=A.ZP.div(s||(s=B(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em; // @TODO: why? the LoginModal needs no margins!\n  }\n"])));A.ZP.div(f||(f=B(["\n  position: fixed;\n  z-index: 999;\n  overflow: show;\n  margin: auto;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 50px;\n  height: 50px;\n"])));var ei=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),(n="string"==typeof n?n:t.replace(/\W/g,"")).length>0&&"undefined"!=typeof window&&(window[n]=e),console.log("+++ "+t+":",e)},el=(0,A.ZP)(L.Z)(d||(d=B(["\n  color: ","\n"])),function(e){return e.theme.colors.text}),ec=A.ZP.div(p||(p=B(["\n  flex-grow: 1;\n  text-align: center;\n  font-size: 1.2rem;\n"]))),eu=function(e){var t=e.children,n=e.onClose;return G(e,Q),x.createElement(ea,null,x.createElement(ec,null,t),x.createElement(en,{onClick:n}))};eu.propTypes={onClose:S().func.isRequired},A.ZP.div(m||(m=B(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  padding: .5em;\n\n  margin-bottom: 1em;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground}),A.ZP.div(h||(h=B(["\n  border: ",";\n  border-radius: ",";\n  background: ",";\n  color: ",";\n\n  margin: 0 .5em .5em 0;\n  padding: .5em;\n\n  text-align: center;\n\n  width: 18%;\n  max-width: 140px;\n  min-width: 120px;\n"])),function(e){return e.theme.thinBorder},function(e){return e.theme.thinBorderRadius},function(e){return e.theme.colors.cardBackground},function(e){return e.theme.colors.text}),A.ZP.div(y||(y=B(["\n  height: 100vh;\n"]))),x.createContext({});var es=["fill","w","h"],ef=function(e){return x.createElement(et,e,"Register with Email")},ed=function(e){return x.createElement(et,e,"Login with Email")},ep=function(e){var t=e.w,n=e.h,r=G(e,es);return t=t||"12px",n=n||"12px",x.createElement("span",r,x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:"0 0 96.943 96.943",style:{enableBackground:"new 0 0 96.943 96.943"}},x.createElement("g",null,x.createElement("g",null,x.createElement("path",{d:"M61.168,83.92H11.364V13.025H61.17c1.104,0,2-0.896,2-2V3.66c0-1.104-0.896-2-2-2H2c-1.104,0-2,0.896-2,2v89.623 c0,1.104,0.896,2,2,2h59.168c1.105,0,2-0.896,2-2V85.92C63.168,84.814,62.274,83.92,61.168,83.92z"})," ",x.createElement("path",{d:"M96.355,47.058l-26.922-26.92c-0.75-0.751-2.078-0.75-2.828,0l-6.387,6.388c-0.781,0.781-0.781,2.047,0,2.828 l12.16,12.162H19.737c-1.104,0-2,0.896-2,2v9.912c0,1.104,0.896,2,2,2h52.644L60.221,67.59c-0.781,0.781-0.781,2.047,0,2.828 l6.387,6.389c0.375,0.375,0.885,0.586,1.414,0.586c0.531,0,1.039-0.211,1.414-0.586l26.922-26.92 c0.375-0.375,0.586-0.885,0.586-1.414C96.943,47.941,96.73,47.433,96.355,47.058z"})," ")," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null," ")," ",x.createElement("g",null),x.createElement("g",null),x.createElement("g",null)))},em=function(e){var t=(0,x.useContext)(ev),n=t.currentUser,r=t.setCurrentUser,o=t.setLoginModalOpen,a=t.setRegisterModalOpen,i=function(){r(q.anonUser),localStorage.removeItem("jwt_token"),window.location.reload(!1)},l=function(e){ei(e,"cannot login!"),toast("cannot login!")},c=function(e){ei("Logged in successfully."),r(e)};return null!=n&&n.email?x.createElement(ea,null,"[\xa0",n.email,"\xa0",x.createElement(ep,{onClick:i},"Logout"),"\xa0]"):x.createElement(x.Fragment,null,x.createElement(eo,null,x.createElement(ef,{onClick:function(){a(!0)}}),x.createElement(ed,{onClick:function(){o(!0)}})),x.createElement(ey,null),x.createElement(e$,{onError:l,onSuccess:c}))};em.propTypes={};var eh={LoginModal:"_2YolN",LoginModalOverlay:"_3hqvY",Notice:"_2ifwF"},e$=function(e){var t=e.onError,n=e.onSuccess,r=(0,x.useContext)(ev),o=r.loginModalOpen,a=r.setLoginModalOpen,i=r.setRegisterModalOpen,l=r.useApi,c=(0,x.useState)(""),u=c[0],s=c[1],f=(0,x.useState)(""),d=f[0],p=f[1],m=l(),h=function(e,r){try{return m.postLogin({email:e,password:r}).then(function(e){a(!1),n(e)}).catch(function(e){ei(e,"e323 - cannot postLogin()"),(0,R.Am)("Could not login."),t(e)}),Promise.resolve()}catch(o){return Promise.reject(o)}};return Z().setAppElement("body"),x.createElement(Z(),{className:"LoginModal "+eh.LoginModal,isOpen:!!o,overlayClassName:eh.LoginModalOverlay,portalClassName:eh.LoginModalPortal},x.createElement(eu,{onClose:function(){return a(!1)}},"Login"),"string"==typeof o&&x.createElement(ea,null,x.createElement("div",{className:eh.Notice},o)),x.createElement(eo,null,x.createElement("label",{htmlFor:"email"},"Email"),x.createElement("input",{name:"email",type:"email",value:u,onChange:function(e){return s(e.target.value)}}),x.createElement("label",{htmlFor:"password"},"Password"),x.createElement("input",{name:"password",type:"password",value:d,onChange:function(e){return p(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h(u,d)}}),x.createElement(ea,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},x.createElement(et,{onClick:function(){return h(u,d)}},"Login"))),x.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),x.createElement(ea,{style:{justifyContent:"center"}},x.createElement("a",{onClick:function(){return a(!1)||i(!0)}},"Register Instead")))};e$.propTypes={onError:S().func,onSuccess:S().func};var ey=function(e){var t=(0,x.useContext)(ev),n=t.setLoginModalOpen,r=t.registerModalOpen,o=t.setRegisterModalOpen,a=(0,t.useApi)(),i=(0,x.useState)(""),l=i[0],c=i[1],u=(0,x.useState)(""),s=u[0],f=u[1],d=(0,x.useState)(""),p=d[0],m=d[1],h=function(e,t,r){try{if(t!==r)return(0,R.Am)("Passwords do not match"),Promise.resolve();return a.doRegister({email:e,password:t}).then(function(e){o(!1),n(e.message)}).catch(function(e){(0,R.Am)("Registration failed")}),Promise.resolve()}catch(i){return Promise.reject(i)}};return x.createElement(Z(),{className:"LoginModal "+eh.LoginModal,isOpen:r,overlayClassName:eh.LoginModalOverlay,portalClassName:eh.LoginModalPortal},x.createElement(eu,{onClose:function(){return o(!1)}},"Register"),x.createElement(eo,null,x.createElement("label",{htmlFor:"email"},"Email"),x.createElement("input",{type:"email",name:"email",value:l,onChange:function(e){return c(e.target.value)}}),x.createElement("label",{htmlFor:"password"},"Password"),x.createElement("input",{type:"password",name:"password",value:s,onChange:function(e){return f(e.target.value)}}),x.createElement("label",{htmlFor:"password2"},"Confirm Password"),x.createElement("input",{type:"password",name:"password2",value:p,onChange:function(e){return m(e.target.value)}}),x.createElement(ea,{style:{flexDirection:"row-reverse",justifyContent:"space-between",marginTop:"0.4em"}},x.createElement(et,{className:"Submit",onClick:function(){return h(l,s,p)}},"Register")),x.createElement("hr",{style:{margin:"2rem 0",borderWidth:"1px"}}),x.createElement(ea,{style:{justifyContent:"center"}},x.createElement("a",{onClick:function(){return n(!0)||o(!1)}},"Login Instead"))))};ey.propTypes={};var eg=["children"],ev=(0,x.createContext)({}),e_=function(e){var t=e.children,n=G(e,eg),r=n.currentUser,o=void 0===r?q.anonUser:r,a=n.setCurrentUser,i=n.loginModalOpen,l=void 0!==i&&i,c=n.setLoginModalOpen,u=n.registerModalOpen,s=void 0!==u&&u,f=n.setRegisterModalOpen,d=(0,x.useState)(o),p=d[0],m=d[1];a&&(p=o,m=a);var h=(0,x.useState)(l),y=h[0],g=h[1];c&&(y=l,g=c);var v=(0,x.useState)(s),_=v[0],w=v[1];f&&(_=s,w=f);var b={currentUser:p,setCurrentUser:m,loginModalOpen:y,setLoginModalOpen:g,registerModalOpen:_,setRegisterModalOpen:w};return x.createElement(ev.Provider,{value:V({},n,b)},t)};e_.propTypes={useApi:S().func.isRequired};var ew={apiOrigin:"http://localhost:3001"},eb=function(){var e=function(){return{doRegister:function(e){var t=e.email,n=e.password;return J.post(ew.apiOrigin+"/api/users",{email:t,password:n}).then(function(e){return e.data}).then(function(e){return ei(e,"done registered"),e})}}},t=(0,x.useState)(!1),n=t[0],r=t[1],o=(0,x.useState)(!0),a=o[0],i=o[1];return x.createElement(e_,{loginModalOpen:n,setLoginModalOpen:r,registerModalOpen:a,setRegisterModalOpen:i,useApi:e},x.createElement(em,null),x.createElement(R.Ix,{position:"bottom-left"}))},e0=["children"],eE=x.createContext({});S().object,A.ZP.div(g||(g=B(["\n  display: flex;\n\n  > * {\n    margin: auto .4em;\n  }\n"]))),A.ZP.div(v||(v=B(["\n  border: 1px solid red;\n"]))),A.ZP.div(_||(_=B(["\n  display: flex;\n"]))),A.ZP.div(w||(w=B(["\n  display: flex;\n\n  > * {\n    // margin: auto .4em;\n  }\n"])));var ex=A.ZP.div(b||(b=B(["\n"]))),e8=["children"],e1=A.ZP.div(E||(E=B(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"])));S().array.isRequired,S().string,H.env.REACT_APP_SERVE&&k.render(x.createElement(eb,null),document.getElementById("root"))},3141:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=3141,e.exports=t},1711:function(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=1711,e.exports=t},8677:function(){},2808:function(){}}]);