(this.webpackJsonpguyd=this.webpackJsonpguyd||[]).push([[1],{116:function(e,t,n){},139:function(e,t,n){e.exports=n(197)},154:function(e,t,n){},176:function(e,t,n){var a={"./ion-action-sheet.entry.js":[202,5],"./ion-alert.entry.js":[203,6],"./ion-app_8.entry.js":[204,7],"./ion-avatar_3.entry.js":[205,17],"./ion-back-button.entry.js":[206,18],"./ion-backdrop.entry.js":[207,43],"./ion-button_2.entry.js":[208,19],"./ion-card_5.entry.js":[209,20],"./ion-checkbox.entry.js":[210,21],"./ion-chip.entry.js":[211,22],"./ion-col_3.entry.js":[212,44],"./ion-datetime_3.entry.js":[213,10],"./ion-fab_3.entry.js":[214,23],"./ion-img.entry.js":[215,45],"./ion-infinite-scroll_2.entry.js":[216,46],"./ion-input.entry.js":[217,24],"./ion-item-option_3.entry.js":[218,25],"./ion-item_8.entry.js":[219,26],"./ion-loading.entry.js":[220,27],"./ion-menu_3.entry.js":[221,28],"./ion-modal.entry.js":[222,8],"./ion-nav_2.entry.js":[223,14],"./ion-popover.entry.js":[224,9],"./ion-progress-bar.entry.js":[225,29],"./ion-radio_2.entry.js":[226,30],"./ion-range.entry.js":[227,31],"./ion-refresher_2.entry.js":[228,11],"./ion-reorder_2.entry.js":[229,16],"./ion-ripple-effect.entry.js":[230,47],"./ion-route_4.entry.js":[231,32],"./ion-searchbar.entry.js":[232,33],"./ion-segment_2.entry.js":[233,34],"./ion-select_3.entry.js":[234,35],"./ion-slide_2.entry.js":[235,48],"./ion-spinner.entry.js":[236,13],"./ion-split-pane.entry.js":[237,49],"./ion-tab-bar_2.entry.js":[238,36],"./ion-tab_2.entry.js":[239,15],"./ion-text.entry.js":[240,37],"./ion-textarea.entry.js":[241,38],"./ion-toast.entry.js":[242,39],"./ion-toggle.entry.js":[243,12],"./ion-virtual-scroll.entry.js":[244,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=176,e.exports=r},178:function(e,t,n){var a={"./ion-icon.entry.js":[245,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=178,e.exports=r},179:function(e,t,n){},18:function(e,t){e.exports={apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",appIndexPath:"src/index"}},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a,r,c,o,l,i,s,u,m,d,p,g,f,b,h,E,v,j,O,y,w,k,x,_,N,C,S,I,U,D,L,T,P,M,F,H,W,A,z,B,R,J,V,G,Y,q,X,Z,K,Q,$,ee,te,ne,ae=n(0),re=n.n(ae),ce=n(13),oe=n.n(ce),le=n(19),ie=n(6),se=n(4),ue=n(22),me=n.n(ue),de=n(271),pe=n(26),ge=n(17),fe=n(78),be=n(3),he=(n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(101),n(18)),Ee=n.n(he),ve=n(273),je=function(){var e=Object(ae.useContext)(Le),t=(e.currentUser,e.setCurrentUser,localStorage.getItem(Se.jwt_token));return{doUnlock:function(e){var t=e.kind,n=e.id,a=localStorage.getItem("jwt_token");return"/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(a)},getMyAccount:function(){var e=localStorage.getItem("jwt_token");return _e.post("/api/my/account",{jwt_token:e})},loginPath:"/api/users/login.json",longTermTokenPath:"/api/users/long_term_token",myAccount:function(){return"/api/my/account"},myVideosPath:"/api/my/videos",paymentsPath:"/api/payments2",reportsGet:function(e){var t=JSON.parse(localStorage.getItem("current_user"))||{},n="";return t&&(n="jwt_token=".concat(t.jwt_token)),"".concat(Ee.a.apiOrigin,"/api/reports/view/").concat(e,"?").concat(n)},getCities:function(){return _e.get("".concat(Ee.a.apiOrigin,"/api/cities")).then((function(e){return e.data}))},getCity:function(e){return _e.get("".concat(Ee.a.apiOrigin,"/api/cities/view/").concat(e))},applicationHome:function(){var e=Object(le.a)(me.a.mark((function e(){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e.get("".concat(Ee.a.apiOrigin,"/api/sites/view/").concat(Ee.a.domain),{params:{jwt_token:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},Oe=(n(33),{cityPath:function(e){return"/en/cities/travel-to/".concat(e,"/show/newsfeed")}}),ye=(n(27),n(90),n(80)),we=(be.a.div(a||(a=Object(se.a)(["\n  display: flex;\n"]))),be.a.div(r||(r=Object(se.a)(["\n  background: #dedede;\n  margin: .5em;\n  padding: .5em;\n\n  margin-bottom: 1em;\n"]))),be.a.div(c||(c=Object(se.a)(["\n  // border: 2px solid red;\n\n  max-height: 100vh;\n"]))),n(125)),ke=n.n(we),xe={baseURL:Ee.a.apiOrigin},_e=ke.a.create(xe),Ne=Object(be.a)(ve.a)(o||(o=Object(se.a)(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  // cursor: pointer;\n\n  display: flex;\n  flex-direction: column;\n"]))),Ce=be.a.div(l||(l=Object(se.a)(["\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n"]))),Se={jwt_token:"jwt_token",current_user:"current_user",layout_onecol:"onecol",layout_mapui:"mapui"},Ie=(be.a.div(i||(i=Object(se.a)(["\n"]))),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"===typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)}),Ue=10,De=100,Le=re.a.createContext({}),Te=be.a.div(s||(s=Object(se.a)(["\n  height: 100vh;\n"]))),Pe=n(272),Me=n(268),Fe=n(79),He=n.n(Fe),We=n(54),Ae=(n(175),n(7)),ze=n(266),Be=n(265),Re=(n(179),Object(Be.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}}))),Je=function(e){var t=Re(),n=Object(ae.useContext)(Le),a=n.currentUser;n.setCurrentUser;return re.a.createElement(ae.Fragment,null,re.a.createElement(ze.a,{container:!0,spacing:2,className:t.root},re.a.createElement(ze.a,{item:!0,xs:12},re.a.createElement(ze.a,{container:!0},re.a.createElement(ze.a,{item:!0,xs:6},re.a.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"})),re.a.createElement(ze.a,{item:!0,xs:6},!!a&&re.a.createElement(ae.Fragment,null,re.a.createElement("h4",null,a.email),re.a.createElement("ul",null,re.a.createElement("li",null,re.a.createElement(ge.b,{to:"/en/account/my/galleries"},"My Galleries")),re.a.createElement("li",null,re.a.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),re.a.createElement("li",null,re.a.createElement(ct,null))))||re.a.createElement(ae.Fragment,null,re.a.createElement("h4",null,"Not logged in"),re.a.createElement(rt,null),re.a.createElement("br",null),re.a.createElement("br",null),re.a.createElement(ot,null)))))))},Ve=n(41),Ge=n.n(Ve),Ye=function(e){Ie(e,"LoginModal");var t=Object(ae.useContext)(Le),n=t.loginModalOpen,a=t.setLoginModalOpen;return re.a.createElement(Ge.a,{style:{zIndex:3},isOpen:n},re.a.createElement("h1",null,"Please Login",re.a.createElement("button",{onClick:function(){return a(!1)}},"[x]")),re.a.createElement(rt,null),re.a.createElement(ot,null))},qe=n(52),Xe=n(127),Ze=Object(Xe.a)("pk_test_qr1QPmSpLdBFt1F7itdWJOj3"),Ke=function(e){return re.a.createElement(ae.Fragment,null,re.a.createElement("button",null,"do login"))},Qe=be.a.div(u||(u=Object(se.a)(["\n  // border: 1px solid red;\n\n  background: white;\n  height: 100px;\n  width: calc(100vw - ","px);\n  padding: 1em;\n  margin-bottom: ","px;\n"])),(function(e){return 2*e.borderWidth}),(function(e){return e.borderWidth})),$e=be.a.div(m||(m=Object(se.a)(["\n  display: flex;\n  justify-content: center;\n  background: #dedede;\n"]))),et=function(e){var t=je(),n=Object(ae.useContext)(Le),a=n.currentUser,r=(n.setCurrentUser,Object(qe.useStripe)()),c=Object(qe.useElements)(),o=Object(ae.useState)(!1),l=Object(ie.a)(o,2),i=l[0],s=l[1],u=function(){var e=Object(le.a)(me.a.mark((function e(n){var a,o,l,i;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),Ie("purchasing..."),r&&c){e.next=4;break}return e.abrupt("return");case 4:return c.getElement(qe.CardElement),a=localStorage.getItem("jwt_token"),e.next=8,_e.get("".concat(Ee.a.apiOrigin).concat(t.paymentsPath,"?jwt_token=").concat(a));case 8:return o=(o=e.sent).data.client_secret,Ie(o,"client_secret"),e.next=13,r.confirmCardPayment(o,{payment_method:{card:c.getElement(qe.CardElement)}});case 13:if(l=e.sent,Ie(l,"result"),!l.error){e.next=19;break}Ie(l.error.message,"error message"),e.next=27;break;case 19:if("succeeded"!==l.paymentIntent.status){e.next=26;break}return e.next=22,_e.get("".concat(Ee.a.apiOrigin).concat(t.myAccount(),"?jwt_token=").concat(a));case 22:i=e.sent,Ie(i,"ze3response"),e.next=27;break;case 26:Ie("something else");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Ue;return a?re.a.createElement($e,null,re.a.createElement(Qe,{borderWidth:m},a.email?a.email:re.a.createElement(Ke,null)," \xa0 [\xa0","number"===typeof a.n_unlocks?a.n_unlocks:"?"," coins\xa0]\xa0 \xa0",re.a.createElement("button",{onClick:function(){return s(!0)}},"buy"),re.a.createElement(Ge.a,{isOpen:i,ariaHideApp:!1,style:{width:"500px"}},re.a.createElement("h1",null,"Purchase this",re.a.createElement("span",{onClick:function(){Ie("clicking..."),s(!1)}},"[x]")),re.a.createElement("form",{onSubmit:u},re.a.createElement(qe.CardElement,null),re.a.createElement("button",{type:"submit",disabled:!r},"Pay"))))):null},tt=function(e){return re.a.createElement(qe.Elements,{stripe:Ze},re.a.createElement(et,e))},nt=We.a.FacebookLogin,at=["email"],rt=function(e){var t=je(),n=Object(ae.useContext)(Le),a=(n.currentUser,n.setCurrentUser),r=function(){var e=Object(le.a)(me.a.mark((function e(){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.login({permissions:at});case 2:(n=e.sent).accessToken?_e.post("".concat(Ee.a.apiOrigin).concat(t.longTermTokenPath),{accessToken:n.accessToken.token}).then((function(e){localStorage.setItem(Se.jwt_token,e.data.jwt_token),localStorage.setItem(Se.current_user,JSON.stringify(e.data)),a(e.data)})).catch((function(e){Ie(e,"Could not post request to ".concat(Ee.a.apiOrigin).concat(t.longTermTokenPath))})):Ie("canceled");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return re.a.createElement(Ce,{onClick:r},"FB Login")},ct=function(){var e=Object(ae.useContext)(Le),t=(e.currentUser,e.setCurrentUser);return re.a.createElement(Ce,{onClick:function(){localStorage.removeItem(Se.jwt_token),localStorage.removeItem(Se.current_user),t(null)}},"Logout")},ot=function(e){var t=je(),n=Object(ae.useContext)(Le),a=(n.currentUser,n.setCurrentUser),r=(n.loginModalOpen,n.setLoginModalOpen),c=Object(ae.useState)(""),o=Object(ie.a)(c,2),l=o[0],i=o[1],s=Object(ae.useState)(""),u=Object(ie.a)(s,2),m=u[0],d=u[1],p=function(){var e=Object(le.a)(me.a.mark((function e(n,c){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_e.post("".concat(Ee.a.apiOrigin).concat(t.loginPath),{email:n,password:c}).then((function(e){return e.data})).then((function(e){a(e),localStorage.setItem("jwt_token",e.jwt_token),localStorage.setItem("current_user",JSON.stringify(e)),r(!1)})).catch((function(e){Ie(e,"e322"),Object(fe.b)("Login failed"),a(null)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return re.a.createElement(ae.Fragment,null,re.a.createElement("input",{type:"email",value:l,onChange:function(e){return i(e.target.value)}}),re.a.createElement("br",null),re.a.createElement("input",{type:"password",value:m,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&p(l,m)}}),re.a.createElement("br",null),re.a.createElement(Ce,{onClick:function(){return p(l,m)}},"Password Login"))},lt=be.a.div(d||(d=Object(se.a)(["\n  // height: 100px;\n  // position: absolute;\n  // bottom: 0;\n"]))),it=be.a.div(p||(p=Object(se.a)(["\n  // border: 1px solid yellow;\n  position: absolute;\n  bottom: -10px;\n  left: 10px;\n"]))),st=function(e){var t=Object(ae.useContext)(Le),n=t.bottomDrawerOpen,a=t.layout,r=t.setBottomDrawerOpen;return a===Se.layout_onecol?null:re.a.createElement(ae.Fragment,null,re.a.createElement(lt,null,re.a.createElement(it,null,re.a.createElement(Me.a,{"aria-label":"open drawer",onClick:function(){return r(!0)},edge:"start",className:"menu-btn"},re.a.createElement(He.a,{fontSize:"small",style:{color:"white"}}))),re.a.createElement(pt,null)),re.a.createElement(Pe.a,{anchor:"bottom",elevation:1,open:n,onClose:function(){return r(!1)},BackdropProps:{invisible:!0},variant:"persistent"},re.a.createElement("div",null,re.a.createElement(tt,null),re.a.createElement("div",{onClick:function(){return r(!1)},style:{position:"absolute",left:0,bottom:0}},"[X]"))))},ut=n(10),mt=(n(68),[{title:"Homefeed",icon:ut.n,url:"/en"},{title:"Cities",icon:ut.c,url:"/en/cities"},{title:"My Account",icon:ut.o,url:"/en/account"},{title:"Account2",icon:ut.o,url:"/en/account2"},{title:"Login",icon:ut.q}]),dt=function(){return re.a.createElement(Ae.i,{contentId:"main",type:"overlay"},re.a.createElement(Ae.b,null,re.a.createElement(Ae.l,{color:"primary"},re.a.createElement(Ae.k,null,"Menu"))),re.a.createElement(Ae.a,null,re.a.createElement("img",{src:"/assets/hero.png"}),re.a.createElement(Ae.g,{id:"inbox-list"},mt.map((function(e,t){return re.a.createElement(Ae.j,{key:t,autoHide:!1},re.a.createElement(Ae.e,{routerLink:e.url,routerDirection:"none",lines:"none",detail:!1},re.a.createElement(Ae.c,{slot:"start",ios:e.icon,md:e.icon}),re.a.createElement(Ae.f,null,e.title)))})))))},pt=function(){return re.a.createElement(Ae.i,{type:"overlay"},re.a.createElement(Ae.b,null,re.a.createElement(Ae.l,{color:"primary"},re.a.createElement(Ae.k,null,"Menu"))),re.a.createElement(Ae.a,null,re.a.createElement("img",{src:"/assets/hero.png"}),re.a.createElement("h1",null,"what's here?")))},gt=n(269),ft=n(270),bt=be.a.div(g||(g=Object(se.a)(["\n  // border: 1px solid green;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background: white;\n"]))),ht=be.a.div(f||(f=Object(se.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"]))),Et=be.a.div(b||(b=Object(se.a)(["\n"]))),vt=function(e){var t=re.a.useState(!1),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ae.useState)(!1),o=Object(ie.a)(c,2),l=o[0],i=(o[1],Object(pe.g)()),s=Object(ae.useContext)(Le),u=s.currentUser;s.setCurrentUser;return Ie(u,"currentUser"),re.a.createElement(ae.Fragment,null,re.a.createElement(bt,null,re.a.createElement(Me.a,{"aria-label":"open drawer",onClick:function(){return r(!0)},edge:"start",className:"menu-btn"},re.a.createElement(He.a,null)),re.a.createElement(dt,null)),re.a.createElement(Pe.a,{anchor:"left",open:a,onClose:function(){return r(!1)}},re.a.createElement(ht,null,re.a.createElement(gt.a,null,re.a.createElement(ft.a,{button:!0,key:"newsfeed",onClick:function(){r(!1),i.push("/en")}},"Newsfeed"),re.a.createElement(ft.a,{button:!0,key:"cities",onClick:function(){r(!1),i.push("/en/cities")}},re.a.createElement("span",null,"Cities")),u&&u.bookmarks.map((function(e,t){return re.a.createElement(ft.a,{button:!0,key:t,onClick:function(){r(!1),i.push("/en/locations/show/".concat(e.slug))}},re.a.createElement("span",null,e.name))})),re.a.createElement(ft.a,{button:!0,key:"account",onClick:function(){r(!1),i.push("/en/account")}},re.a.createElement("span",null,"Account"))),re.a.createElement(Et,null,l&&"Loading...",u&&re.a.createElement(ae.Fragment,null,u.email,re.a.createElement("br",null),u.n_stars,re.a.createElement("br",null),"some action")))))},jt=be.a.div(h||(h=Object(se.a)(["\n  margin-top: .5em;\n"]))),Ot=Object(pe.i)((function(e){var t=e.created_at,n=e.username,a=e.city,r=e.tags,c=void 0===r?[]:r;return re.a.createElement(jt,null,re.a.createElement("span",{className:"date"}," On ",(t||"").substring(0,10)," "),n&&re.a.createElement(re.a.Fragment,null,"by ",re.a.createElement("span",{className:"user"}," ",n," ")),a&&re.a.createElement(re.a.Fragment,null,"in ",re.a.createElement("span",{className:"city",onClick:function(){e.history.push("/en/cities/travel-to/".concat(a.slug,"/show/newsfeed"))}}," ",a.name," ")),c&&c.map((function(e,t){return re.a.createElement("span",{key:t,className:"tags"},e.name)})))})),yt=function(e){var t=e.rate,n=Object(ae.useState)([]),a=Object(ie.a)(n,2),r=a[0],c=a[1],o={0:ut.x,1:ut.w,2:ut.v};return Object(ae.useEffect)((function(){for(var e=new Array(5).fill(0),n=0;t>0;)e[n]=t<1?1:2,t--,n++;c(e)}),[]),re.a.createElement("span",{className:"rating"},r.map((function(e,t){return re.a.createElement(Ae.c,{key:t,className:"stars",icon:o[e]})})))},wt=(n(193),be.a.div(E||(E=Object(se.a)(["\n  // border: 1px solid gray;\n  // border-radius: 5px;\n  // padding: .2em;\n\n  display: inline;\n  cursor: pointer;\n"])))),kt=be.a.div(v||(v=Object(se.a)(["\n  display: flex;\n  justify-content: space-around;\n"]))),xt=be.a.div(j||(j=Object(se.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),_t={overlay:{},content:{margin:"auto",width:"400px"}},Nt=function(e){Ie(e,"UnlockModal");var t=Object(ae.useContext)(Le),n=t.currentUser,a=t.setCurrentUser,r=t.itemToUnlock,c=t.setItemToUnlock;Ie(Object(ae.useContext)(Le),"useContext(TwofoldContext)");var o=je(),l=function(){var e=Object(le.a)(me.a.mark((function e(){var t,n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.doUnlock({kind:"Report",id:r.report_id}),e.next=3,_e.post("".concat(Ee.a.apiOrigin).concat(t));case 3:n=e.sent,Ie(n,"result of unlocking");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ae.useEffect)((function(){var e=function(){var e=Object(le.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt_token"),e.next=3,_e.get("".concat(Ee.a.apiOrigin).concat(o.myAccount(),"?jwt_token=").concat(t)).then((function(e){a(e.data)})).catch((function(e){a(null)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&e(),e()}),[]),re.a.createElement(Ge.a,{style:_t,ariaHideApp:!1,isOpen:!!r},re.a.createElement(xt,null,re.a.createElement("h1",null,"Unlock this item?"),re.a.createElement(wt,{onClick:function(){return c(!1)}},"\xd7")),re.a.createElement("p",null,"To access this content, please unlock it first. It costs 1 (one) coin to unlock."),!!n&&re.a.createElement("p",null,"You have ",re.a.createElement("b",null,n.n_unlocks)," unlocks.")||re.a.createElement("p",null,"You have to be logged in to unlock content. Please login."),re.a.createElement(kt,null,!!n&&!!n.email&&re.a.createElement(Ce,{onClick:l},"Unlock"),!!n&&!n.email&&re.a.createElement(rt,null)))},Ct=be.a.div(O||(O=Object(se.a)(["\n  background: white;\n\n  overflow: hidden;\n  margin: 10px;\n  height: calc(100vh - ","px - ",");\n"])),(function(e){return 2*e.borderWidth}),(function(e){return e.bottomDrawerOpen?"".concat(e.bottomDrawerHeight-e.borderWidth/2,"px"):"0px"})),St=function(e){return re.a.createElement(Ct,Object.assign({},e,{bottomDrawerHeight:100,borderWidth:20}))},It=(n(116),function(e){var t=Object(ae.useState)([]),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ae.useState)([]),o=Object(ie.a)(c,2),l=o[0],i=o[1],s=Object(ae.useState)(!1),u=Object(ie.a)(s,2),m=u[0],d=u[1],p=je();return Object(ae.useEffect)((function(){d(!0),p.getCities().then((function(e){d(!1),i(e),r(e)}))}),[]),re.a.createElement(ae.Fragment,null,re.a.createElement(Te,{className:"cities"},re.a.createElement("h1",{className:"heading"},"Cities"),re.a.createElement(ge.b,{to:"/en/account"},"Account"),re.a.createElement("div",{className:"filter-section"},re.a.createElement("input",{className:"filter-input",onChange:function(e){var t=a.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.trim().toLowerCase())>-1}));i(t)}}),re.a.createElement(Ae.c,{className:"filter-icon",icon:ut.j})),re.a.createElement("div",{className:"bookmark-section"},re.a.createElement("label",{className:"switch"},re.a.createElement("input",{type:"checkbox",onChange:function(){},checked:!0}),re.a.createElement("span",{className:"slider round"})),re.a.createElement("span",{className:"bookmark-text"},"Show only bookmarked")),re.a.createElement("div",{className:"container"},l.map((function(e,t){return re.a.createElement("div",{key:t,className:"cities"},re.a.createElement("div",{className:"img-section"},re.a.createElement("span",{className:"bookmark"},re.a.createElement(Ae.c,{className:"bookmark-icon",icon:ut.b})),re.a.createElement("img",{className:"city-img",src:e.photo}),re.a.createElement(ge.b,{to:Oe.cityPath(e.slug)},re.a.createElement("span",{className:"city-title"},e.name))),re.a.createElement("div",{className:"content-section"},re.a.createElement("div",{className:"content-item"},re.a.createElement(Ae.c,{className:"icon",icon:ut.n}),re.a.createElement("span",{className:"count"},e.n_reports)),re.a.createElement("div",{className:"content-item"},re.a.createElement(Ae.c,{className:"icon",icon:ut.k}),re.a.createElement("span",{className:"count"},e.n_galleries)),re.a.createElement("div",{className:"content-item"},re.a.createElement(Ae.c,{className:"icon",icon:ut.y}),re.a.createElement("span",{className:"count"},e.n_videos))))}))),"\xa0"),re.a.createElement(Ae.h,{isOpen:m,onDidDismiss:function(){return d(!1)},message:"Please wait...",duration:5e3}))}),Ut=(n(69),Object(be.a)(ve.a)(y||(y=Object(se.a)(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: pointer;\n"])))),Dt=(be.a.div(w||(w=Object(se.a)(["\n  position: relative;\n  padding-top: 100%;\n  overflow: hidden;\n  z-index: 10;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n\n  width: 100px;\n  height: 100px;\n"]))),be.a.div(k||(k=Object(se.a)(["\n"]))),be.a.div(x||(x=Object(se.a)(["\n  position: relative;\n"])))),Lt=be.a.img(_||(_=Object(se.a)(["\n  width: 200px;\n"]))),Tt=be.a.img(N||(N=Object(se.a)(["\n  position: absolute;\n  left: 200px;\n  top: 0;\n"]))),Pt=be.a.img(C||(C=Object(se.a)([""]))),Mt=function(e){var t=e.gallery,n=Object(pe.g)(),a=function(){n.push("/en/galleries/show/".concat(t.slug))};return re.a.createElement(Ut,{boxShadow:2,onClick:a},re.a.createElement(Dt,null,!1,t.photos[0]&&re.a.createElement(Lt,{src:t.photos[0].thumb_url}),t.photos[1]&&re.a.createElement(Tt,{src:t.photos[1].thumb_url}),t.photos[2]&&re.a.createElement(Pt,{src:t.photos[2].thumb_url}),!1),re.a.createElement("div",null,re.a.createElement("p",{className:"title routable",onClick:a},re.a.createElement("img",{className:"icon",src:"/assets/newsfeed/photos_icon.png",alt:""}),re.a.createElement("span",{className:"title-heading"},t.name)),re.a.createElement(Ot,{item:t}),re.a.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:t.subhead}})))},Ft=function(e){if(e.isPurchased)return re.a.createElement("img",{className:"icon",src:"/assets/icons/glasses.png",alt:""});if(e.premiumTier>0)return re.a.createElement("img",{className:"icon",src:"/assets/icons/gem.png",alt:""});switch(e.kind){case"Report":return re.a.createElement("img",{className:"icon",src:"/assets/icons/report.png",alt:""});default:return"unknown kind"}},Ht=be.a.div(S||(S=Object(se.a)(["\n  display: flex;\n  flex-direction: row;\n"]))),Wt=be.a.div(I||(I=Object(se.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 1em;\n"]))),At=function(e){var t=e.newsitem,n=t.reportname,a=Object(pe.g)(),r=Object(ae.useContext)(Le),c=(r.itemToUnlock,r.setItemToUnlock),o=r.layout,l=(r.showItem,r.setShowItem);return re.a.createElement(Yt,{onClick:function(){t.is_premium&&!t.is_purchased?(Ie(t,"need to unlock this"),c(t)):o===Se.layout_mapui?l(t):a.push("/en/reports/show/".concat(n))}},re.a.createElement(Ht,null,re.a.createElement(Ft,{kind:"Report",isPurchased:t.is_purchased,premiumTier:t.premium_tier}),re.a.createElement(Wt,null,re.a.createElement("h2",{className:"title-heading"},t.name),re.a.createElement(Ot,t))),re.a.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:t.subhead}}))},zt=Object(be.a)(ve.a)(U||(U=Object(se.a)(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n"]))),Bt=function(e){var t=e.data,n=e.icon,a=void 0===n?"/assets/newsfeed/video_icon.svg":n;return re.a.createElement(zt,{boxShadow:2},re.a.createElement("div",{className:"image-section"},t.youtube_id?re.a.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"https://www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):re.a.createElement("video",{width:"100%",preload:"metadata",height:"auto",controls:!0},re.a.createElement("source",{src:t.url,type:"video/mp4"}))),re.a.createElement("div",null,re.a.createElement("p",{className:"title"},re.a.createElement("img",{className:"icon",src:a}),re.a.createElement("span",{className:"title-heading"},t.name)),re.a.createElement(Ot,{item:t}),re.a.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:t.subhead}})))},Rt={1:"/assets/newsfeed/sunglass.png",2:"/assets/newsfeed/gem_premium.png"},Jt=be.a.div(D||(D=Object(se.a)(["\n  margin-bottom: 2em;\n"]))),Vt=function(e){Ie(e,"Newsitems");var t=e.newsitems;return t&&t.length?re.a.createElement(Jt,null,t.map((function(e,t){var n=e.premium_tier||0,a=Rt[n];return re.a.createElement("div",{key:t,className:"items premium-".concat(n)},"gallery"===e.item_type&&re.a.createElement(Mt,{gallery:e,icon:a}),"report"===e.item_type&&re.a.createElement(At,{newsitem:e,icon:a}),"video"===e.item_type&&re.a.createElement(Bt,{data:e,icon:a}))}))):re.a.createElement("div",null,"No Newsitems")},Gt=["children"],Yt=function(e){var t=e.children,n=Object(ye.a)(e,Gt);return re.a.createElement(Ne,Object.assign({boxShadow:2},n),t)},qt=(n(194),function(e){var t=Object(ae.useState)(JSON.parse(JSON.stringify(e.data||[]))),n=Object(ie.a)(t,2),a=n[0],r=n[1];return re.a.createElement("div",{className:"venues-section"},re.a.createElement("div",null,re.a.createElement("div",{className:"filter-section"},re.a.createElement("input",{className:"filter-input",onChange:function(t){var n=e.data.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}));r(n)}}),re.a.createElement(Ae.c,{className:"filter-icon",icon:ut.j}))),re.a.createElement("div",{className:"container"},a.map((function(e,t){return re.a.createElement("div",{key:t,className:"venues"},re.a.createElement("div",{className:"image-section"},re.a.createElement("img",{src:e.photo})),re.a.createElement("div",{className:"info-section"},re.a.createElement("h4",{className:"title"},e.name),re.a.createElement("div",{className:"rating-section"},re.a.createElement(yt,{rate:3.5}),re.a.createElement("span",{className:"reviews"},"5 reviews")),re.a.createElement("div",{className:"tags-section"},e.tags.map((function(e,t){return re.a.createElement("span",{key:t,className:"tags"},e.name)}))),re.a.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:e.subhead}}),re.a.createElement("p",{className:"address"},"111 N Main St., New York, NY 11223")),re.a.createElement("img",{className:"forward-arrow",src:"/assets/16x16/arrow-right.png"}))}))))}),Xt=function(e){Ie(e,"CitiesShow");var t=e.match,n=Object(pe.g)();Ie(n,"production history");var a=Object(pe.h)(),r=Object(ae.useState)(null),c=Object(ie.a)(r,2),o=c[0],l=c[1],i=Object(ae.useState)(!1),s=Object(ie.a)(i,2),u=s[0],m=s[1],d=je(),p=Object(ae.useRef)("init");return Object(ae.useEffect)((function(){return m(!0),d.getCity(t.params.name).then((function(e){p.current&&(l(e.data.city),m(!1))})),function(){return p.current=!1}}),[t.params.name]),re.a.createElement(Te,null,o&&re.a.createElement("div",{className:"wrapper"},re.a.createElement("div",{className:"city-show"},re.a.createElement("header",{style:{backgroundImage:"url(".concat(o.hero_img,"}"),backgroundSize:"contain"}}),re.a.createElement("section",{className:"section-one"},re.a.createElement(Ae.c,{icon:ut.p,className:"location"}),re.a.createElement("h1",{className:"city-name"},o.name),re.a.createElement("div",{className:"status"},re.a.createElement("div",{className:"status-grid"},re.a.createElement(Ae.c,{className:"info-icon",icon:ut.n}),re.a.createElement("span",{className:"numbers"},o.n_reports)),re.a.createElement("div",{className:"status-grid"},re.a.createElement(Ae.c,{className:"info-icon",icon:ut.k}),re.a.createElement("span",{className:"numbers"},o.n_galleries)),re.a.createElement("div",{className:"status-grid mid"},re.a.createElement(Ae.c,{className:"info-icon",icon:ut.y}),re.a.createElement("span",{className:"numbers "},o.n_videos)))),o.tags&&re.a.createElement("section",{className:"tags-section"},re.a.createElement("span",{className:"btn delete-btn"},re.a.createElement(Ae.c,{name:"close"}," ")," deselect all"),o.tags.map((function(e,t){return re.a.createElement("span",{className:"btn",key:t},e.name)}))),re.a.createElement("section",{className:"section-three"},re.a.createElement("div",{className:"menu-option",onClick:function(){}},re.a.createElement("img",{src:"/assets/newsfeed-icon.svg",alt:"Newsfeed"}),re.a.createElement("p",{className:"".concat(a.pathname.includes("newsfeed")?"selected":""," menu-item")},"Newsfeed")),re.a.createElement("div",{className:"menu-option",onClick:function(){}},re.a.createElement("img",{src:"/assets/venue-icon.svg",alt:"Venues"}),re.a.createElement("p",{className:"".concat(a.pathname.includes("venues")?"selected":""," menu-item")},"Venues"))),re.a.createElement(pe.d,null,re.a.createElement(pe.b,{exact:!0,path:"".concat(t.url,"/venues"),render:function(){return re.a.createElement(qt,{data:o.venues})}}),re.a.createElement(pe.b,{exact:!0,path:t.url,render:function(){return re.a.createElement(Vt,{newsitems:o.newsitems})}})))),re.a.createElement(Ae.h,{isOpen:u,onDidDismiss:function(){return m(!1)},message:"Please wait...",duration:5e3}),"\xa0")},Zt=(n(195),function(e){Ie(e,"GalleriesShow");var t=e.match,n=Object(ae.useState)(!1),a=Object(ie.a)(n,2),r=(a[0],a[1]),c=Object(ae.useState)({}),o=Object(ie.a)(c,2),l=o[0],i=o[1];return Object(ae.useEffect)((function(){r(!0);var e=localStorage.getItem("jwtToken");_e.get("/api/galleries/view/".concat(t.params.slug),{params:{jwt_token:e}}).then((function(e){r(!1),i(e.data.gallery)}))}),[]),re.a.createElement(ae.Fragment,null,re.a.createElement("div",{className:"gallery-show"},re.a.createElement("div",{className:"narrow"},re.a.createElement("h1",{className:"heading"},re.a.createElement("img",{src:"/assets/newsfeed/photos_icon.png"}),re.a.createElement("span",{className:"title"},l.name)),re.a.createElement(Ot,{item:l}),re.a.createElement("div",{className:"thumbs"},l.photos&&l.photos.map((function(e,t){return re.a.createElement("div",{className:"card",key:t},re.a.createElement("div",{className:"card-inner"},re.a.createElement(Ae.d,{src:e.thumb_url})))})))),re.a.createElement("div",{className:"full-img-section"},l.photos&&l.photos.map((function(e,t){return re.a.createElement("div",{className:"item",key:t},re.a.createElement("img",{src:e.large_url}))})))))}),Kt=function(e){var t=Object(ae.useState)(null),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ae.useState)(!1),o=Object(ie.a)(c,2),l=o[0],i=o[1];return Object(ae.useEffect)((function(){i(!0);var e=localStorage.getItem("jwtToken");_e.get("/api/my/galleries",{params:{jwt_token:e}}).then((function(e){Ie(e.data,"MyGalleries data"),r(e.data),i(!1)}))}),[]),re.a.createElement(re.a.Fragment,null,re.a.createElement(Ae.h,{isOpen:l,onDidDismiss:function(){return i(!1)},message:"Please wait...",duration:5e3}),a&&a.length&&a.map((function(e){return re.a.createElement(Mt,{key:e.id,data:e})})))},Qt=be.a.div(L||(L=Object(se.a)(["\n  padding: 0.5em;\n"]))),$t=be.a.div(T||(T=Object(se.a)(["\n  padding: 0.5em 0;\n"]))),en=be.a.div(P||(P=Object(se.a)(["\n  display: flex;\n  z-index: 50;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: white;\n"]))),tn=function(e){Ie(e,"Breakcrumbs");var t=Object(pe.g)(),n=[];return e.breadcrumbs.map((function(a,r){r+1===e.breadcrumbs.length?n.push(re.a.createElement(Qt,{key:r},a.name)):(n.push(re.a.createElement(Qt,{key:r,style:{textDecoration:"underline"},onClick:function(){return t.push("/en/locations/show/".concat(a.slug))}},a.name)),n.push(re.a.createElement($t,{key:"".concat(r,"-divider")},">")))})),re.a.createElement(en,null,n)},nn=be.a.div(M||(M=Object(se.a)(["\n  padding: 2em 0;\n"]))),an=function(e){Ie(e,"ReportsShow");var t=Object(ae.useState)({}),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=je(),o=(JSON.parse(localStorage.getItem("current_user")),function(){var t=Object(le.a)(me.a.mark((function t(){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ie(null,"getting report..."),_e.get(c.reportsGet(e.match.params.slug)).then((function(e){return e.data})).then((function(e){Ie(e,"got report"),r(e.report)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(ae.useEffect)((function(){o()}),[]),re.a.createElement(nn,null,re.a.createElement(Ne,{boxShadow:2},re.a.createElement("h1",null,"Report ",a.name),re.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a.description}})))},rn=function(e){Ie(e,"ItemModal");var t=e.item,n=Object(ae.useContext)(Le),a=n.showItem,r=n.setShowItem;return re.a.createElement(Ge.a,{isOpen:!!a},re.a.createElement("h1",{onClick:function(){return r(!1)}},"[x]"),"report"===t.item_type&&re.a.createElement(an,{match:{params:{slug:t.reportname}}}))},cn=be.a.div(F||(F=Object(se.a)(["\n  // border: 1px solid blue;\n\n  background: #dedede;\n  flex: 50%;\n  overflow: scroll;\n  height: calc(100vh - 40px - ",");\n"])),(function(e){return e.bottomDrawerOpen?"".concat(e.bottomDrawerHeight-e.borderWidth,"px"):"0px"})),on=be.a.div(H||(H=Object(se.a)(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),ln=function(e){var t=e.item;return re.a.createElement(on,{dangerouslySetInnerHTML:{__html:t.description}})},sn=(be.a.div(W||(W=Object(se.a)(["\n  padding: 0.5em;\n"]))),be.a.div(A||(A=Object(se.a)(["\n  padding: 0.5em 0;\n"]))),function(e){var t=Object(ae.useContext)(Le),n=t.showUrl,a=t.setShowUrl;return re.a.createElement(Ge.a,{ariaHideApp:!1,isOpen:!!n},re.a.createElement("span",{onClick:function(){a(!1)}},"[x]"),re.a.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))}),un=be.a.div(z||(z=Object(se.a)(["\n  // border: 1px solid green;\n\n  background: #dedede;\n\n  padding: 1em;\n  flex: 50%;\n  overflow: scroll;\n  height: calc(100vh - ","px - ","px);\n"])),(function(e){return e.bottomDrawerOpen?e.bottomDrawerHeight:e.borderWidth}),(function(e){return 3*e.borderWidth})),mn=be.a.div(B||(B=Object(se.a)(["\n  display: flex;\n  position: relative;\n"]))),dn=function(e){Ie(e,"LocationsShow");var t=e.match,n=Object(ae.useState)(!1),a=Object(ie.a)(n,2),r=a[0],c=a[1],o=Object(ae.useState)(null),l=Object(ie.a)(o,2),i=l[0],s=l[1],u=Object(ae.useContext)(Le),m=u.showItem,d=(u.setShowItem,u.showUrl),p=(u.setShowUrl,Object(ae.useRef)("init"));Object(ae.useEffect)((function(){c(!0);var e=localStorage.getItem("jwt_token");return _e.get("/api/maps/view/".concat(t.params.slug),{params:{jwt_token:e}}).then((function(e){if(p.current===t.params.slug)return null;s(e.data.map),c(!1)})).finally((function(){})),function(){p.current=t.params.slug}}),[t.params.slug]);var g=Ue,f=De,b=Object(ae.useContext)(Le).bottomDrawerOpen;return re.a.createElement(mn,null,re.a.createElement(cn,{borderWidth:g,bottomDrawerOpen:b,bottomDrawerHeight:f},r&&re.a.createElement("i",null,"Loading Left..."),i&&re.a.createElement(tn,i),i&&re.a.createElement(hn,{map:i.map?i.map:i})),re.a.createElement(un,{borderWidth:g,bottomDrawerOpen:b,bottomDrawerHeight:f},r&&re.a.createElement("i",null,"Loading Right..."),i&&re.a.createElement(ae.Fragment,null,re.a.createElement(En,{markers:i.markers}),re.a.createElement(ln,{item:i}),i.newsitems&&i.newsitems.length&&re.a.createElement(Vt,{newsitems:i.newsitems})||null)),d&&re.a.createElement(sn,{src:d}),m&&re.a.createElement(rn,{item:m}))},pn=(be.a.div(R||(R=Object(se.a)(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),be.a.div(J||(J=Object(se.a)(["\n  position: relative;\n"]))),be.a.div(V||(V=Object(se.a)(["\n  // border: 1px solid orange;\n\n  position: absolute;\n  top: 0;\n  left: calc(100vw - 80px);\n  background: white;\n  padding: 5px;\n\n  display: flex;\n  flex-direction: column;\n  z-index: 10;\n"]))),be.a.div(G||(G=Object(se.a)(["\n  // border: 2px solid brown;\n\n  text-align: center;\n  display: block;\n\n  position: relative; /* required for mobile, so that zoomCtrl, etc are inside the collapsible div */\n\n  overflow: scroll;\n  max-height: 80vh;\n"]))),be.a.div(Y||(Y=Object(se.a)([""]))),be.a.div(q||(q=Object(se.a)(["\n  // border: 2px solid cyan;\n\n  display: flex;\n  flex-direction: column;\n\n  overflow: scroll;\n  height: calc(100vh - 40px); /* @TODO: why 40px?! */\n"]))),be.a.div(X||(X=Object(se.a)(["\n  // border: 3px solid green;\n\n  text-align: center;\n  display: block;\n\n  position: relative;\n"])))),gn=be.a.div(Z||(Z=Object(se.a)(["\n"]))),fn=be.a.div(K||(K=Object(se.a)(["\n  // position: relative;\n"]))),bn=function(e){var t=Object(ae.useContext)(Le),n=t.zoom,a=t.setZoom;return re.a.createElement("div",{style:{position:"absolute",top:0,left:"calc(50% - 20px)",zIndex:1,background:"white",padding:"5px",display:"flex",flexDirection:"column"}},re.a.createElement("span",{onClick:function(){a(n/2)}},"[+]"),re.a.createElement("span",{onClick:function(){a(2*n)}},"[-]"),re.a.createElement("span",{onClick:function(){a(1)}},"[1]"))},hn=function(e){var t=e.map,n=Object(ae.useContext)(Le),a=(n.showUrl,n.setShowUrl),r=n.zoom,c=(n.setZoom,Object(ae.useRef)(null)),o=Object(pe.g)();Object(ae.useEffect)((function(){c.current.scrollIntoView({block:"end"})}),[]);var l=[];return t.markers.map((function(e,t){var n=re.a.createElement("div",{key:t,onClick:function(){return e.url?a(e.url):o.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:r>1?(e.y-e.centerOffsetY)/r:e.y/r-e.centerOffsetY,left:r>1?(e.x-e.centerOffsetX)/r:e.x/r-e.centerOffsetX}},re.a.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w/r,"px"),maxHeight:"".concat(e.h/r,"px"),width:"auto",height:"auto"}}));l.push(n)})),re.a.createElement(fn,null,re.a.createElement(bn,null),re.a.createElement(pn,{ref:c},re.a.createElement(gn,{style:{display:"inline-block",position:"relative",width:"".concat(t.w/r,"px"),height:"".concat(t.h/r,"px")}},re.a.createElement("img",{src:t.img_path,style:{width:"".concat(t.w/r,"px"),height:"".concat(t.h/r,"px")}}),l)))},En=function(e){Ie(e,"Markers");var t=Object(pe.g)(),n=Object(ae.useContext)(Le),a=(n.showUrl,n.setShowUrl),r=[];return e.markers.map((function(e,n){r.push(re.a.createElement("div",{key:n,style:{margin:"10px"},onClick:function(){return function(e){e.url?a(e.url):t.push("/en/locations/show/".concat(e.slug))}(e)}},re.a.createElement("img",{src:e.title_img_path}),re.a.createElement("br",null),e.name))})),re.a.createElement("div",{style:{display:"flex"}},r)},vn=(n(196),be.a.div(Q||(Q=Object(se.a)(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])))),jn=function(){return re.a.createElement(vn,null,re.a.createElement("img",{className:"image",src:"/assets/hero.png"}))},On=be.a.div($||($=Object(se.a)(["\n  padding: 0;\n  margin: 0;\n  height: 100vh;\n"]))),yn=function(e){var t=Object(ae.useState)([]),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ae.useState)(!1),o=Object(ie.a)(c,2),l=o[0],i=o[1],s=je(),u=Object(ae.useRef)("init");return Object(ae.useEffect)((function(){return s.applicationHome().then((function(e){if(!u.current)return null;r(e.newsitems),i(!1)})),function(){u.current=!1}}),[]),re.a.createElement(ae.Fragment,null,re.a.createElement(On,null,re.a.createElement(jn,null),re.a.createElement(Vt,{newsitems:a}),"\xa0"),re.a.createElement(Ae.h,{isOpen:l,onDidDismiss:function(){return i(!1)},message:"Please wait...",duration:5e3}))},wn=Object(Be.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},redBorder:{border:"1px solid red"},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}})),kn=be.a.div(ee||(ee=Object(se.a)(["\n  border-bottom: 1px solid red;\n"]))),xn=function(e){Ie(e,"Video");je();var t=e.item;return re.a.createElement(kn,{key:e.idx},re.a.createElement("h5",null,"Video ",t.name),re.a.createElement("p",null,"created ",t.created_at),re.a.createElement("video",{controls:!0,preload:"metadata",type:"video/mp4",src:t.video_url,style:{maxWidth:"500px",maxHeight:"90vh"}}))},_n=function(){Ie(Ee.a,"Videos component"),console.log(JSON.stringify(Ee.a));var e=Object(ae.useState)([]),t=Object(ie.a)(e,2),n=t[0],a=t[1],r=localStorage.getItem("jwtToken"),c=wn(),o=je();return Object(ae.useEffect)((function(){Ie("posting..."),_e.post(o.myVideosPath,{jwtToken:r}).then((function(e){return e.data})).then((function(e){var t=e.videos;Ie(t,"data"),a(t)}))}),[]),re.a.createElement(de.a,{maxWidth:"md"},re.a.createElement(ze.a,{container:!0,className:c.root},re.a.createElement(ze.a,{item:!0,xs:12},re.a.createElement("h2",null,"My Videos")),re.a.createElement(ze.a,{item:!0,xs:12},n&&n.map((function(e,t){return re.a.createElement(xn,{key:t,item:e})})))))},Nn=be.a.div(te||(te=Object(se.a)(["\n  background: #dedede;\n  height: 100vh;\n  overflow: auto;\n"]))),Cn=Object(be.a)(de.a)(ne||(ne=Object(se.a)(["\n  height: 100vh;\n  overflow: scroll;\n"]))),Sn=function(){var e=Object(ae.useState)(!1),t=Object(ie.a)(e,2),n=t[0],a=t[1],r=Object(ae.useState)(!1),c=Object(ie.a)(r,2),o=c[0],l=c[1],i=Object(ae.useState)(!1),s=Object(ie.a)(i,2),u=s[0],m=s[1],d=Object(ae.useState)(Se.layout_onecol),p=Object(ie.a)(d,2),g=p[0],f=p[1],b=Object(ae.useState)(!1),h=Object(ie.a)(b,2),E=h[0],v=h[1],j=Object(ae.useState)(!1),O=Object(ie.a)(j,2),y=O[0],w=O[1],k=Object(ae.useState)(!1),x=Object(ie.a)(k,2),_=x[0],N=x[1],C=Object(ae.useState)(1),S=Object(ie.a)(C,2),I=S[0],U=S[1],D=je();Object(ae.useEffect)((function(){(function(){var e=Object(le.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt_token"),e.next=3,_e.get("".concat(Ee.a.apiOrigin).concat(D.myAccount(),"?jwt_token=").concat(t)).then((function(e){l(e.data)})).catch((function(e){Ie(e,"e12"),"Request failed with status code 401"===e.message&&v(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(e){switch(g){case Se.layout_onecol:return re.a.createElement(Cn,Object.assign({maxWidth:"md"},e));case Se.layout_mapui:return re.a.createElement(St,Object.assign({},e,{bottomDrawerOpen:n,setBottomDrawerOpen:a}))}},T=function(e){return Object(ae.useEffect)((function(){e.layout?f(e.layout):f(Se.layout_onecol)}),[e.layout]),re.a.createElement(pe.b,e)};return re.a.createElement(ge.a,null,re.a.createElement(fe.a,null),re.a.createElement(Le.Provider,{value:{bottomDrawerOpen:n,setBottomDrawerOpen:a,currentUser:o,setCurrentUser:l,itemToUnlock:u,setItemToUnlock:m,layout:g,setLayout:f,loginModalOpen:E,setLoginModalOpen:v,showItem:y,setShowItem:w,showUrl:_,setShowUrl:N,zoom:I,setZoom:U}},re.a.createElement(vt,null),re.a.createElement(Nn,null,re.a.createElement(L,null,re.a.createElement(pe.d,{id:"main",main:!0},re.a.createElement(pe.a,{exact:!0,from:"/",to:"/en"}),re.a.createElement(T,{exact:!0,path:"/en"},re.a.createElement(yn,null)),re.a.createElement(T,{exact:!0,path:"/en/account",component:Je}),re.a.createElement(T,{exact:!0,path:"/en/account/my/videos",component:_n}),re.a.createElement(T,{exact:!0,path:"/en/account/my/galleries",component:Kt}),re.a.createElement(T,{exact:!0,path:"/en/cities",component:It}),re.a.createElement(T,{path:"/en/cities/travel-to/:name",component:Xt}),re.a.createElement(T,{exact:!0,path:"/en/galleries/show/:slug",component:Zt}),re.a.createElement(T,{exact:!0,path:"/en/reports/show/:slug",component:an}),re.a.createElement(T,{exact:!0,path:"/en/locations/show/:slug",component:dn,layout:Se.layout_mapui})))),re.a.createElement(st,null),re.a.createElement(Nt,null),re.a.createElement(Ye,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));oe.a.render(re.a.createElement(Sn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},68:function(e,t,n){},69:function(e,t,n){}},[[139,3,4]]]);
//# sourceMappingURL=main.e8b0d3ee.chunk.js.map