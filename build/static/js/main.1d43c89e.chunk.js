(this.webpackJsonpguyd=this.webpackJsonpguyd||[]).push([[1],{115:function(e,t,n){},139:function(e,t,n){e.exports=n(197)},154:function(e,t,n){},156:function(e,t,n){var a={"./ion-action-sheet.entry.js":[202,5],"./ion-alert.entry.js":[203,6],"./ion-app_8.entry.js":[204,7],"./ion-avatar_3.entry.js":[205,17],"./ion-back-button.entry.js":[206,18],"./ion-backdrop.entry.js":[207,43],"./ion-button_2.entry.js":[208,19],"./ion-card_5.entry.js":[209,20],"./ion-checkbox.entry.js":[210,21],"./ion-chip.entry.js":[211,22],"./ion-col_3.entry.js":[212,44],"./ion-datetime_3.entry.js":[213,10],"./ion-fab_3.entry.js":[214,23],"./ion-img.entry.js":[215,45],"./ion-infinite-scroll_2.entry.js":[216,46],"./ion-input.entry.js":[217,24],"./ion-item-option_3.entry.js":[218,25],"./ion-item_8.entry.js":[219,26],"./ion-loading.entry.js":[220,27],"./ion-menu_3.entry.js":[221,28],"./ion-modal.entry.js":[222,8],"./ion-nav_2.entry.js":[223,14],"./ion-popover.entry.js":[224,9],"./ion-progress-bar.entry.js":[225,29],"./ion-radio_2.entry.js":[226,30],"./ion-range.entry.js":[227,31],"./ion-refresher_2.entry.js":[228,11],"./ion-reorder_2.entry.js":[229,16],"./ion-ripple-effect.entry.js":[230,47],"./ion-route_4.entry.js":[231,32],"./ion-searchbar.entry.js":[232,33],"./ion-segment_2.entry.js":[233,34],"./ion-select_3.entry.js":[234,35],"./ion-slide_2.entry.js":[235,48],"./ion-spinner.entry.js":[236,13],"./ion-split-pane.entry.js":[237,49],"./ion-tab-bar_2.entry.js":[238,36],"./ion-tab_2.entry.js":[239,15],"./ion-text.entry.js":[240,37],"./ion-textarea.entry.js":[241,38],"./ion-toast.entry.js":[242,39],"./ion-toggle.entry.js":[243,12],"./ion-virtual-scroll.entry.js":[244,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=156,e.exports=r},158:function(e,t,n){var a={"./ion-icon.entry.js":[245,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=158,e.exports=r},159:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,l,s,u,m,d,p,f,g,b,h,E,v,j,O,y,w,k,x,_,N,C,S,U,I,D,L,M,T,P,F,W,H,A,z,R,B,V,J,G,Y,q,X,Z,K,Q,$,ee,te,ne=n(0),ae=n.n(ne),re=n(13),ce=n.n(re),oe=n(16),ie=n(6),le=n(4),se=n(18),ue=n.n(se),me=n(271),de=n(26),pe=n(19),fe=n(78),ge=n(3),be=(n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(100),n(20)),he=n.n(be),Ee=n(273),ve=function(){var e=Object(ne.useContext)(et),t=(e.currentUser,e.setCurrentUser,localStorage.getItem(Ze.jwt_token));return{doUnlock:function(e){var t=e.kind,n=e.id,a=localStorage.getItem("jwt_token");return"/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(a)},getMyAccount:function(){var e=localStorage.getItem("jwt_token");return Ye.post("/api/my/account",{jwt_token:e})},loginPath:"/api/users/login.json",longTermTokenPath:"/api/users/long_term_token",myAccount:function(){return"/api/my/account"},myVideosPath:"/api/my/videos",paymentsPath:"/api/payments2",reportsGet:function(e){var t=JSON.parse(localStorage.getItem("current_user"))||{},n="";return t&&(n="jwt_token=".concat(t.jwt_token)),"".concat(he.a.apiOrigin,"/api/reports/view/").concat(e,"?").concat(n)},getCities:function(){return Ye.get("".concat(he.a.apiOrigin,"/api/cities")).then((function(e){return e.data}))},getCity:function(e){return Ye.get("".concat(he.a.apiOrigin,"/api/cities/view/").concat(e))},applicationHome:function(){var e=Object(oe.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.get("".concat(he.a.apiOrigin,"/api/sites/view/").concat(he.a.domain),{params:{jwt_token:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},je=(n(33),n(54)),Oe=(n(155),n(7)),ye=n(266),we=n(265),ke=(n(159),Object(we.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}}))),xe=function(e){var t=ke(),n=Object(ne.useContext)(et),a=n.currentUser;n.setCurrentUser;return ae.a.createElement(ne.Fragment,null,ae.a.createElement(ye.a,{container:!0,spacing:2,className:t.root},ae.a.createElement(ye.a,{item:!0,xs:12},ae.a.createElement(ye.a,{container:!0},ae.a.createElement(ye.a,{item:!0,xs:6},ae.a.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"})),ae.a.createElement(ye.a,{item:!0,xs:6},!!a&&ae.a.createElement(ne.Fragment,null,ae.a.createElement("h4",null,a.email),ae.a.createElement("ul",null,ae.a.createElement("li",null,ae.a.createElement(pe.b,{to:"/en/account/my/galleries"},"My Galleries")),ae.a.createElement("li",null,ae.a.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),ae.a.createElement("li",null,ae.a.createElement(Ae,null))))||ae.a.createElement(ne.Fragment,null,ae.a.createElement("h4",null,"Not logged in"),ae.a.createElement(He,null),ae.a.createElement("br",null),ae.a.createElement("br",null),ae.a.createElement(ze,null)))))))},_e=n(41),Ne=n.n(_e),Ce=function(e){Qe(e,"LoginModal");var t=Object(ne.useContext)(et),n=t.loginModalOpen,a=t.setLoginModalOpen;return ae.a.createElement(Ne.a,{style:{zIndex:3},isOpen:n},ae.a.createElement("h1",null,"Please Login",ae.a.createElement("button",{onClick:function(){return a(!1)}},"[x]")),ae.a.createElement(He,null),ae.a.createElement(ze,null))},Se=n(52),Ue=n(122),Ie=Object(Ue.a)("pk_test_qr1QPmSpLdBFt1F7itdWJOj3"),De=function(e){return ae.a.createElement(ne.Fragment,null,ae.a.createElement("button",null,"do login"))},Le=ge.a.div(a||(a=Object(le.a)(["\n  // border: 1px solid red;\n\n  background: white;\n  height: 100px;\n  width: calc(100vw - ","px);\n  padding: 1em;\n  margin-bottom: ","px;\n"])),(function(e){return 2*e.borderWidth}),(function(e){return e.borderWidth})),Me=ge.a.div(r||(r=Object(le.a)(["\n  display: flex;\n  justify-content: center;\n  background: #dedede;\n"]))),Te=function(e){var t=ve(),n=Object(ne.useContext)(et),a=n.currentUser,r=(n.setCurrentUser,Object(Se.useStripe)()),c=Object(Se.useElements)(),o=Object(ne.useState)(!1),i=Object(ie.a)(o,2),l=i[0],s=i[1],u=function(){var e=Object(oe.a)(ue.a.mark((function e(n){var a,o,i,l;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),Qe("purchasing..."),r&&c){e.next=4;break}return e.abrupt("return");case 4:return c.getElement(Se.CardElement),a=localStorage.getItem("jwt_token"),e.next=8,Ye.get("".concat(he.a.apiOrigin).concat(t.paymentsPath,"?jwt_token=").concat(a));case 8:return o=(o=e.sent).data.client_secret,Qe(o,"client_secret"),e.next=13,r.confirmCardPayment(o,{payment_method:{card:c.getElement(Se.CardElement)}});case 13:if(i=e.sent,Qe(i,"result"),!i.error){e.next=19;break}Qe(i.error.message,"error message"),e.next=27;break;case 19:if("succeeded"!==i.paymentIntent.status){e.next=26;break}return e.next=22,Ye.get("".concat(he.a.apiOrigin).concat(t.myAccount(),"?jwt_token=").concat(a));case 22:l=e.sent,Qe(l,"ze3response"),e.next=27;break;case 26:Qe("something else");case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=$e.borderWidth;return a?ae.a.createElement(Me,null,ae.a.createElement(Le,{borderWidth:m},a.email?a.email:ae.a.createElement(De,null)," \xa0 [\xa0","number"===typeof a.n_unlocks?a.n_unlocks:"?"," coins\xa0]\xa0 \xa0",ae.a.createElement("button",{onClick:function(){return s(!0)}},"buy"),ae.a.createElement(Ne.a,{isOpen:l,ariaHideApp:!1,style:{width:"500px"}},ae.a.createElement("h1",null,"Purchase this",ae.a.createElement("span",{onClick:function(){Qe("clicking..."),s(!1)}},"[x]")),ae.a.createElement("form",{onSubmit:u},ae.a.createElement(Se.CardElement,null),ae.a.createElement("button",{type:"submit",disabled:!r},"Pay"))))):null},Pe=function(e){return ae.a.createElement(Se.Elements,{stripe:Ie},ae.a.createElement(Te,e))},Fe=je.a.FacebookLogin,We=["email"],He=function(e){var t=ve(),n=Object(ne.useContext)(et),a=(n.currentUser,n.setCurrentUser),r=function(){var e=Object(oe.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.login({permissions:We});case 2:(n=e.sent).accessToken?Ye.post("".concat(he.a.apiOrigin).concat(t.longTermTokenPath),{accessToken:n.accessToken.token}).then((function(e){localStorage.setItem(Ze.jwt_token,e.data.jwt_token),localStorage.setItem(Ze.current_user,JSON.stringify(e.data)),a(e.data)})).catch((function(e){Qe(e,"Could not post request to ".concat(he.a.apiOrigin).concat(t.longTermTokenPath))})):Qe("canceled");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ae.a.createElement(Xe,{onClick:r},"FB Login")},Ae=function(){var e=Object(ne.useContext)(et),t=(e.currentUser,e.setCurrentUser);return ae.a.createElement(Xe,{onClick:function(){localStorage.removeItem(Ze.jwt_token),localStorage.removeItem(Ze.current_user),t(null)}},"Logout")},ze=function(e){var t=ve(),n=Object(ne.useContext)(et),a=(n.currentUser,n.setCurrentUser),r=(n.loginModalOpen,n.setLoginModalOpen),c=Object(ne.useState)(""),o=Object(ie.a)(c,2),i=o[0],l=o[1],s=Object(ne.useState)(""),u=Object(ie.a)(s,2),m=u[0],d=u[1],p=function(){var e=Object(oe.a)(ue.a.mark((function e(n,c){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye.post("".concat(he.a.apiOrigin).concat(t.loginPath),{email:n,password:c}).then((function(e){return e.data})).then((function(e){a(e),localStorage.setItem("jwt_token",e.jwt_token),localStorage.setItem("current_user",JSON.stringify(e)),r(!1)})).catch((function(e){Qe(e,"e322"),Object(fe.b)("Login failed"),a(null)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ae.a.createElement(ne.Fragment,null,ae.a.createElement("input",{type:"email",value:i,onChange:function(e){return l(e.target.value)}}),ae.a.createElement("br",null),ae.a.createElement("input",{type:"password",value:m,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&p(i,m)}}),ae.a.createElement("br",null),ae.a.createElement(Xe,{onClick:function(){return p(i,m)}},"Password Login"))},Re={cityPath:function(e){return"/en/cities/travel-to/".concat(e)}},Be=(n(27),n(89),n(80)),Ve=(ge.a.div(c||(c=Object(le.a)(["\n  display: flex;\n"]))),ge.a.div(o||(o=Object(le.a)(["\n  background: #dedede;\n  margin: .5em;\n  padding: .5em;\n\n  margin-bottom: 1em;\n"]))),ge.a.div(i||(i=Object(le.a)(["\n  // border: 2px solid red;\n\n  max-height: 100vh;\n"]))),n(126)),Je=n.n(Ve),Ge={baseURL:he.a.apiOrigin},Ye=Je.a.create(Ge),qe=Object(ge.a)(Ee.a)(l||(l=Object(le.a)(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.cursor?e.cursor:"auto"})),Xe=ge.a.div(s||(s=Object(le.a)(["\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n"]))),Ze={current_user:"current_user",jwt_token:"jwt_token",item_types:{gallery:"Gallery",report:"Report",video:"Video"},layout_onecol:"onecol",layout_mapui:"mapui"},Ke=(ge.a.div(u||(u=Object(le.a)(["\n"]))),function(e){switch(e){case"Gallery":return"galleries";default:return"".concat(e.toLowerCase(),"s")}}),Qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"===typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)},$e={borderWidth:10,bottomDrawerHeight:100},et=ae.a.createContext({}),tt=ge.a.div(m||(m=Object(le.a)(["\n  height: 100vh;\n"]))),nt=n(272),at=n(268),rt=n(79),ct=n.n(rt),ot=ge.a.div(d||(d=Object(le.a)(["\n  // height: 100px;\n  // position: absolute;\n  // bottom: 0;\n"]))),it=ge.a.div(p||(p=Object(le.a)(["\n  // border: 1px solid yellow;\n  position: absolute;\n  bottom: -10px;\n  left: 10px;\n"]))),lt=function(e){var t=Object(ne.useContext)(et),n=t.bottomDrawerOpen,a=t.layout,r=t.setBottomDrawerOpen;return a===Ze.layout_onecol?null:ae.a.createElement(ne.Fragment,null,ae.a.createElement(ot,null,ae.a.createElement(it,null,ae.a.createElement(at.a,{"aria-label":"open drawer",onClick:function(){return r(!0)},edge:"start",className:"menu-btn"},ae.a.createElement(ct.a,{fontSize:"small",style:{color:"white"}}))),ae.a.createElement(dt,null)),ae.a.createElement(nt.a,{anchor:"bottom",elevation:1,open:n,onClose:function(){return r(!1)},BackdropProps:{invisible:!0},variant:"persistent"},ae.a.createElement("div",null,ae.a.createElement(Pe,null),ae.a.createElement("div",{onClick:function(){return r(!1)},style:{position:"absolute",left:0,bottom:0}},"[X]"))))},st=n(10),ut=(n(68),[{title:"Homefeed",icon:st.n,url:"/en"},{title:"Cities",icon:st.c,url:"/en/cities"},{title:"My Account",icon:st.o,url:"/en/account"},{title:"Account2",icon:st.o,url:"/en/account2"},{title:"Login",icon:st.q}]),mt=function(){return ae.a.createElement(Oe.i,{contentId:"main",type:"overlay"},ae.a.createElement(Oe.b,null,ae.a.createElement(Oe.l,{color:"primary"},ae.a.createElement(Oe.k,null,"Menu"))),ae.a.createElement(Oe.a,null,ae.a.createElement("img",{src:"/assets/hero.png"}),ae.a.createElement(Oe.g,{id:"inbox-list"},ut.map((function(e,t){return ae.a.createElement(Oe.j,{key:t,autoHide:!1},ae.a.createElement(Oe.e,{routerLink:e.url,routerDirection:"none",lines:"none",detail:!1},ae.a.createElement(Oe.c,{slot:"start",ios:e.icon,md:e.icon}),ae.a.createElement(Oe.f,null,e.title)))})))))},dt=function(){return ae.a.createElement(Oe.i,{type:"overlay"},ae.a.createElement(Oe.b,null,ae.a.createElement(Oe.l,{color:"primary"},ae.a.createElement(Oe.k,null,"Menu"))),ae.a.createElement(Oe.a,null,ae.a.createElement("img",{src:"/assets/hero.png"}),ae.a.createElement("h1",null,"what's here?")))},pt=n(269),ft=n(270),gt=ge.a.div(f||(f=Object(le.a)(["\n  // border: 1px solid green;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  background: white;\n"]))),bt=ge.a.div(g||(g=Object(le.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"]))),ht=ge.a.div(b||(b=Object(le.a)(["\n"]))),Et=function(e){Qe(e,"MenuLeft");var t=ae.a.useState(!1),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ne.useState)(!1),o=Object(ie.a)(c,2),i=o[0],l=(o[1],Object(de.g)()),s=Object(ne.useContext)(et),u=s.currentUser;s.setCurrentUser;return ae.a.createElement(ne.Fragment,null,ae.a.createElement(gt,null,ae.a.createElement(at.a,{"aria-label":"open drawer",onClick:function(){return r(!0)},edge:"start",className:"menu-btn"},ae.a.createElement(ct.a,null)),ae.a.createElement(mt,null)),ae.a.createElement(nt.a,{anchor:"left",open:a,onClose:function(){return r(!1)}},ae.a.createElement(bt,null,ae.a.createElement(pt.a,null,ae.a.createElement(ft.a,{button:!0,key:"newsfeed",onClick:function(){r(!1),l.push("/en")}},"Newsfeed"),ae.a.createElement(ft.a,{button:!0,key:"cities",onClick:function(){r(!1),l.push("/en/cities")}},ae.a.createElement("span",null,"Cities")),u&&u.bookmarks.map((function(e,t){return ae.a.createElement(ft.a,{button:!0,key:t,onClick:function(){r(!1),l.push("/en/locations/show/".concat(e.slug))}},ae.a.createElement("span",null,e.name))})),ae.a.createElement(ft.a,{button:!0,key:"account",onClick:function(){r(!1),l.push("/en/account")}},ae.a.createElement("span",null,"Account"))),ae.a.createElement(ht,null,i&&"Loading...",u&&ae.a.createElement(ne.Fragment,null,u.email,ae.a.createElement("br",null),u.n_stars,ae.a.createElement("br",null),"some action")))))},vt=ge.a.div(h||(h=Object(le.a)(["\n  margin-top: .5em;\n"]))),jt=Object(de.i)((function(e){var t=e.created_at,n=e.username,a=e.city,r=e.tags,c=void 0===r?[]:r;return ae.a.createElement(vt,null,ae.a.createElement("span",{className:"date"}," On ",(t||"").substring(0,10)," "),n&&ae.a.createElement(ae.a.Fragment,null,"by ",ae.a.createElement("span",{className:"user"}," ",n," ")),a&&ae.a.createElement(ae.a.Fragment,null,"in ",ae.a.createElement("span",{className:"city",onClick:function(){e.history.push("/en/cities/travel-to/".concat(a.slug,"/show/newsfeed"))}}," ",a.name," ")),c&&c.map((function(e,t){return ae.a.createElement("span",{key:t,className:"tags"},e.name)})))})),Ot=function(e){var t=e.rate,n=Object(ne.useState)([]),a=Object(ie.a)(n,2),r=a[0],c=a[1],o={0:st.x,1:st.w,2:st.v};return Object(ne.useEffect)((function(){for(var e=new Array(5).fill(0),n=0;t>0;)e[n]=t<1?1:2,t--,n++;c(e)}),[]),ae.a.createElement("span",{className:"rating"},r.map((function(e,t){return ae.a.createElement(Oe.c,{key:t,className:"stars",icon:o[e]})})))},yt=(n(193),ge.a.div(E||(E=Object(le.a)(["\n  display: inline;\n  cursor: pointer;\n"])))),wt=ge.a.div(v||(v=Object(le.a)(["\n  display: flex;\n  justify-content: space-around;\n"]))),kt=ge.a.div(j||(j=Object(le.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),xt={overlay:{},content:{margin:"auto",width:"400px"}},_t=function(e){Qe(e,"UnlockModal");var t=Object(ne.useContext)(et),n=t.currentUser,a=t.setCurrentUser,r=t.itemToUnlock,c=t.setItemToUnlock,o=(t.loginModalOpen,t.setLoginModalOpen),i=(Object(ne.useContext)(et),ve()),l=function(){var e=Object(oe.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.doUnlock({kind:r.item_type,id:r.id}),e.next=3,Ye.post("".concat(he.a.apiOrigin).concat(t)).then((function(e){c({})})).catch((function(e){Qe(e,"e19")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=Object(ne.useRef)("init");return Object(ne.useEffect)((function(){return function(){var e=Object(oe.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(Ze.jwt_token),e.next=3,Ye.get("".concat(he.a.apiOrigin).concat(i.myAccount(),"?jwt_token=").concat(t)).then((function(e){s.current&&a(e.data)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return s.current=null}}),[r.id]),r.id?ae.a.createElement(Ne.a,{style:xt,ariaHideApp:!1,isOpen:!!r.id},ae.a.createElement(kt,null,ae.a.createElement("h1",null,"Unlock this item?"),ae.a.createElement(yt,{onClick:function(){return c(!1)}},"\xd7")),ae.a.createElement("p",null,"To access this content, please unlock it first. It costs 1 (one) coin to unlock."),!!n&&ae.a.createElement("p",null,"You have ",ae.a.createElement("b",null,n.n_unlocks)," unlocks.")||ae.a.createElement("p",null,"You have to be logged in to unlock content. ",ae.a.createElement("a",{onClick:function(){o(!0),c(!1)}},"Please login.")),ae.a.createElement(wt,null,!!n&&ae.a.createElement(Xe,{onClick:l},"Unlock"))):null},Nt=ge.a.div(O||(O=Object(le.a)(["\n  background: white;\n\n  overflow: hidden;\n  margin: 10px;\n  height: calc(100vh - ","px - ",");\n"])),(function(e){return 2*e.borderWidth}),(function(e){return e.bottomDrawerOpen?"".concat(e.bottomDrawerHeight-e.borderWidth/2,"px"):"0px"})),Ct=function(e){return ae.a.createElement(Nt,Object.assign({},e,{bottomDrawerHeight:100,borderWidth:20}))},St=(n(115),function(e){var t=Object(ne.useState)([]),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ne.useState)([]),o=Object(ie.a)(c,2),i=o[0],l=o[1],s=Object(ne.useState)(!1),u=Object(ie.a)(s,2),m=u[0],d=u[1],p=ve(),f=Object(de.g)();Object(ne.useEffect)((function(){d(!0),p.getCities().then((function(e){d(!1),l(e),r(e)}))}),[]);return ae.a.createElement(ne.Fragment,null,ae.a.createElement(tt,{className:"cities"},ae.a.createElement("h1",{className:"heading"},"Cities"),ae.a.createElement(pe.b,{to:"/en/account"},"Account"),ae.a.createElement("div",{className:"filter-section"},ae.a.createElement("input",{className:"filter-input",onChange:function(e){var t=a.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.trim().toLowerCase())>-1}));l(t)}}),ae.a.createElement(Oe.c,{className:"filter-icon",icon:st.j})),ae.a.createElement("div",{className:"bookmark-section"},ae.a.createElement("label",{className:"switch"},ae.a.createElement("input",{type:"checkbox",onChange:function(){},checked:!0}),ae.a.createElement("span",{className:"slider round"})),ae.a.createElement("span",{className:"bookmark-text"},"Show only bookmarked")),ae.a.createElement("div",{className:"container"},i.map((function(e,t){return ae.a.createElement("div",{key:t,className:"cities",onClick:function(){return f.push(Re.cityPath(e.slug))}},ae.a.createElement("div",{className:"img-section"},ae.a.createElement("span",{className:"bookmark"},ae.a.createElement(Oe.c,{className:"bookmark-icon",icon:st.b})),ae.a.createElement("img",{className:"city-img",src:e.photo}),ae.a.createElement("span",{className:"city-title"},e.name)),ae.a.createElement("div",{className:"content-section"},ae.a.createElement("div",{className:"content-item"},ae.a.createElement(Oe.c,{className:"icon",icon:st.n}),ae.a.createElement("span",{className:"count"},e.n_reports)),ae.a.createElement("div",{className:"content-item"},ae.a.createElement(Oe.c,{className:"icon",icon:st.k}),ae.a.createElement("span",{className:"count"},e.n_galleries)),ae.a.createElement("div",{className:"content-item"},ae.a.createElement(Oe.c,{className:"icon",icon:st.y}),ae.a.createElement("span",{className:"count"},e.n_videos))))}))),"\xa0"),ae.a.createElement(Oe.h,{isOpen:m,onDidDismiss:function(){return d(!1)},message:"Please wait...",duration:5e3}))}),Ut=(n(69),ge.a.div(y||(y=Object(le.a)(["\n  position: relative;\n  padding-top: 100%;\n  overflow: hidden;\n  z-index: 10;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n\n  width: 100px;\n  height: 100px;\n"]))),ge.a.div(w||(w=Object(le.a)(["\n"]))),ge.a.div(k||(k=Object(le.a)(["\n  position: relative;\n"])))),It=ge.a.img(x||(x=Object(le.a)(["\n  width: 200px;\n"]))),Dt=ge.a.img(_||(_=Object(le.a)(["\n  position: absolute;\n  left: 200px;\n  top: 0;\n"]))),Lt=ge.a.img(N||(N=Object(le.a)([""]))),Mt=function(e){var t=e.item;Object(de.g)();return ae.a.createElement(Vt,{item:t},ae.a.createElement(Ut,null,!1,t.photos[0]&&ae.a.createElement(It,{src:t.photos[0].thumb_url}),t.photos[1]&&ae.a.createElement(Dt,{src:t.photos[1].thumb_url}),t.photos[2]&&ae.a.createElement(Lt,{src:t.photos[2].thumb_url}),!1))},Tt=function(e){var t=e.item;return ae.a.createElement(Vt,{item:t})},Pt=function(e){Qe(e,"NewsitemVideo");var t=e.item;return ae.a.createElement(Vt,{item:t},ae.a.createElement("div",{className:"image-section"},t.youtube_id?ae.a.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"https://www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):ae.a.createElement("video",{width:"100%",preload:"metadata",height:"auto",controls:!0},ae.a.createElement("source",{src:t.url,type:"video/mp4"}))))},Ft=ge.a.div(C||(C=Object(le.a)(["\n  margin-bottom: 2em;\n"]))),Wt=function(e){Qe(e,"Newsitems");var t=e.newsitems;return t&&t.length?ae.a.createElement(Ft,null,t.map((function(e,t){var n=e.premium_tier||0;return ae.a.createElement("div",{key:t,className:"items premium-".concat(n)},e.item_type===Ze.item_types.gallery&&ae.a.createElement(Mt,{item:e}),e.item_type===Ze.item_types.report&&ae.a.createElement(Tt,{item:e}),e.item_type===Ze.item_types.video&&ae.a.createElement(Pt,{item:e}))}))):ae.a.createElement("div",null,"No Newsitems")},Ht=function(e){var t=e.is_purchased,n=e.item_type,a=e.premium_tier;if(t)return ae.a.createElement("img",{className:"icon",src:"/assets/icons/glasses.png",alt:""});if(a>0)return ae.a.createElement("img",{className:"icon",src:"/assets/icons/gem.png",alt:""});switch(n){case Ze.item_types.gallery:return ae.a.createElement("img",{className:"icon",src:"/assets/icons/gallery.png",alt:""});case Ze.item_types.report:return ae.a.createElement("img",{className:"icon",src:"/assets/icons/report.png",alt:""});case Ze.item_types.video:return ae.a.createElement("img",{className:"icon",src:"/assets/newsfeed/video_icon.svg",alt:""});default:return"unknown kind"}},At=["children"],zt=ge.a.div(S||(S=Object(le.a)(["\n  display: flex;\n  flex-direction: column;\n\n  margin-left: 0.5em;\n"]))),Rt=ge.a.div(U||(U=Object(le.a)(["\n  display: flex;\n  flex-direction: row;\n\n  // padding: 0 1em;\n"]))),Bt=ge.a.h2(I||(I=Object(le.a)(["\n"]))),Vt=function(e){var t=e.children,n=Object(Be.a)(e,At),a=n.item,r=a.item_type,c=a.slug,o=Object(de.g)(),i=Object(ne.useContext)(et),l=(i.itemToUnlock,i.setItemToUnlock),s=i.layout,u=(i.showItem,i.setShowItem);return ae.a.createElement(qe,Object.assign({boxShadow:2},n,{onClick:function(){a.is_premium&&!a.is_purchased?l(a):s===Ze.layout_mapui?u(a):o.push("/en/".concat(Ke(r),"/show/").concat(c))},cursor:"pointer"}),t,ae.a.createElement(Rt,null,ae.a.createElement(Ht,a),ae.a.createElement(zt,null,ae.a.createElement(Bt,null,a.name),ae.a.createElement(jt,a))),ae.a.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:a.subhead}}))},Jt=(n(194),function(e){var t=Object(ne.useState)(JSON.parse(JSON.stringify(e.data||[]))),n=Object(ie.a)(t,2),a=n[0],r=n[1];return ae.a.createElement("div",{className:"venues-section"},ae.a.createElement("div",null,ae.a.createElement("div",{className:"filter-section"},ae.a.createElement("input",{className:"filter-input",onChange:function(t){var n=e.data.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}));r(n)}}),ae.a.createElement(Oe.c,{className:"filter-icon",icon:st.j}))),ae.a.createElement("div",{className:"container"},a.map((function(e,t){return ae.a.createElement("div",{key:t,className:"venues"},ae.a.createElement("div",{className:"image-section"},ae.a.createElement("img",{src:e.photo})),ae.a.createElement("div",{className:"info-section"},ae.a.createElement("h4",{className:"title"},e.name),ae.a.createElement("div",{className:"rating-section"},ae.a.createElement(Ot,{rate:3.5}),ae.a.createElement("span",{className:"reviews"},"5 reviews")),ae.a.createElement("div",{className:"tags-section"},e.tags.map((function(e,t){return ae.a.createElement("span",{key:t,className:"tags"},e.name)}))),ae.a.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:e.subhead}}),ae.a.createElement("p",{className:"address"},"111 N Main St., New York, NY 11223")),ae.a.createElement("img",{className:"forward-arrow",src:"/assets/16x16/arrow-right.png"}))}))))}),Gt=function(e){Qe(e,"CitiesShow");var t=e.match,n=Object(de.g)();Qe(n,"production history");var a=Object(de.h)(),r=Object(ne.useState)(null),c=Object(ie.a)(r,2),o=c[0],i=c[1],l=Object(ne.useState)(!1),s=Object(ie.a)(l,2),u=s[0],m=s[1],d=ve(),p=Object(ne.useRef)("init");return Object(ne.useEffect)((function(){return m(!0),d.getCity(t.params.name).then((function(e){p.current&&(i(e.data.city),m(!1))})),function(){return p.current=!1}}),[t.params.name]),ae.a.createElement(tt,null,o&&ae.a.createElement("div",{className:"wrapper"},ae.a.createElement("div",{className:"city-show"},ae.a.createElement("header",{style:{backgroundImage:"url(".concat(o.hero_img,"}"),backgroundSize:"contain"}}),ae.a.createElement("section",{className:"section-one"},ae.a.createElement(Oe.c,{icon:st.p,className:"location"}),ae.a.createElement("h1",{className:"city-name"},o.name),ae.a.createElement("div",{className:"status"},ae.a.createElement("div",{className:"status-grid"},ae.a.createElement(Oe.c,{className:"info-icon",icon:st.n}),ae.a.createElement("span",{className:"numbers"},o.n_reports)),ae.a.createElement("div",{className:"status-grid"},ae.a.createElement(Oe.c,{className:"info-icon",icon:st.k}),ae.a.createElement("span",{className:"numbers"},o.n_galleries)),ae.a.createElement("div",{className:"status-grid mid"},ae.a.createElement(Oe.c,{className:"info-icon",icon:st.y}),ae.a.createElement("span",{className:"numbers "},o.n_videos)))),o.tags&&ae.a.createElement("section",{className:"tags-section"},ae.a.createElement("span",{className:"btn delete-btn"},ae.a.createElement(Oe.c,{name:"close"}," ")," deselect all"),o.tags.map((function(e,t){return ae.a.createElement("span",{className:"btn",key:t},e.name)}))),ae.a.createElement("section",{className:"section-three"},ae.a.createElement("div",{className:"menu-option",onClick:function(){}},ae.a.createElement("img",{src:"/assets/newsfeed-icon.svg",alt:"Newsfeed"}),ae.a.createElement("p",{className:"".concat(a.pathname.includes("newsfeed")?"selected":""," menu-item")},"Newsfeed")),ae.a.createElement("div",{className:"menu-option",onClick:function(){}},ae.a.createElement("img",{src:"/assets/venue-icon.svg",alt:"Venues"}),ae.a.createElement("p",{className:"".concat(a.pathname.includes("venues")?"selected":""," menu-item")},"Venues"))),ae.a.createElement(de.d,null,ae.a.createElement(de.b,{exact:!0,path:"".concat(t.url,"/venues"),render:function(){return ae.a.createElement(Jt,{data:o.venues})}}),ae.a.createElement(de.b,{exact:!0,path:t.url,render:function(){return ae.a.createElement(Wt,{newsitems:o.newsitems})}})))),ae.a.createElement(Oe.h,{isOpen:u,onDidDismiss:function(){return m(!1)},message:"Please wait...",duration:5e3}),"\xa0")},Yt=(n(195),function(e){Qe(e,"GalleriesShow");var t=e.match,n=Object(ne.useState)(!1),a=Object(ie.a)(n,2),r=(a[0],a[1],Object(ne.useState)({})),c=Object(ie.a)(r,2),o=c[0],i=c[1],l=Object(ne.useContext)(et),s=(l.currentUser,l.setCurrentUser,l.itemToUnlock),u=l.setItemToUnlock,m=(l.loginModalOpen,l.setLoginModalOpen,Object(ne.useRef)("init")),d=function(){var e=Object(oe.a)(ue.a.mark((function e(){var n;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(Ze.jwt_token),e.next=3,Ye.get("/api/galleries/view/".concat(t.params.slug),{params:{jwt_token:n}}).then((function(e){if(m.current){var t=e.data.gallery;t.is_premium&&!t.is_purchased?u(t):i(e.data.gallery)}}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ne.useEffect)((function(){return d(),function(){m.current=null}}),[o.id,s.id]),ae.a.createElement(ne.Fragment,null,ae.a.createElement("div",{className:"gallery-show"},ae.a.createElement("div",{className:"narrow"},ae.a.createElement("h1",{className:"heading"},ae.a.createElement("img",{src:"/assets/newsfeed/photos_icon.png"}),ae.a.createElement("span",{className:"title"},o.name)),ae.a.createElement(jt,{item:o}),ae.a.createElement("div",{className:"thumbs"},o.photos&&o.photos.map((function(e,t){return ae.a.createElement("div",{className:"card",key:t},ae.a.createElement("div",{className:"card-inner"},ae.a.createElement(Oe.d,{src:e.thumb_url})))})))),ae.a.createElement("div",{className:"full-img-section"},o.photos&&o.photos.map((function(e,t){return ae.a.createElement("div",{className:"item",key:t},ae.a.createElement("img",{src:e.large_url}))})))))}),qt=function(e){var t=Object(ne.useState)(null),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ne.useState)(!1),o=Object(ie.a)(c,2),i=o[0],l=o[1];return Object(ne.useEffect)((function(){l(!0);var e=localStorage.getItem("jwtToken");Ye.get("/api/my/galleries",{params:{jwt_token:e}}).then((function(e){Qe(e.data,"MyGalleries data"),r(e.data),l(!1)}))}),[]),ae.a.createElement(ae.a.Fragment,null,ae.a.createElement(Oe.h,{isOpen:i,onDidDismiss:function(){return l(!1)},message:"Please wait...",duration:5e3}),a&&a.length&&a.map((function(e){return ae.a.createElement(Mt,{key:e.id,data:e})})))},Xt=ge.a.div(D||(D=Object(le.a)(["\n  padding: 0.5em;\n"]))),Zt=ge.a.div(L||(L=Object(le.a)(["\n  padding: 0.5em 0;\n"]))),Kt=ge.a.div(M||(M=Object(le.a)(["\n  display: flex;\n  z-index: 50;\n\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: white;\n"]))),Qt=function(e){Qe(e,"Breakcrumbs");var t=Object(de.g)(),n=[];return e.breadcrumbs.map((function(a,r){r+1===e.breadcrumbs.length?n.push(ae.a.createElement(Xt,{key:r},a.name)):(n.push(ae.a.createElement(Xt,{key:r,style:{textDecoration:"underline"},onClick:function(){return t.push("/en/locations/show/".concat(a.slug))}},a.name)),n.push(ae.a.createElement(Zt,{key:"".concat(r,"-divider")},">")))})),ae.a.createElement(Kt,null,n)},$t=ge.a.div(T||(T=Object(le.a)(["\n  padding: 2em 0;\n"]))),en=function(e){Qe(e,"ReportsShow");var t=Object(ne.useState)({}),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=ve(),o=(JSON.parse(localStorage.getItem("current_user")),function(){var t=Object(oe.a)(ue.a.mark((function t(){return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Qe(null,"getting report..."),Ye.get(c.reportsGet(e.match.params.slug)).then((function(e){return e.data})).then((function(e){Qe(e,"got report"),r(e.report)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}());return Object(ne.useEffect)((function(){o()}),[]),ae.a.createElement($t,null,ae.a.createElement(qe,{boxShadow:2},ae.a.createElement("h1",null,"Report ",a.name),ae.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a.description}})))},tn=function(e){Qe(e,"ItemModal");var t=e.item,n=Object(ne.useContext)(et),a=n.showItem,r=n.setShowItem;return ae.a.createElement(Ne.a,{isOpen:!!a},ae.a.createElement("h1",{onClick:function(){return r(!1)}},"[x]"),"report"===t.item_type&&ae.a.createElement(en,{match:{params:{slug:t.reportname}}}))},nn=ge.a.div(P||(P=Object(le.a)(["\n  // border: 1px solid blue;\n\n  background: #dedede;\n  flex: 50%;\n  overflow: scroll;\n  height: calc(100vh - 40px - ",");\n"])),(function(e){return e.bottomDrawerOpen?"".concat(e.bottomDrawerHeight-e.borderWidth,"px"):"0px"})),an=ge.a.div(F||(F=Object(le.a)(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),rn=function(e){var t=e.item;return ae.a.createElement(an,{dangerouslySetInnerHTML:{__html:t.description}})},cn=(ge.a.div(W||(W=Object(le.a)(["\n  padding: 0.5em;\n"]))),ge.a.div(H||(H=Object(le.a)(["\n  padding: 0.5em 0;\n"]))),function(e){var t=Object(ne.useContext)(et),n=t.showUrl,a=t.setShowUrl;return ae.a.createElement(Ne.a,{ariaHideApp:!1,isOpen:!!n},ae.a.createElement("span",{onClick:function(){a(!1)}},"[x]"),ae.a.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))}),on=ge.a.div(A||(A=Object(le.a)(["\n  // border: 1px solid green;\n\n  background: #dedede;\n\n  padding: 1em;\n  flex: 50%;\n  overflow: scroll;\n  height: calc(100vh - ","px - ","px);\n"])),(function(e){return e.bottomDrawerOpen?e.bottomDrawerHeight:e.borderWidth}),(function(e){return 3*e.borderWidth})),ln=ge.a.div(z||(z=Object(le.a)(["\n  display: flex;\n  position: relative;\n"]))),sn=function(e){Qe(e,"LocationsShow");var t=e.match,n=Object(ne.useState)(!1),a=Object(ie.a)(n,2),r=a[0],c=a[1],o=Object(ne.useState)(null),i=Object(ie.a)(o,2),l=i[0],s=i[1],u=Object(ne.useContext)(et),m=u.showItem,d=(u.setShowItem,u.showUrl),p=(u.setShowUrl,Object(ne.useRef)("init"));Object(ne.useEffect)((function(){c(!0);var e=localStorage.getItem("jwt_token");return Ye.get("/api/maps/view/".concat(t.params.slug),{params:{jwt_token:e}}).then((function(e){if(p.current===t.params.slug)return null;s(e.data.map),c(!1)})).finally((function(){})),function(){p.current=t.params.slug}}),[t.params.slug]);var f=$e.borderWidth,g=$e.bottomDrawerHeight,b=Object(ne.useContext)(et).bottomDrawerOpen;return ae.a.createElement(ln,null,ae.a.createElement(nn,{borderWidth:f,bottomDrawerOpen:b,bottomDrawerHeight:g},r&&ae.a.createElement("i",null,"Loading Left..."),l&&ae.a.createElement(Qt,l),l&&ae.a.createElement(fn,{map:l.map?l.map:l})),ae.a.createElement(on,{borderWidth:f,bottomDrawerOpen:b,bottomDrawerHeight:g},r&&ae.a.createElement("i",null,"Loading Right..."),l&&ae.a.createElement(ne.Fragment,null,ae.a.createElement(gn,{markers:l.markers}),ae.a.createElement(rn,{item:l}),l.newsitems&&l.newsitems.length&&ae.a.createElement(Wt,{newsitems:l.newsitems})||null)),d&&ae.a.createElement(cn,{src:d}),m&&ae.a.createElement(tn,{item:m}))},un=(ge.a.div(R||(R=Object(le.a)(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),ge.a.div(B||(B=Object(le.a)(["\n  position: relative;\n"]))),ge.a.div(V||(V=Object(le.a)(["\n  // border: 1px solid orange;\n\n  position: absolute;\n  top: 0;\n  left: calc(100vw - 80px);\n  background: white;\n  padding: 5px;\n\n  display: flex;\n  flex-direction: column;\n  z-index: 10;\n"]))),ge.a.div(J||(J=Object(le.a)(["\n  // border: 2px solid brown;\n\n  text-align: center;\n  display: block;\n\n  position: relative; /* required for mobile, so that zoomCtrl, etc are inside the collapsible div */\n\n  overflow: scroll;\n  max-height: 80vh;\n"]))),ge.a.div(G||(G=Object(le.a)([""]))),ge.a.div(Y||(Y=Object(le.a)(["\n  // border: 2px solid cyan;\n\n  display: flex;\n  flex-direction: column;\n\n  overflow: scroll;\n  height: calc(100vh - 40px); /* @TODO: why 40px?! */\n"]))),ge.a.div(q||(q=Object(le.a)(["\n  // border: 3px solid green;\n\n  text-align: center;\n  display: block;\n\n  position: relative;\n"])))),mn=ge.a.div(X||(X=Object(le.a)(["\n"]))),dn=ge.a.div(Z||(Z=Object(le.a)(["\n  // position: relative;\n"]))),pn=function(e){var t=Object(ne.useContext)(et),n=t.zoom,a=t.setZoom;return ae.a.createElement("div",{style:{position:"absolute",top:0,left:"calc(50% - 20px)",zIndex:1,background:"white",padding:"5px",display:"flex",flexDirection:"column"}},ae.a.createElement("span",{onClick:function(){a(n/2)}},"[+]"),ae.a.createElement("span",{onClick:function(){a(2*n)}},"[-]"),ae.a.createElement("span",{onClick:function(){a(1)}},"[1]"))},fn=function(e){var t=e.map,n=Object(ne.useContext)(et),a=(n.showUrl,n.setShowUrl),r=n.zoom,c=(n.setZoom,Object(ne.useRef)(null)),o=Object(de.g)();Object(ne.useEffect)((function(){c.current.scrollIntoView({block:"end"})}),[]);var i=[];return t.markers.map((function(e,t){var n=ae.a.createElement("div",{key:t,onClick:function(){return e.url?a(e.url):o.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:r>1?(e.y-e.centerOffsetY)/r:e.y/r-e.centerOffsetY,left:r>1?(e.x-e.centerOffsetX)/r:e.x/r-e.centerOffsetX}},ae.a.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w/r,"px"),maxHeight:"".concat(e.h/r,"px"),width:"auto",height:"auto"}}));i.push(n)})),ae.a.createElement(dn,null,ae.a.createElement(pn,null),ae.a.createElement(un,{ref:c},ae.a.createElement(mn,{style:{display:"inline-block",position:"relative",width:"".concat(t.w/r,"px"),height:"".concat(t.h/r,"px")}},ae.a.createElement("img",{src:t.img_path,style:{width:"".concat(t.w/r,"px"),height:"".concat(t.h/r,"px")}}),i)))},gn=function(e){Qe(e,"Markers");var t=Object(de.g)(),n=Object(ne.useContext)(et),a=(n.showUrl,n.setShowUrl),r=[];return e.markers.map((function(e,n){r.push(ae.a.createElement("div",{key:n,style:{margin:"10px"},onClick:function(){return function(e){e.url?a(e.url):t.push("/en/locations/show/".concat(e.slug))}(e)}},ae.a.createElement("img",{src:e.title_img_path}),ae.a.createElement("br",null),e.name))})),ae.a.createElement("div",{style:{display:"flex"}},r)},bn=(n(196),ge.a.div(K||(K=Object(le.a)(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])))),hn=function(){return ae.a.createElement(bn,null,ae.a.createElement("img",{className:"image",src:"/assets/hero.png"}))},En=ge.a.div(Q||(Q=Object(le.a)(["\n  padding: 0;\n  margin: 0;\n  height: 100vh;\n"]))),vn=function(e){var t=Object(ne.useState)([]),n=Object(ie.a)(t,2),a=n[0],r=n[1],c=Object(ne.useState)(!1),o=Object(ie.a)(c,2),i=o[0],l=o[1],s=ve(),u=Object(ne.useRef)("init");return Object(ne.useEffect)((function(){return s.applicationHome().then((function(e){if(!u.current)return null;r(e.newsitems),l(!1)})),function(){u.current=!1}}),[]),ae.a.createElement(ne.Fragment,null,ae.a.createElement(En,null,ae.a.createElement(hn,null),ae.a.createElement(Wt,{newsitems:a}),"\xa0"),ae.a.createElement(Oe.h,{isOpen:i,onDidDismiss:function(){return l(!1)},message:"Please wait...",duration:5e3}))},jn=Object(we.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},redBorder:{border:"1px solid red"},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}})),On=ge.a.div($||($=Object(le.a)(["\n  border-bottom: 1px solid red;\n"]))),yn=function(e){Qe(e,"Video");ve();var t=e.item;return ae.a.createElement(On,{key:e.idx},ae.a.createElement("h5",null,"Video ",t.name),ae.a.createElement("p",null,"created ",t.created_at),ae.a.createElement("video",{controls:!0,preload:"metadata",type:"video/mp4",src:t.video_url,style:{maxWidth:"500px",maxHeight:"90vh"}}))},wn=function(){Qe(he.a,"Videos component"),console.log(JSON.stringify(he.a));var e=Object(ne.useState)([]),t=Object(ie.a)(e,2),n=t[0],a=t[1],r=localStorage.getItem("jwtToken"),c=jn(),o=ve();return Object(ne.useEffect)((function(){Qe("posting..."),Ye.post(o.myVideosPath,{jwtToken:r}).then((function(e){return e.data})).then((function(e){var t=e.videos;Qe(t,"data"),a(t)}))}),[]),ae.a.createElement(me.a,{maxWidth:"md"},ae.a.createElement(ye.a,{container:!0,className:c.root},ae.a.createElement(ye.a,{item:!0,xs:12},ae.a.createElement("h2",null,"My Videos")),ae.a.createElement(ye.a,{item:!0,xs:12},n&&n.map((function(e,t){return ae.a.createElement(yn,{key:t,item:e})})))))},kn=ge.a.div(ee||(ee=Object(le.a)(["\n  background: #dedede;\n  height: 100vh;\n  overflow: auto;\n"]))),xn=Object(ge.a)(me.a)(te||(te=Object(le.a)(["\n  height: 100vh;\n  overflow: scroll;\n"]))),_n=function(){Qe(null,"App renders");var e=Object(ne.useState)(!1),t=Object(ie.a)(e,2),n=t[0],a=t[1],r=Object(ne.useState)(!1),c=Object(ie.a)(r,2),o=c[0],i=c[1],l=Object(ne.useState)(!1),s=Object(ie.a)(l,2),u=s[0],m=s[1],d=Object(ne.useState)({}),p=Object(ie.a)(d,2),f=p[0],g=p[1],b=Object(ne.useState)(Ze.layout_onecol),h=Object(ie.a)(b,2),E=h[0],v=h[1],j=Object(ne.useState)(!1),O=Object(ie.a)(j,2),y=O[0],w=O[1],k=Object(ne.useState)(!1),x=Object(ie.a)(k,2),_=x[0],N=x[1],C=Object(ne.useState)(1),S=Object(ie.a)(C,2),U=S[0],I=S[1],D=ve(),L=Object(ne.useRef)("init");Object(ne.useEffect)((function(){return Qe("this shoudl not run"),function(){var e=Object(oe.a)(ue.a.mark((function e(){var t;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwt_token"),e.next=3,Ye.get("".concat(he.a.apiOrigin).concat(D.myAccount(),"?jwt_token=").concat(t)).then((function(e){L.current&&m(e.data)})).catch((function(e){Qe(e,"e12"),"Request failed with status code 401"===e.message&&i(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return L.current=null}}),[u]);var M=function(e){switch(E){case Ze.layout_onecol:return ae.a.createElement(xn,Object.assign({maxWidth:"md"},e));case Ze.layout_mapui:return ae.a.createElement(Ct,Object.assign({},e,{bottomDrawerOpen:n,setBottomDrawerOpen:a}))}},T=function(e){return Object(ne.useEffect)((function(){e.layout?v(e.layout):v(Ze.layout_onecol)}),[e.layout]),ae.a.createElement(de.b,e)};return ae.a.createElement(pe.a,null,ae.a.createElement(fe.a,null),ae.a.createElement(et.Provider,{value:{bottomDrawerOpen:n,setBottomDrawerOpen:a,currentUser:u,setCurrentUser:m,itemToUnlock:f,setItemToUnlock:function(e){f.id===e.id||o||g(e)},layout:E,setLayout:v,loginModalOpen:o,setLoginModalOpen:i,showItem:y,setShowItem:w,showUrl:_,setShowUrl:N,zoom:U,setZoom:I}},ae.a.createElement(Et,null),ae.a.createElement(kn,null,ae.a.createElement(M,null,ae.a.createElement(de.d,{id:"main",main:!0},ae.a.createElement(de.a,{exact:!0,from:"/",to:"/en"}),ae.a.createElement(T,{exact:!0,path:"/en"},ae.a.createElement(vn,null)),ae.a.createElement(T,{exact:!0,path:"/en/account",component:xe}),ae.a.createElement(T,{exact:!0,path:"/en/account/my/videos",component:wn}),ae.a.createElement(T,{exact:!0,path:"/en/account/my/galleries",component:qt}),ae.a.createElement(T,{exact:!0,path:"/en/cities",component:St}),ae.a.createElement(T,{path:"/en/cities/travel-to/:name",component:Gt}),ae.a.createElement(T,{exact:!0,path:"/en/galleries/show/:slug",component:Yt}),ae.a.createElement(T,{exact:!0,path:"/en/reports/show/:slug",component:en}),ae.a.createElement(T,{exact:!0,path:"/en/locations/show/:slug",component:sn,layout:Ze.layout_mapui})))),ae.a.createElement(lt,null),ae.a.createElement(_t,null),ae.a.createElement(Ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));ce.a.render(ae.a.createElement(_n,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},20:function(e,t){e.exports={apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",appIndexPath:"src/index"}},68:function(e,t,n){},69:function(e,t,n){}},[[139,3,4]]]);
//# sourceMappingURL=main.1d43c89e.chunk.js.map