(this.webpackJsonpguyd=this.webpackJsonpguyd||[]).push([[1],{111:function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Greeter","sourceName":"contracts/Greeter.sol","abi":[{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"greet","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_greeting","type":"string"}],"name":"setGreeting","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60806040523480156200001157600080fd5b5060405162000c3238038062000c32833981810160405281019062000037919062000278565b6200006760405180606001604052806022815260200162000c1060229139826200008760201b620001ce1760201c565b80600090805190602001906200007f92919062000156565b5050620004c5565b620001298282604051602401620000a0929190620002fe565b6040516020818303038152906040527f4b5c4277000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff83818316178352505050506200012d60201b60201c565b5050565b60008151905060006a636f6e736f6c652e6c6f679050602083016000808483855afa5050505050565b8280546200016490620003ea565b90600052602060002090601f016020900481019282620001885760008555620001d4565b82601f10620001a357805160ff1916838001178555620001d4565b82800160010185558215620001d4579182015b82811115620001d3578251825591602001919060010190620001b6565b5b509050620001e39190620001e7565b5090565b5b8082111562000202576000816000905550600101620001e8565b5090565b60006200021d620002178462000362565b62000339565b9050828152602081018484840111156200023657600080fd5b62000243848285620003b4565b509392505050565b600082601f8301126200025d57600080fd5b81516200026f84826020860162000206565b91505092915050565b6000602082840312156200028b57600080fd5b600082015167ffffffffffffffff811115620002a657600080fd5b620002b4848285016200024b565b91505092915050565b6000620002ca8262000398565b620002d68185620003a3565b9350620002e8818560208601620003b4565b620002f381620004b4565b840191505092915050565b600060408201905081810360008301526200031a8185620002bd565b90508181036020830152620003308184620002bd565b90509392505050565b60006200034562000358565b905062000353828262000420565b919050565b6000604051905090565b600067ffffffffffffffff82111562000380576200037f62000485565b5b6200038b82620004b4565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b60005b83811015620003d4578082015181840152602081019050620003b7565b83811115620003e4576000848401525b50505050565b600060028204905060018216806200040357607f821691505b602082108114156200041a576200041962000456565b5b50919050565b6200042b82620004b4565b810181811067ffffffffffffffff821117156200044d576200044c62000485565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b61073b80620004d56000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063a41368621461003b578063cfae321714610057575b600080fd5b6100556004803603810190610050919061043d565b610075565b005b61005f61013c565b60405161006c91906104b7565b60405180910390f35b6101226040518060600160405280602381526020016106e3602391396000805461009e90610610565b80601f01602080910402602001604051908101604052809291908181526020018280546100ca90610610565b80156101175780601f106100ec57610100808354040283529160200191610117565b820191906000526020600020905b8154815290600101906020018083116100fa57829003601f168201915b50505050508361026a565b8060009080519060200190610138929190610332565b5050565b60606000805461014b90610610565b80601f016020809104026020016040519081016040528092919081815260200182805461017790610610565b80156101c45780601f10610199576101008083540402835291602001916101c4565b820191906000526020600020905b8154815290600101906020018083116101a757829003601f168201915b5050505050905090565b61026682826040516024016101e49291906104d9565b6040516020818303038152906040527f4b5c4277000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610309565b5050565b61030483838360405160240161028293929190610510565b6040516020818303038152906040527f2ced7cef000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610309565b505050565b60008151905060006a636f6e736f6c652e6c6f679050602083016000808483855afa5050505050565b82805461033e90610610565b90600052602060002090601f01602090048101928261036057600085556103a7565b82601f1061037957805160ff19168380011785556103a7565b828001600101855582156103a7579182015b828111156103a657825182559160200191906001019061038b565b5b5090506103b491906103b8565b5090565b5b808211156103d15760008160009055506001016103b9565b5090565b60006103e86103e384610581565b61055c565b90508281526020810184848401111561040057600080fd5b61040b8482856105ce565b509392505050565b600082601f83011261042457600080fd5b81356104348482602086016103d5565b91505092915050565b60006020828403121561044f57600080fd5b600082013567ffffffffffffffff81111561046957600080fd5b61047584828501610413565b91505092915050565b6000610489826105b2565b61049381856105bd565b93506104a38185602086016105dd565b6104ac816106d1565b840191505092915050565b600060208201905081810360008301526104d1818461047e565b905092915050565b600060408201905081810360008301526104f3818561047e565b90508181036020830152610507818461047e565b90509392505050565b6000606082019050818103600083015261052a818661047e565b9050818103602083015261053e818561047e565b90508181036040830152610552818461047e565b9050949350505050565b6000610566610577565b90506105728282610642565b919050565b6000604051905090565b600067ffffffffffffffff82111561059c5761059b6106a2565b5b6105a5826106d1565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b82818337600083830152505050565b60005b838110156105fb5780820151818401526020810190506105e0565b8381111561060a576000848401525b50505050565b6000600282049050600182168061062857607f821691505b6020821081141561063c5761063b610673565b5b50919050565b61064b826106d1565b810181811067ffffffffffffffff8211171561066a576106696106a2565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f830116905091905056fe4368616e67696e67206772656574696e672066726f6d202725732720746f2027257327a264697066735822122062b06e5bdee39e73f7ae7ef8606fe9f23da851629e4e297316ce7747f5074b1964736f6c634300080400334465706c6f79696e67206120477265657465722077697468206772656574696e673a","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063a41368621461003b578063cfae321714610057575b600080fd5b6100556004803603810190610050919061043d565b610075565b005b61005f61013c565b60405161006c91906104b7565b60405180910390f35b6101226040518060600160405280602381526020016106e3602391396000805461009e90610610565b80601f01602080910402602001604051908101604052809291908181526020018280546100ca90610610565b80156101175780601f106100ec57610100808354040283529160200191610117565b820191906000526020600020905b8154815290600101906020018083116100fa57829003601f168201915b50505050508361026a565b8060009080519060200190610138929190610332565b5050565b60606000805461014b90610610565b80601f016020809104026020016040519081016040528092919081815260200182805461017790610610565b80156101c45780601f10610199576101008083540402835291602001916101c4565b820191906000526020600020905b8154815290600101906020018083116101a757829003601f168201915b5050505050905090565b61026682826040516024016101e49291906104d9565b6040516020818303038152906040527f4b5c4277000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610309565b5050565b61030483838360405160240161028293929190610510565b6040516020818303038152906040527f2ced7cef000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050610309565b505050565b60008151905060006a636f6e736f6c652e6c6f679050602083016000808483855afa5050505050565b82805461033e90610610565b90600052602060002090601f01602090048101928261036057600085556103a7565b82601f1061037957805160ff19168380011785556103a7565b828001600101855582156103a7579182015b828111156103a657825182559160200191906001019061038b565b5b5090506103b491906103b8565b5090565b5b808211156103d15760008160009055506001016103b9565b5090565b60006103e86103e384610581565b61055c565b90508281526020810184848401111561040057600080fd5b61040b8482856105ce565b509392505050565b600082601f83011261042457600080fd5b81356104348482602086016103d5565b91505092915050565b60006020828403121561044f57600080fd5b600082013567ffffffffffffffff81111561046957600080fd5b61047584828501610413565b91505092915050565b6000610489826105b2565b61049381856105bd565b93506104a38185602086016105dd565b6104ac816106d1565b840191505092915050565b600060208201905081810360008301526104d1818461047e565b905092915050565b600060408201905081810360008301526104f3818561047e565b90508181036020830152610507818461047e565b90509392505050565b6000606082019050818103600083015261052a818661047e565b9050818103602083015261053e818561047e565b90508181036040830152610552818461047e565b9050949350505050565b6000610566610577565b90506105728282610642565b919050565b6000604051905090565b600067ffffffffffffffff82111561059c5761059b6106a2565b5b6105a5826106d1565b9050602081019050919050565b600081519050919050565b600082825260208201905092915050565b82818337600083830152505050565b60005b838110156105fb5780820151818401526020810190506105e0565b8381111561060a576000848401525b50505050565b6000600282049050600182168061062857607f821691505b6020821081141561063c5761063b610673565b5b50919050565b61064b826106d1565b810181811067ffffffffffffffff8211171561066a576106696106a2565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f830116905091905056fe4368616e67696e67206772656574696e672066726f6d202725732720746f2027257327a264697066735822122062b06e5bdee39e73f7ae7ef8606fe9f23da851629e4e297316ce7747f5074b1964736f6c63430008040033","linkReferences":{},"deployedLinkReferences":{}}')},112:function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Token","sourceName":"contracts/Token.sol","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[],"stateMutability":"nonpayable","type":"function"}],"bytecode":"0x60806040526040518060400160405280600a81526020017f5069203120546f6b656e000000000000000000000000000000000000000000008152506000908051906020019061004f9291906100fa565b506040518060400160405280600381526020017f50494f00000000000000000000000000000000000000000000000000000000008152506001908051906020019061009b9291906100fa565b506103e86002553480156100ae57600080fd5b50600254600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055506101fe565b8280546101069061019d565b90600052602060002090601f016020900481019282610128576000855561016f565b82601f1061014157805160ff191683800117855561016f565b8280016001018555821561016f579182015b8281111561016e578251825591602001919060010190610153565b5b50905061017c9190610180565b5090565b5b80821115610199576000816000905550600101610181565b5090565b600060028204905060018216806101b557607f821691505b602082108114156101c9576101c86101cf565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6107398061020d6000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c806306fdde031461005c57806318160ddd1461007a57806370a082311461009857806395d89b41146100c8578063a9059cbb146100e6575b600080fd5b610064610102565b6040516100719190610499565b60405180910390f35b610082610190565b60405161008f91906104db565b60405180910390f35b6100b260048036038101906100ad91906103c9565b610196565b6040516100bf91906104db565b60405180910390f35b6100d06101df565b6040516100dd9190610499565b60405180910390f35b61010060048036038101906100fb91906103f2565b61026d565b005b6000805461010f9061060b565b80601f016020809104026020016040519081016040528092919081815260200182805461013b9061060b565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b505050505081565b60025481565b6000600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600180546101ec9061060b565b80601f01602080910402602001604051908101604052809291908181526020018280546102189061060b565b80156102655780601f1061023a57610100808354040283529160200191610265565b820191906000526020600020905b81548152906001019060200180831161024857829003601f168201915b505050505081565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410156102ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102e6906104bb565b60405180910390fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461033e9190610568565b9250508190555080600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546103949190610512565b925050819055505050565b6000813590506103ae816106d5565b92915050565b6000813590506103c3816106ec565b92915050565b6000602082840312156103db57600080fd5b60006103e98482850161039f565b91505092915050565b6000806040838503121561040557600080fd5b60006104138582860161039f565b9250506020610424858286016103b4565b9150509250929050565b6000610439826104f6565b6104438185610501565b93506104538185602086016105d8565b61045c8161069b565b840191505092915050565b6000610474601183610501565b915061047f826106ac565b602082019050919050565b610493816105ce565b82525050565b600060208201905081810360008301526104b3818461042e565b905092915050565b600060208201905081810360008301526104d481610467565b9050919050565b60006020820190506104f0600083018461048a565b92915050565b600081519050919050565b600082825260208201905092915050565b600061051d826105ce565b9150610528836105ce565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561055d5761055c61063d565b5b828201905092915050565b6000610573826105ce565b915061057e836105ce565b9250828210156105915761059061063d565b5b828203905092915050565b60006105a7826105ae565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b838110156105f65780820151818401526020810190506105db565b83811115610605576000848401525b50505050565b6000600282049050600182168061062357607f821691505b602082108114156106375761063661066c565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000601f19601f8301169050919050565b7f4e6f7420656e6f75676820746f6b656e73000000000000000000000000000000600082015250565b6106de8161059c565b81146106e957600080fd5b50565b6106f5816105ce565b811461070057600080fd5b5056fea2646970667358221220c92de56f39b614fbb41215d3c4ae7912afdc9ae959e12a039d38c1a6196f6fae64736f6c63430008040033","deployedBytecode":"0x608060405234801561001057600080fd5b50600436106100575760003560e01c806306fdde031461005c57806318160ddd1461007a57806370a082311461009857806395d89b41146100c8578063a9059cbb146100e6575b600080fd5b610064610102565b6040516100719190610499565b60405180910390f35b610082610190565b60405161008f91906104db565b60405180910390f35b6100b260048036038101906100ad91906103c9565b610196565b6040516100bf91906104db565b60405180910390f35b6100d06101df565b6040516100dd9190610499565b60405180910390f35b61010060048036038101906100fb91906103f2565b61026d565b005b6000805461010f9061060b565b80601f016020809104026020016040519081016040528092919081815260200182805461013b9061060b565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b505050505081565b60025481565b6000600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b600180546101ec9061060b565b80601f01602080910402602001604051908101604052809291908181526020018280546102189061060b565b80156102655780601f1061023a57610100808354040283529160200191610265565b820191906000526020600020905b81548152906001019060200180831161024857829003601f168201915b505050505081565b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205410156102ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102e6906104bb565b60405180910390fd5b80600360003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825461033e9190610568565b9250508190555080600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546103949190610512565b925050819055505050565b6000813590506103ae816106d5565b92915050565b6000813590506103c3816106ec565b92915050565b6000602082840312156103db57600080fd5b60006103e98482850161039f565b91505092915050565b6000806040838503121561040557600080fd5b60006104138582860161039f565b9250506020610424858286016103b4565b9150509250929050565b6000610439826104f6565b6104438185610501565b93506104538185602086016105d8565b61045c8161069b565b840191505092915050565b6000610474601183610501565b915061047f826106ac565b602082019050919050565b610493816105ce565b82525050565b600060208201905081810360008301526104b3818461042e565b905092915050565b600060208201905081810360008301526104d481610467565b9050919050565b60006020820190506104f0600083018461048a565b92915050565b600081519050919050565b600082825260208201905092915050565b600061051d826105ce565b9150610528836105ce565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561055d5761055c61063d565b5b828201905092915050565b6000610573826105ce565b915061057e836105ce565b9250828210156105915761059061063d565b5b828203905092915050565b60006105a7826105ae565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b838110156105f65780820151818401526020810190506105db565b83811115610605576000848401525b50505050565b6000600282049050600182168061062357607f821691505b602082108114156106375761063661066c565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000601f19601f8301169050919050565b7f4e6f7420656e6f75676820746f6b656e73000000000000000000000000000000600082015250565b6106de8161059c565b81146106e957600080fd5b50565b6106f5816105ce565b811461070057600080fd5b5056fea2646970667358221220c92de56f39b614fbb41215d3c4ae7912afdc9ae959e12a039d38c1a6196f6fae64736f6c63430008040033","linkReferences":{},"deployedLinkReferences":{}}')},151:function(e,t,n){},152:function(e,t,n){},185:function(e,t,n){e.exports=n(240)},190:function(e,t,n){var r={"./ion-action-sheet.entry.js":[246,5],"./ion-alert.entry.js":[247,6],"./ion-app_8.entry.js":[248,7],"./ion-avatar_3.entry.js":[249,17],"./ion-back-button.entry.js":[250,18],"./ion-backdrop.entry.js":[251,46],"./ion-button_2.entry.js":[252,19],"./ion-card_5.entry.js":[253,20],"./ion-checkbox.entry.js":[254,21],"./ion-chip.entry.js":[255,22],"./ion-col_3.entry.js":[256,47],"./ion-datetime_3.entry.js":[257,10],"./ion-fab_3.entry.js":[258,23],"./ion-img.entry.js":[259,48],"./ion-infinite-scroll_2.entry.js":[260,49],"./ion-input.entry.js":[261,24],"./ion-item-option_3.entry.js":[262,25],"./ion-item_8.entry.js":[263,26],"./ion-loading.entry.js":[264,27],"./ion-menu_3.entry.js":[265,28],"./ion-modal.entry.js":[266,8],"./ion-nav_2.entry.js":[267,14],"./ion-popover.entry.js":[268,9],"./ion-progress-bar.entry.js":[269,29],"./ion-radio_2.entry.js":[270,30],"./ion-range.entry.js":[271,31],"./ion-refresher_2.entry.js":[272,11],"./ion-reorder_2.entry.js":[273,16],"./ion-ripple-effect.entry.js":[274,50],"./ion-route_4.entry.js":[275,32],"./ion-searchbar.entry.js":[276,33],"./ion-segment_2.entry.js":[277,34],"./ion-select_3.entry.js":[278,35],"./ion-slide_2.entry.js":[279,51],"./ion-spinner.entry.js":[280,13],"./ion-split-pane.entry.js":[281,52],"./ion-tab-bar_2.entry.js":[282,36],"./ion-tab_2.entry.js":[283,15],"./ion-text.entry.js":[284,37],"./ion-textarea.entry.js":[285,38],"./ion-toast.entry.js":[286,39],"./ion-toggle.entry.js":[287,12],"./ion-virtual-scroll.entry.js":[288,53]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=190,e.exports=a},192:function(e,t,n){var r={"./ion-icon.entry.js":[289,60]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=192,e.exports=a},210:function(e,t,n){},212:function(e,t){},238:function(e,t,n){},239:function(e,t,n){},24:function(e,t){e.exports={apiOrigin:"https://manager.piousbox.com",domain:"tgm.piousbox.com",appIndexPath:"src/index",requireLogin:!1}},240:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),f=n.n(o),i=n(21),c=n.n(i),l=n(173),u=n(11),s=n(24),b=n.n(s),m=n(321),d=n(32),p=n(15),y=n(23),h={collapsible:{descr:"descr-sec"},current_user:"current_user",item_types:{gallery:"Gallery",report:"Report",video:"Video"},jwt_token:"jwt_token",layout_onecol:"onecol",layout_mapui:"mapui",map_panel_types:{MapPanel:"MapPanel",MapPanelNoZoom:"MapPanelNoZoom",ThreePanelV1:"ThreePanelV1"},variants:{floating:"floating",inline:"inline"}};function g(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}var v,w,E,O,j=function(){var e=Object(r.useContext)(dn),t=(e.currentUser,e.setCurrentUser,localStorage.getItem(h.jwt_token));return{doUnlock:function(e){var t=e.kind,n=e.id,r=localStorage.getItem("jwt_token");return"/api/payments/unlock?kind=".concat(t,"&id=").concat(n,"&jwt_token=").concat(r)},getMyAccount:function(){var e=localStorage.getItem("jwt_token");return Wt.post("/api/my/account",{jwt_token:e})},loginPath:"/api/users/login.json",longTermTokenPath:"/api/users/long_term_token",myAccount:function(){return"/api/my/account"},myVideosPath:"/api/my/videos",paymentsPath:"/api/payments2",reportsGet:function(e){var t=JSON.parse(localStorage.getItem("current_user"))||{},n="";return t&&(n="jwt_token=".concat(t.jwt_token)),"".concat(b.a.apiOrigin,"/api/reports/view/").concat(e,"?").concat(n)},getCities:function(){return Wt.get("".concat(b.a.apiOrigin,"/api/cities")).then((function(e){return e.data}))},getCity:function(e){return Wt.get("".concat(b.a.apiOrigin,"/api/cities/view/").concat(e))},getTag:function(e){return Wt.get("".concat(b.a.apiOrigin,"/api/tags/view/").concat(e.slug)).then((function(e){return e.data}))},applicationHome:function(){var e,n=(e=c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wt.get("".concat(b.a.apiOrigin,"/api/sites/view/").concat(b.a.domain),{params:{jwt_token:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){g(o,r,a,f,i,"next",e)}function i(e){g(o,r,a,f,i,"throw",e)}f(void 0)}))});return function(){return n.apply(this,arguments)}}()}},x=(n(39),n(46)),k=(n(242),n(96)),S=(n(126),n(64)),_=n(174),A=n(58),C=n(317),P=n(28),I=n(320),N=n(312),M=n(72),z=n.n(M);function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L,U,D=u.b.div(v||(v=T(["\n  // border: 1px solid yellow;\n  position: absolute;\n  bottom: -10px;\n  left: 10px;\n"]))),R=Object(u.b)(I.a)(w||(w=T(["\n  .MuiDrawer-paper {\n    background: ",";\n  }\n\n  .MuiDrawer-paperAnchorDockedBottom {\n    border-top: 0;\n  }\n"])),(function(e){return e.background})),H=u.b.div(E||(E=T(["\n  // border: 1px solid red;\n\n  background: ",";\n  height: calc("," + 1*",");\n  margin: ",";\n"])),(function(e){return e.background}),(function(e){return e.bottomDrawerOpenHeight}),(function(e){return e.borderHeight}),(function(e){return e.borderWidth})),W=u.b.div(O||(O=T(["\n  // border: 1px solid green;\n\n  background: white;\n  height: 100px;\n  display: flex;\n"]))),F=function(e){var t=Object(r.useContext)(dn),n=t.bottomDrawerOpen,o=t.layout,f=t.setBottomDrawerOpen;return o===h.layout_onecol?null:a.a.createElement(r.Fragment,null,a.a.createElement(D,null,a.a.createElement(N.a,{"aria-label":"open drawer",onClick:function(){return f(!0)},edge:"start",className:"menu-btn"},a.a.createElement(z.a,{fontSize:"small",style:{color:"white"}}))),a.a.createElement(R,Object.assign({anchor:"bottom",elevation:1,open:n,onClose:function(){return f(!1)},BackdropProps:{invisible:!0},variant:"persistent"},Ft),a.a.createElement(H,Ft,a.a.createElement(W,Ft,a.a.createElement(z.a,{onClick:function(){return f(!1)}}),a.a.createElement(bt,null)))))};function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B,$=u.b.div(L||(L=q(["\n  // border: 1px solid red;\n\n  flex-grow: 1;\n\n  text-align: center;\n  font-size: 2em;\n\n\n"]))),G=u.b.div(U||(U=q(["\n  // border: 1px solid blue;\n\n  display: flex;\n  justify-content: center;\n  line-height: 2em;\n  padding: 2em 0;\n"]))),V=function(e){return a.a.createElement(G,null,a.a.createElement(pe,{variant:h.variants.inline}),a.a.createElement($,null,"My Local Guide"))};var J,Z,K,Y=u.b.div(B||(J=["\n  background: white;\n\n  overflow: hidden;\n  margin: 10px;\n  height: calc(100vh - ","px - ",");\n"],Z||(Z=J.slice(0)),B=Object.freeze(Object.defineProperties(J,{raw:{value:Object.freeze(Z)}}))),(function(e){return 2*e.borderWidth}),(function(e){return e.bottomDrawerOpen?"".concat(e.bottomDrawerHeight-e.borderWidth/2,"px"):"0px"})),X=function(e){return a.a.createElement(Y,e)};var Q,ee,te,ne=u.b.div(K||(K=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  // border: 1px solid cyan;\n\n  background: white;\n\n  overflow-y: auto;\n\n  height: calc(100vh\n    - ",");\n"])),(function(e){return e.bottomDrawerOpen?e.bottomDrawerOpenHeight:e.bottomDrawerClosedHeight})),re=function(e){var t=Object(r.useContext)(dn).bottomDrawerOpen;return a.a.createElement(ne,Object.assign({},e,{bottomDrawerOpen:t},Ft))},ae=(n(89),y.o,y.d,y.p,y.p,y.r,n(313)),oe=n(314),fe=n(315),ie=n(16),ce=n.n(ie);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}u.b.div(Q||(Q=se(["\n  // border: 1px solid green;\n"])));var be=u.b.div(ee||(ee=se(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-content: space-between;\n"]))),me=(u.b.div(te||(te=se(["\n"]))),function(e){var t=le(a.a.useState(!1),2),n=t[0],o=t[1],f=le(Object(r.useState)(!1),2),i=(f[0],f[1],Object(d.g)()),c=Object(r.useContext)(dn),l=c.currentUser;c.setCurrentUser;return a.a.createElement(r.Fragment,null,e.variant===h.variants.floating?a.a.createElement(ae.a,{onClick:function(){return o(!0)},style:{position:"absolute",top:0,left:0,margin:".5em"},"aria-label":"main menu"},a.a.createElement(z.a,null)):a.a.createElement(z.a,{onClick:function(){return o(!0)}}),a.a.createElement(I.a,{anchor:"left",open:n,onClose:function(){return o(!1)}},a.a.createElement(be,null,a.a.createElement(oe.a,null,a.a.createElement(fe.a,{button:!0,key:"newsfeed",onClick:function(){o(!1),i.push("/en/locations/show/construct0")}},"Home (Construct 0)"),a.a.createElement(fe.a,{button:!0,key:"three",onClick:function(){o(!1),i.push("/en/locations/show/threev1")}},"Three"),a.a.createElement(fe.a,{button:!0,key:"cities",onClick:function(){o(!1),i.push("/en/cities")}},a.a.createElement("span",null,"Cities")),l&&l.bookmarks.map((function(e,t){return a.a.createElement(fe.a,{button:!0,key:t,onClick:function(){o(!1),i.push("/en/locations/show/".concat(e.slug))}},a.a.createElement("span",null,e.name))})),a.a.createElement(fe.a,{button:!0,key:"account",onClick:function(){o(!1),i.push("/en/account")}},a.a.createElement("span",null,"Account"))))))});me.propTypes={variant:ce.a.string};var de,pe=me;var ye=u.b.div(de||(de=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-top: .5em;\n"]))),he=Object(d.i)((function(e){var t=e.created_at,n=e.username,r=e.city,o=e.tags,f=void 0===o?[]:o;return a.a.createElement(ye,null,t&&a.a.createElement("span",{className:"date"}," On ",hn(t)," "),n&&a.a.createElement(a.a.Fragment,null,"by ",a.a.createElement("span",{className:"user"}," ",n," ")),r&&a.a.createElement(a.a.Fragment,null,"in ",a.a.createElement("span",{className:"city",onClick:function(){e.history.push("/en/cities/travel-to/".concat(r.slug,"/show/newsfeed"))}}," ",r.name," ")),f&&f.map((function(e,t){return a.a.createElement("span",{key:t,className:"tags"},e.name)})))}));function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we,Ee,Oe,je=function(e){var t=e.rate,n=ge(Object(r.useState)([]),2),o=n[0],f=n[1],i={0:y.y,1:y.x,2:y.w};return Object(r.useEffect)((function(){for(var e=new Array(5).fill(0),n=0;t>0;)e[n]=t<1?1:2,t--,n++;f(e)}),[]),a.a.createElement("div",{className:"rating"},o.map((function(e,t){return a.a.createElement(p.e,{key:t,className:"stars",icon:i[e]})})))},xe=n(47),ke=n.n(xe);n(210);function Se(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){Se(o,r,a,f,i,"next",e)}function i(e){Se(o,r,a,f,i,"throw",e)}f(void 0)}))}}function Ae(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ce=u.b.div(we||(we=Ae(["\n  display: inline;\n  cursor: pointer;\n"]))),Pe=u.b.div(Ee||(Ee=Ae(["\n  display: flex;\n  justify-content: space-around;\n"]))),Ie=u.b.div(Oe||(Oe=Ae(["\n  display: flex;\n  justify-content: space-between;\n"]))),Ne={overlay:{},content:{margin:"auto",maxWidth:"400px"}},Me=function(e){bn(e,"UnlockModal");var t=Object(r.useContext)(dn),n=t.currentUser,o=t.setCurrentUser,f=t.itemToUnlock,i=t.setItemToUnlock,l=(t.loginModalOpen,t.setLoginModalOpen),u=(Object(r.useContext)(dn),j()),s=function(){var e=_e(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.doUnlock({kind:f.item_type,id:f.id}),e.next=3,Wt.post("".concat(b.a.apiOrigin).concat(t)).then((function(e){i({})})).catch((function(e){bn(e,"e19")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(r.useRef)("init");return Object(r.useEffect)((function(){return function(){var e=_e(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem(h.jwt_token),e.next=3,Wt.get("".concat(b.a.apiOrigin).concat(u.myAccount(),"?jwt_token=").concat(t)).then((function(e){m.current&&o(e.data)})).catch((function(e){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return m.current=null}}),[f.id]),f.id?a.a.createElement(ke.a,{style:Ne,ariaHideApp:!1,isOpen:!!f.id},a.a.createElement(Ie,null,a.a.createElement("h1",null,"Unlock this item?"),a.a.createElement(Ce,{onClick:function(){return i(!1)}},"\xd7")),a.a.createElement("p",null,"To access this content, please unlock it first. It costs 1 (one) coin to unlock."),!!n&&a.a.createElement("p",null,"You have ",a.a.createElement("b",null,n.n_unlocks)," unlocks.")||a.a.createElement("p",null,"You have to be logged in to unlock content. ",a.a.createElement("a",{onClick:function(){l(!0),i(!1)}},"Please login.")),a.a.createElement(Pe,null,!!n&&a.a.createElement(cn,{onClick:s},"Unlock"))):null},ze=n(111),Te=n(112);function Le(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){Le(o,r,a,f,i,"next",e)}function i(e){Le(o,r,a,f,i,"throw",e)}f(void 0)}))}}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"===typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $e,Ge,Ve,Je=x.a.isPluginAvailable("PushNotifications"),Ze="0x4bE9765Ca063E73E0aaEd227fd6731473508DbE0",Ke="0xffa52d00685aC60e65457922aEae2c2783c0cB0E",Ye=function(e){bn(e,"Account");var t=Object(r.useContext)(dn),n=t.currentUser,o=(t.setCurrentUser,Fe(Object(r.useState)(""),2)),f=o[0],i=o[1],l=Fe(Object(r.useState)([]),2),u=l[0],s=l[1],b=function(){S.a.register(),S.a.addListener("registration",(function(e){m("Push registration success")})),S.a.addListener("registrationError",(function(e){alert("Error on registration: "+JSON.stringify(e))})),S.a.addListener("pushNotificationReceived",(function(e){var t=e;mn(t,"pushNotificationReceived"),s((function(e){return mn(e,"setNofitications"),[].concat(We(e),[Re(Re({},t),{},{type:"foreground"})])}))})),S.a.addListener("pushNotificationActionPerformed",(function(e){var t=e.nofitication;mn(t,"pushNotificationActionPerformed"),s((function(e){return mn(e,"setNofitications"),[].concat(We(e),[Re(Re({},t),{},{type:"action"})])}))}))},m=function(){var e=Ue(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.show({text:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function d(){return y.apply(this,arguments)}function y(){return(y=Ue(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return v.apply(this,arguments)}function v(){return(v=Ue(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=13;break}return t=new A.a.providers.Web3Provider(window.ethereum),n=new A.a.Contract(Ze,ze.abi,t),e.prev=3,e.next=6,n.greet();case 6:r=e.sent,i(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("Error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function w(){return(w=Ue(c.a.mark((function e(){var t,n,r,a,o,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=12;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return t=e.sent,n=Fe(t,1),r=n[0],a=new A.a.providers.Web3Provider(window.ethereum),o=new A.a.Contract(Ke,Te.abi,a),e.next=10,o.balanceOf(r);case 10:f=e.sent,console.log("Balance: ",f.toString());case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Ue(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:if("undefined"===typeof window.ethereum){e.next=14;break}return e.next=5,d();case 5:return t=new A.a.providers.Web3Provider(window.ethereum),n=t.getSigner(),r=new A.a.Contract(Ze,ze.abi,n),e.next=10,r.setGreeting(f);case 10:return a=e.sent,e.next=13,a.wait();case 13:g();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Ue(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof window.ethereum){e.next=12;break}return e.next=3,d();case 3:return t=new A.a.providers.Web3Provider(window.ethereum),n=t.getSigner(),r=new A.a.Contract(Ke,Te.abi,n),e.next=8,r.transfer(userAccount,amount);case 8:return a=e.sent,e.next=11,a.wait();case 11:console.log("".concat(amount," Coins successfully sent to ").concat(userAccount));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Je&&S.a.checkPermissions().then((function(e){"granted"===e.receive?b():S.a.requestPermissions().then((function(e){"denied"===e.receive?m("Push Notification permission denied"):(m("Push Notification permission granted"),b())}))}))}),[]),a.a.createElement(p.m,null,a.a.createElement(C.a,{container:!0},a.a.createElement(pe,{variant:h.variants.inline}),a.a.createElement("h1",null,"Account")),a.a.createElement(p.b,{className:"ion-padding"},a.a.createElement(C.a,{container:!0,spacing:2},a.a.createElement(C.a,{item:!0,xs:12},a.a.createElement(C.a,{container:!0},a.a.createElement(C.a,{item:!0,xs:6},a.a.createElement("img",{src:"/assets/accounts/default-avatar.png",alt:"profile pic"}),a.a.createElement("div",null,a.a.createElement("button",{onClick:g},"Fetch Greeting"),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){return E.apply(this,arguments)}},"Set Greeting"),a.a.createElement("br",null),a.a.createElement("input",{value:f,onChange:function(e){return i(e.target.value)},placeholder:"Set greeting"})),a.a.createElement("hr",null),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return w.apply(this,arguments)}},"Get Balance"),a.a.createElement("br",null),a.a.createElement("button",{onClick:function(){return O.apply(this,arguments)}},"Send Coins"),a.a.createElement("br",null),a.a.createElement("input",{onChange:function(e){return setUserAccount(e.target.value)},placeholder:"Account ID"}),a.a.createElement("br",null),a.a.createElement("input",{onChange:function(e){return setAmount(e.target.value)},placeholder:"Amount"}))),a.a.createElement(C.a,{item:!0,xs:6},!!n&&a.a.createElement(r.Fragment,null,a.a.createElement("h4",null,n.email),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(P.b,{to:"/en/account/my/galleries"},"My Galleries")),a.a.createElement("li",null,a.a.createElement("a",{onClick:function(){return e.history.push("/en/account/my/videos")}},"My Videos")),a.a.createElement("li",null,a.a.createElement(wt,null))))||a.a.createElement(r.Fragment,null,a.a.createElement("h4",null,"Not logged in 4"),a.a.createElement(vt,null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(Et,null)))))),a.a.createElement("hr",null),u.length&&a.a.createElement(p.i,null,u.map((function(e){return a.a.createElement(p.g,{key:e.id},a.a.createElement(p.h,null,a.a.createElement(p.n,null,a.a.createElement("h3",{className:"notif-title"},e.title)),a.a.createElement("p",null,e.body),"foreground"===e.type&&a.a.createElement("p",null,"This data was received in foreground"),"action"===e.type&&a.a.createElement("p",null,"This data was received on tap")))})))||"no notifications so far"),a.a.createElement(p.c,null,a.a.createElement(p.p,null,Je&&a.a.createElement(p.a,{color:"success",expand:"full",onClick:b},"Register for Push")||a.a.createElement("div",null,a.a.createElement("h1",null,"Push notifications not available")))))},Xe=function(e){bn(e,"LoginModal");var t=Object(r.useContext)(dn),n=t.loginModalOpen,o=t.setLoginModalOpen;return a.a.createElement(ke.a,{style:{zIndex:3},isOpen:n},a.a.createElement("h1",null,"Please Login",a.a.createElement("button",{onClick:function(){return o(!1)}},"[x]")),a.a.createElement(vt,null),a.a.createElement(Et,null))},Qe=n(66),et=n(168);function tt(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ot=u.b.div($e||($e=at(["\n  border: 1px solid black;\n  padding: 5px;\n  cursor: pointer;\n"]))),ft=u.b.div(Ge||(Ge=at(["\n  // border: 1px solid red;\n"]))),it=function(e){var t=e.src;return a.a.createElement(ft,null,a.a.createElement("img",{src:t,alt:""}))},ct=Object(et.a)("pk_test_qr1QPmSpLdBFt1F7itdWJOj3"),lt=function(e){return a.a.createElement(r.Fragment,null,a.a.createElement("button",null,"do login"))},ut=u.b.div(Ve||(Ve=at(["\n  // border: 1px solid red;\n\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  // background: #dedede;\n  // background: white;\n  // height: 100px;\n  // width: calc(100vw - ","px);\n  // padding: 1em;\n  // margin-bottom: ","px;\n"])),(function(e){return 2*e.borderWidth}),(function(e){return e.borderWidth})),st=function(e){var t=j(),n=Object(r.useContext)(dn),o=n.currentUser,f=(n.setCurrentUser,Object(Qe.useStripe)()),i=Object(Qe.useElements)(),l=nt(Object(r.useState)(!1),2),u=l[0],s=l[1],m=function(){var e,n=(e=c.a.mark((function e(n){var r,a,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),bn("purchasing..."),f&&i){e.next=4;break}return e.abrupt("return");case 4:return i.getElement(Qe.CardElement),r=localStorage.getItem("jwt_token"),e.next=8,Wt.get("".concat(b.a.apiOrigin).concat(t.paymentsPath,"?jwt_token=").concat(r));case 8:return a=(a=e.sent).data.client_secret,bn(a,"client_secret"),e.next=13,f.confirmCardPayment(a,{payment_method:{card:i.getElement(Qe.CardElement)}});case 13:if(o=e.sent,bn(o,"result"),!o.error){e.next=19;break}bn(o.error.message,"error message"),e.next=27;break;case 19:if("succeeded"!==o.paymentIntent.status){e.next=26;break}return e.next=22,Wt.get("".concat(b.a.apiOrigin).concat(t.myAccount(),"?jwt_token=").concat(r));case 22:l=e.sent,bn(l,"ze3response"),e.next=27;break;case 26:bn("something else");case 27:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){tt(o,r,a,f,i,"next",e)}function i(e){tt(o,r,a,f,i,"throw",e)}f(void 0)}))});return function(e){return n.apply(this,arguments)}}();return o?a.a.createElement(ut,Ft,o.profile_photo_url&&a.a.createElement(it,{src:o.profile_photo_url}),o.email?o.email:a.a.createElement(lt,null)," \xa0 [\xa0","number"===typeof o.n_unlocks?o.n_unlocks:"?"," coins\xa0]\xa0 \xa0",a.a.createElement(ot,{onClick:function(){return s(!0)}},"buy"),a.a.createElement(ke.a,{isOpen:u,ariaHideApp:!1,style:{width:"500px"}},a.a.createElement("h1",null,"Purchase this",a.a.createElement("span",{onClick:function(){bn("clicking..."),s(!1)}},"[x]")),a.a.createElement("form",{onSubmit:m},a.a.createElement(Qe.CardElement,null),a.a.createElement("button",{type:"submit",disabled:!f},"Pay")))):null},bt=function(e){return a.a.createElement(Qe.Elements,{stripe:ct},a.a.createElement(st,e))};function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){pt(o,r,a,f,i,"next",e)}function i(e){pt(o,r,a,f,i,"throw",e)}f(void 0)}))}}var ht=x.b.FacebookLogin,gt=["email"],vt=function(e){var t=j(),n=Object(r.useContext)(dn),o=(n.currentUser,n.setCurrentUser),f=function(){var e=yt(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht.login({permissions:gt});case 2:(n=e.sent).accessToken?Wt.post("".concat(b.a.apiOrigin).concat(t.longTermTokenPath),{accessToken:n.accessToken.token}).then((function(e){localStorage.setItem(h.jwt_token,e.data.jwt_token),localStorage.setItem(h.current_user,JSON.stringify(e.data)),o(e.data)})).catch((function(e){bn(e,"Could not post request to ".concat(b.a.apiOrigin).concat(t.longTermTokenPath))})):bn("canceled");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(cn,{onClick:f},"FB Login")},wt=function(){var e=Object(r.useContext)(dn),t=(e.currentUser,e.setCurrentUser);return a.a.createElement(cn,{onClick:function(){localStorage.removeItem(h.jwt_token),localStorage.removeItem(h.current_user),t(null)}},"Logout")},Et=function(e){var t=j(),n=Object(r.useContext)(dn),o=(n.currentUser,n.setCurrentUser),f=(n.loginModalOpen,n.setLoginModalOpen),i=mt(Object(r.useState)(""),2),l=i[0],u=i[1],s=mt(Object(r.useState)(""),2),m=s[0],d=s[1],p=function(){var e=yt(c.a.mark((function e(n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wt.post("".concat(b.a.apiOrigin).concat(t.loginPath),{email:n,password:r}).then((function(e){return e.data})).then((function(e){o(e),localStorage.setItem("jwt_token",e.jwt_token),localStorage.setItem("current_user",JSON.stringify(e)),f(!1)})).catch((function(e){bn(e,"e322"),Object(k.b)("Login failed"),o(null)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return a.a.createElement(r.Fragment,null,a.a.createElement("input",{type:"email",value:l,onChange:function(e){return u(e.target.value)}}),a.a.createElement("br",null),a.a.createElement("input",{type:"password",value:m,onChange:function(e){return d(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&p(l,m)}}),a.a.createElement("br",null),a.a.createElement(cn,{onClick:function(){return p(l,m)}},"Password Login"))};var Ot,jt,xt,kt={cityVenuesPath:function(e){return"/en/cities/travel-to/".concat(e,"/venues")},cityPath:function(e){return"/en/cities/travel-to/".concat(e)}},St=["children"];function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function It(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Nt=function(){return a.a.createElement("span",null,"\xa0>\xa0\xa0")},Mt=u.b.div(Ot||(Ot=It(["\n  // border: 2px solid red;\n  // max-height: 100vh;\n"]))),zt=function(){return a.a.createElement("span",null,"\xa0<\xa0\xa0")},Tt=u.b.div(jt||(jt=It(["\n  display: flex;\n  margin-bottom: ",";\n"])),(function(e){return e.borderWidth})),Lt=u.b.div(xt||(xt=It(["\n  // background: #dedede;\n\n  border: 1px solid black;\n  border-radius: 5px;\n\n  margin: .5em;\n  padding: .5em;\n\n  margin-bottom: 1em;\n"]))),Ut=function(e){var t=e.children,n=Pt(e,St);bn(n,"Collapsible");var o=n.config,f=Object(r.useContext)(ln);if(!f)return null;bn(f,"CollapsibleContext");var i=f.collapsibles,c=f.setCollapsibles,l="undefined"===typeof o||("undefined"===typeof o.collapsible||o.collapsible),u=!!l&&!!i[n.slug];return a.a.createElement(Lt,{className:"Collapsible ".concat(n.className)},l&&n.label&&a.a.createElement(Tt,Object.assign({},Ft,{onClick:function(){c(At(At({},i),{},Ct({},n.slug,!i[n.slug])))}}),u?a.a.createElement(zt,null):a.a.createElement(Nt,null)," ",n.label," "),!u&&a.a.createElement(Mt,null,t))},Dt=n(169),Rt=n.n(Dt),Ht={baseURL:b.a.apiOrigin},Wt=Rt.a.create(Ht),Ft={borderWidth:"10px",bottomDrawerClosedHeight:"20px",bottomDrawerOpenHeight:"110px",breadcrumbsHeight:"30px",background:"#dedede",blue:"#6aa3e9",darkGrey:"#605d5d",lightGrey:"#988b8b",red:"red"};function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $t,Gt,Vt,Jt,Zt=function(){var e=qt(Object(r.useState)([0,0]),2),t=e[0],n=e[1];return Object(r.useLayoutEffect)((function(){function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},Kt=["children"],Yt=["children"];function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nn,rn,an,on,fn=Object(u.b)(m.a)($t||($t=tn(["\n  margin-bottom: 1em;\n  padding: 1em;\n  background: white;\n  cursor: ",";\n\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.cursor?e.cursor:"auto"})),cn=u.b.div(Gt||(Gt=tn(["\n  border: 1px solid gray;\n  border-radius: 5px;\n\n  padding: .3em 1em;\n  cursor: pointer;\n"]))),ln=a.a.createContext({}),un=function(e){var t=e.children,n=en(e,Kt);bn(n,"CollapsibleContextProvider");var o,f,i,c=Xt(Object(r.useState)((o={},f=h.collapsible.descr,i=!0,f in o?Object.defineProperty(o,f,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[f]=i,o)),2),l=c[0],u=c[1];return a.a.createElement(ln.Provider,{value:{collapsibles:l,setCollapsibles:u}},t)},sn=function(e){switch(e){case"Gallery":return"galleries";default:return"".concat(e.toLowerCase(),"s")}},bn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(n="string"===typeof n?n:t.replace(/\W/g,"")).length>0&&(window[n]=e),console.log("+++ ".concat(t,":"),e)},mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("+++ ".concat(t,":"),e.inspect)},dn=a.a.createContext({}),pn=function(e){var t=e.children,n=en(e,Yt);bn(n,"TwofoldContextProvider");var o=n.currentUser,f=n.setCurrentUser,i=n.layout,c=n.setLayout,l=n.loginModalOpen,u=n.setLoginModalOpen,s=Xt(Object(r.useState)(!1),2),b=s[0],m=s[1],d=Xt(Object(r.useState)({}),2),p=d[0],y=d[1],h=Xt(Object(r.useState)(!1),2),g=h[0],v=h[1],w=Xt(Object(r.useState)(!1),2),E=w[0],O=w[1],j=Xt(Object(r.useState)(1),2),x=j[0],k=j[1];return a.a.createElement(dn.Provider,{value:{bottomDrawerOpen:b,setBottomDrawerOpen:m,currentUser:o,setCurrentUser:f,itemToUnlock:p,setItemToUnlock:function(e){p.id===e.id||l||y(e)},layout:i,setLayout:c,loginModalOpen:l,setLoginModalOpen:u,showItem:g,setShowItem:v,showUrl:E,setShowUrl:O,zoom:x,setZoom:k}},t)},yn=u.b.div(Vt||(Vt=tn(["\n  height: 100vh;\n"]))),hn=function(e){return(e||"").substring(0,10)},gn=Object(u.b)(p.e)(Jt||(Jt=tn(["\nmargin-right: 5px;\ncursor: pointer;\n"]))),vn=function(){var e=Object(d.g)();return a.a.createElement(gn,{onClick:e.goBack,icon:y.a})},wn=n(319);n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152);function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return On(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xn,kn,Sn,_n,An,Cn,Pn=u.b.div(nn||(nn=jn(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin: 1em 0px;\n"]))),In=u.b.div(rn||(rn=jn(["\n  // border: 1px solid red;\n\n  display: flex;\n  justify-content: center;\n\n  width: 50%;\n  text-align: center;\n  position: relative;\n  padding: 0.1em;\n"]))),Nn=Object(u.b)(p.e)(an||(an=jn(["\n  font-size: 2em;\n  color: ",";\n"])),(function(e){return e.theme.darkGrey})),Mn=u.b.div(on||(on=jn(["\n  // border: 1px solid green;\n\n  padding: 0.5em;\n\n  color: ",";\n  font-size: 0.9em;\n  font-weight: 600;\n"])),(function(e){return e.theme.lightGrey})),zn=function(e){var t=En(Object(r.useState)([]),2),n=t[0],o=t[1],f=En(Object(r.useState)([]),2),i=f[0],c=f[1],l=En(Object(r.useState)(!1),2),u=l[0],s=l[1],b=j(),m=Object(d.g)();Object(r.useEffect)((function(){s(!0),b.getCities().then((function(e){s(!1),c(e),o(e)}))}),[]);return a.a.createElement(r.Fragment,null,a.a.createElement(yn,{className:"cities"},a.a.createElement("h1",{className:"heading"},"Cities"),a.a.createElement("div",{className:"filter-section"},a.a.createElement("input",{className:"filter-input",onChange:function(e){var t=n.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.trim().toLowerCase())>-1}));c(t)}}),a.a.createElement(Nn,{className:"filter-icon",icon:y.k})),a.a.createElement("div",{className:"container"},i.map((function(e,t){return a.a.createElement("div",{key:t,className:"cities",onClick:function(){return m.push(kt.cityPath(e.slug))}},a.a.createElement("div",{className:"img-section"},a.a.createElement("span",{className:"bookmark"},a.a.createElement(Nn,{className:"bookmark-icon",icon:y.c})),a.a.createElement("img",{className:"city-img",src:e.photo}),a.a.createElement("span",{className:"city-title"},e.name)),a.a.createElement(Pn,null,a.a.createElement(In,null,a.a.createElement(Mn,null,e.n_reports),a.a.createElement(Nn,{icon:y.o})),a.a.createElement(In,null,a.a.createElement(Mn,null,e.n_galleries),a.a.createElement(Nn,{icon:y.l})),a.a.createElement(In,null,a.a.createElement(Mn,null,e.n_videos),a.a.createElement(Nn,{icon:y.z}))))}))),"\xa0"),a.a.createElement(p.j,{isOpen:u,onDidDismiss:function(){return s(!1)},message:"Please wait...",duration:5e3}))};n(90);function Tn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}u.b.div(xn||(xn=Tn(["\n  position: relative;\n  padding-top: 100%;\n  overflow: hidden;\n  z-index: 10;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n\n  width: 100px;\n  height: 100px;\n"]))),u.b.div(kn||(kn=Tn(["\n"])));var Ln=u.b.div(Sn||(Sn=Tn(["\n  position: relative;\n"]))),Un=u.b.img(_n||(_n=Tn(["\n  width: 200px;\n"]))),Dn=u.b.img(An||(An=Tn(["\n  position: absolute;\n  left: 200px;\n  top: 0;\n"]))),Rn=u.b.img(Cn||(Cn=Tn(["\n  position: absolute;\n  left: 200px;\n  top: 100px;\n"]))),Hn=function(e){var t=e.item;Object(d.g)();return a.a.createElement(or,{item:t},a.a.createElement(Ln,null,!1,t.photos[0]&&a.a.createElement(Un,{src:t.photos[0].thumb_url}),t.photos[1]&&a.a.createElement(Dn,{src:t.photos[1].thumb_url}),t.photos[2]&&a.a.createElement(Rn,{src:t.photos[2].thumb_url}),!1))};Hn.propTypes={item:ce.a.shape({photos:ce.a.array.isRequired})};var Wn=Hn,Fn=function(e){var t=e.item;return a.a.createElement(or,{item:t})};Fn.propTypes={item:ce.a.object.isRequired};var qn=Fn,Bn=function(e){bn(e,"NewsitemVideo");var t=e.item;return a.a.createElement(or,{item:t},a.a.createElement("div",{className:"image-section"},t.youtube_id?a.a.createElement("iframe",{className:"iframe",width:"100%",height:"315",src:"https://www.youtube.com/embed/".concat(t.youtube_id),frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0}):a.a.createElement("video",{width:"100%",preload:"metadata",height:"auto",controls:!0},a.a.createElement("source",{src:t.url,type:"video/mp4"}))))};Bn.propTypes={item:ce.a.object.isRequired};var $n,Gn=Bn;var Vn,Jn,Zn,Kn=u.b.div($n||($n=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  // border: 2px solid yellow;\n\n  // margin-bottom: 2em;\n"]))),Yn=function(e){bn(e,"Newsitems");var t=e.newsitems;return t&&t.length?a.a.createElement(Kn,null,t.map((function(e,t){var n=e.premium_tier||0;return a.a.createElement("div",{key:t,className:"items premium-".concat(n)},e.item_type===h.item_types.gallery&&a.a.createElement(Wn,{item:e}),e.item_type===h.item_types.report&&a.a.createElement(qn,{item:e}),e.item_type===h.item_types.video&&a.a.createElement(Gn,{item:e}),!e.item_type&&a.a.createElement(dr,{item:e}))}))):a.a.createElement("div",null,"No Newsitems")},Xn=["children"];function Qn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function er(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var tr=u.b.div(Vn||(Vn=er(["\n  display: flex;\n  flex-direction: column;\n\n  margin-left: 0.5em;\n"]))),nr=u.b.div(Jn||(Jn=er(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n\n  // padding: 0 1em;\n"]))),rr=u.b.h2(Zn||(Zn=er(["\n  margin-top: 0;\n"]))),ar=function(e){var t=e.children,n=Qn(e,Xn),o=n.item,f=o.item_type,i=o.slug,c=Object(d.g)(),l=Object(r.useContext)(dn),u=(l.itemToUnlock,l.setItemToUnlock),s=l.layout,b=(l.showItem,l.setShowItem);return a.a.createElement(fn,Object.assign({boxShadow:2},n,{onClick:function(){o.is_premium&&!o.is_purchased?u(o):s===h.layout_mapui?b(o):c.push("/en/".concat(sn(f),"/show/").concat(i))},cursor:"pointer"}),t,a.a.createElement(nr,null,a.a.createElement(mr,o),a.a.createElement(tr,null,a.a.createElement(rr,null,o.name),a.a.createElement(he,o))),a.a.createElement("p",{className:"subhead",dangerouslySetInnerHTML:{__html:o.subhead}}))};ar.propTypes={item:ce.a.object.isRequired};var or=ar,fr=function(e){var t=e.is_purchased,n=e.item_type,r=e.premium_tier;if(t)return a.a.createElement("img",{className:"icon",src:"/assets/icons/glasses.png",alt:""});if(r>0)return a.a.createElement("img",{className:"icon",src:"/assets/icons/gem.png",alt:""});switch(n){case h.item_types.gallery:return a.a.createElement("img",{className:"icon",src:"/assets/icons/gallery.png",alt:""});case h.item_types.report:return a.a.createElement("img",{className:"icon",src:"/assets/icons/report.png",alt:""});case h.item_types.video:return a.a.createElement("img",{className:"icon",src:"/assets/newsfeed/video_icon.svg",alt:""});default:return"unknown kind"}};fr.propTypes={is_purchased:ce.a.bool,item_type:ce.a.string.isRequired,premium_tier:ce.a.number};var ir,cr,lr,ur,sr,br,mr=fr,dr=function(e){bn(e,"GenericNewsitem");var t=e.item;return a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}})};n(238);function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gr=u.b.p(ir||(ir=hr(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n  font-size: 14px;\n"])),(function(e){return e.theme.darkGrey})),vr=u.b.div(cr||(cr=hr([""]))),wr=u.b.div(lr||(lr=hr(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),Er=function(){return a.a.createElement(wr,null,a.a.createElement("img",{className:"forward-arrow",src:"/assets/16x16/arrow-right.png"}))},Or=u.b.div(ur||(ur=hr(["\n  display: flex;\n"]))),jr=u.b.div(sr||(sr=hr(["\n  font-size: 1.5em;\n"]))),xr=u.b.div(br||(br=hr(["\n  width: 100vw;\n  padding: 1em;\n  margin-bottom: 0.5em;\n  border-bottom: 1px solid #e3d3d3;\n  box-shadow: 0px 1px 5px 1px #b3aeae;\n  background-color: white;\n  position: relative;\n\n  display: flex;\n  justify-content: space-between;\n\n  img.thumb {\n    border-radius: 10px;\n  }\n\n  > div {\n    // border: 1px solid red;\n  }\n"]))),kr=function(e){bn(e,"Venues");var t=pr(Object(r.useState)(e.venues),2),n=t[0],o=t[1];return a.a.createElement("div",{className:"venues-section"},a.a.createElement("div",null,a.a.createElement("div",{className:"filter-section"},a.a.createElement("input",{className:"filter-input",onChange:function(t){var n=e.venues.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}));o(n)}}),a.a.createElement(p.e,{className:"filter-icon",icon:y.k}))),a.a.createElement("div",{className:"container"},n.map((function(e,t){return a.a.createElement(xr,{key:t},a.a.createElement(Or,null,a.a.createElement(vr,null,a.a.createElement("img",{style:{paddingRight:"1em"},className:"thumb",src:e.photo})),a.a.createElement(vr,null,a.a.createElement(jr,null,e.name),a.a.createElement("div",{className:"rating-section"},a.a.createElement(je,{rate:3.5}),a.a.createElement("span",{className:"reviews"},"5 reviews")),a.a.createElement("div",{className:"tags-section"},e.tags.map((function(e,t){return a.a.createElement("span",{key:t,className:"tags"},e.name)}))),a.a.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:e.subhead}}),e.address&&a.a.createElement(gr,null,e.address))),a.a.createElement(Er,null))}))))};kr.propTypes={venues:ce.a.array.isRequired};var Sr=kr;function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ar(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ar(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cr=function(e){bn(e,"CitiesShow");var t=e.match,n=j(),o=Object(d.g)(),f=kt.cityPath(t.params.name),i=Object(d.h)(),c=_r(Object(r.useState)(null),2),l=c[0],u=c[1],s=_r(Object(r.useState)(!1),2),b=s[0],m=s[1],h=Object(r.useRef)("init");return Object(r.useEffect)((function(){return m(!0),n.getCity(t.params.name).then((function(e){h.current&&(u(e.data.city),m(!1))})),function(){return h.current=!1}}),[t.params.name]),a.a.createElement(yn,null,l&&a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{className:"city-show"},a.a.createElement("header",{style:{backgroundImage:"url(".concat(l.hero_img,"}"),backgroundSize:"contain"}}),a.a.createElement("section",{className:"section-one"},a.a.createElement(p.e,{icon:y.q,className:"location"}),a.a.createElement("h1",{className:"city-name"},l.name),a.a.createElement("div",{className:"status"},a.a.createElement("div",{className:"status-grid"},a.a.createElement(p.e,{className:"info-icon",icon:y.o}),a.a.createElement("span",{className:"numbers"},l.n_reports)),a.a.createElement("div",{className:"status-grid"},a.a.createElement(p.e,{className:"info-icon",icon:y.l}),a.a.createElement("span",{className:"numbers"},l.n_galleries)),a.a.createElement("div",{className:"status-grid mid"},a.a.createElement(p.e,{className:"info-icon",icon:y.z}),a.a.createElement("span",{className:"numbers "},l.n_videos)))),a.a.createElement("section",{className:"section-three"},a.a.createElement("div",{className:"menu-option",onClick:function(){return o.push(kt.cityPath(t.params.name))}},a.a.createElement("img",{src:"/assets/newsfeed-icon.svg",alt:"Newsfeed"}),a.a.createElement("p",{className:"".concat(i.pathname==f?"selected":""," menu-item")},"Newsfeed")),a.a.createElement("div",{className:"menu-option",onClick:function(){return o.push(kt.cityVenuesPath(t.params.name))}},a.a.createElement("img",{src:"/assets/venue-icon.svg",alt:"Venues"}),a.a.createElement("p",{className:"".concat(i.pathname.includes("venues")?"selected":""," menu-item")},"Venues"))),a.a.createElement(d.d,null,a.a.createElement(d.b,{exact:!0,path:"".concat(t.url,"/venues"),render:function(){return a.a.createElement(Sr,{venues:l.venues})}}),a.a.createElement(d.b,{exact:!0,path:t.url,render:function(){return a.a.createElement(Yn,{newsitems:l.newsitems})}})))),a.a.createElement(p.j,{isOpen:b,onDidDismiss:function(){return m(!1)},message:"Please wait...",duration:5e3}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))};n(239);function Pr(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Mr=function(e){bn(e,"GalleriesShow");var t=e.match,n=Ir(Object(r.useState)(!1),2),o=(n[0],n[1],Ir(Object(r.useState)({}),2)),f=o[0],i=o[1],l=Object(r.useContext)(dn),u=(l.currentUser,l.setCurrentUser,l.itemToUnlock),s=l.setItemToUnlock,b=(l.loginModalOpen,l.setLoginModalOpen,Object(r.useRef)("init")),m=function(){var e,n=(e=c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(h.jwt_token),e.next=3,Wt.get("/api/galleries/view/".concat(t.params.slug),{params:{jwt_token:n}}).then((function(e){if(b.current){var t=e.data.gallery;t.is_premium&&!t.is_purchased?s(t):i(e.data.gallery)}}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){Pr(o,r,a,f,i,"next",e)}function i(e){Pr(o,r,a,f,i,"throw",e)}f(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){return m(),function(){b.current=null}}),[f.id,u.id]),a.a.createElement(r.Fragment,null,a.a.createElement("div",{className:"gallery-show"},a.a.createElement("div",{className:"narrow"},a.a.createElement("h1",{className:"heading"},a.a.createElement(vn,null),a.a.createElement("img",{src:"/assets/newsfeed/photos_icon.png"}),a.a.createElement("span",{className:"title"},f.name)),a.a.createElement(he,f),a.a.createElement("div",{className:"thumbs"},f.photos&&f.photos.map((function(e,t){return a.a.createElement("div",{className:"card",key:t},a.a.createElement("div",{className:"card-inner"},a.a.createElement(p.f,{src:e.thumb_url})))}))),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:f.description}})),a.a.createElement("div",{className:"full-img-section"},f.photos&&f.photos.map((function(e,t){return a.a.createElement("div",{className:"item",key:t},a.a.createElement("img",{src:e.large_url}))})))))};function zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Lr,Ur,Dr,Rr=function(e){var t=zr(Object(r.useState)(null),2),n=t[0],o=t[1],f=zr(Object(r.useState)(!1),2),i=f[0],c=f[1];return Object(r.useEffect)((function(){c(!0);var e=localStorage.getItem("jwtToken");Wt.get("/api/my/galleries",{params:{jwt_token:e}}).then((function(e){bn(e.data,"MyGalleries data"),o(e.data),c(!1)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(p.j,{isOpen:i,onDidDismiss:function(){return c(!1)},message:"Please wait...",duration:5e3}),n&&n.length&&n.map((function(e){return a.a.createElement(Wn,{key:e.id,data:e})})))};function Hr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wr,Fr=u.b.div(Lr||(Lr=Hr(["\n  padding: 0.5em;\n"]))),qr=u.b.div(Ur||(Ur=Hr(["\n  padding: 0.5em 0;\n"]))),Br=u.b.div(Dr||(Dr=Hr(["\n  border: ","px solid cyan;\n\n  display: flex;\n  z-index: 1;\n\n  height: ",";\n"])),(function(e){return e.debug?"1":"0"}),(function(e){return e.breadcrumbsHeight})),$r=function(e){var t=Object(r.useContext)(dn).layout,n=Object(d.g)(),o=[];return e.breadcrumbs.map((function(t,r){r+1===e.breadcrumbs.length?o.push(a.a.createElement(Fr,{key:r},t.name)):(o.push(a.a.createElement(Fr,{key:r,style:{textDecoration:"underline"},onClick:function(){return n.push("/en/locations/show/".concat(t.slug))}},t.name)),o.push(a.a.createElement(qr,{key:"".concat(r,"-divider")},">")))})),a.a.createElement(Br,Object.assign({},Ft,{debug:b.a.debug,className:"Breadcrumbs"}),t===h.layout_mapui&&a.a.createElement(pe,{variant:h.variants.inline}),o)};function Gr(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr=u.b.div(Wr||(Wr=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  padding: 2em 0;\n"]))),Kr=function(e){bn(e,"ReportsShow");var t=Vr(Object(r.useState)({}),2),n=t[0],o=t[1],f=j(),i=(JSON.parse(localStorage.getItem("current_user")),function(){var t,n=(t=c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:bn(null,"getting report..."),Wt.get(f.reportsGet(e.match.params.slug)).then((function(e){return e.data})).then((function(e){bn(e,"got report"),o(e.report)}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function f(e){Gr(o,r,a,f,i,"next",e)}function i(e){Gr(o,r,a,f,i,"throw",e)}f(void 0)}))});return function(){return n.apply(this,arguments)}}());return Object(r.useEffect)((function(){i()}),[]),a.a.createElement(Zr,null,a.a.createElement(fn,{boxShadow:2},a.a.createElement("h1",null,"Report ",n.name),a.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:n.description}})))},Yr=function(e){bn(e,"ItemModal");var t=e.item,n=Object(r.useContext)(dn),o=n.showItem,f=n.setShowItem;return a.a.createElement(ke.a,{isOpen:!!o},a.a.createElement("h1",{onClick:function(){return f(!1)}},"[x]"),t.item_type===h.item_types.report&&a.a.createElement(Kr,{match:{params:{slug:t.reportname}}}),t.item_type===h.item_types.gallery&&a.a.createElement(Mr,{match:{params:{slug:t.slug}}}))},Xr=n(14),Qr=n(170);function ea(e,t){return(ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=aa(e);if(t){var a=aa(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return na(this,n)}}function na(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ra(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oa,fa=new Xr.c(0,0,0,"YXZ"),ia=new Xr.y,ca={type:"change"},la={type:"lock"},ua={type:"unlock"},sa=Math.PI/2,ba=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ea(e,t)}(n,e);var t=ta(n);function n(e,r){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=t.call(this),void 0===r&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),r=document.body),a.domElement=r,a.isLocked=!1,a.minPolarAngle=0,a.maxPolarAngle=Math.PI;var o=ra(a);function f(t){if(!1!==o.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,r=t.movementY||t.mozMovementY||t.webkitMovementY||0;fa.setFromQuaternion(e.quaternion),fa.y-=.002*n,fa.x-=.002*r,fa.x=Math.max(sa-o.maxPolarAngle,Math.min(sa-o.minPolarAngle,fa.x)),e.quaternion.setFromEuler(fa),o.dispatchEvent(ca)}}function i(){o.domElement.ownerDocument.pointerLockElement===o.domElement?(o.dispatchEvent(la),o.isLocked=!0):(o.dispatchEvent(ua),o.isLocked=!1)}function c(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}return a.connect=function(){o.domElement.ownerDocument.addEventListener("mousemove",f),o.domElement.ownerDocument.addEventListener("pointerlockchange",i),o.domElement.ownerDocument.addEventListener("pointerlockerror",c)},a.disconnect=function(){o.domElement.ownerDocument.removeEventListener("mousemove",f),o.domElement.ownerDocument.removeEventListener("pointerlockchange",i),o.domElement.ownerDocument.removeEventListener("pointerlockerror",c)},a.dispose=function(){this.disconnect()},a.getObject=function(){return e},a.getDirection=function(){var t=new Xr.y(0,0,-1);return function(n){return n.copy(t).applyQuaternion(e.quaternion)}}(),a.moveForward=function(t){ia.setFromMatrixColumn(e.matrix,0),ia.crossVectors(e.up,ia),e.position.addScaledVector(ia,t)},a.moveRight=function(t){ia.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(ia,t)},a.lock=function(){this.domElement.requestPointerLock()},a.unlock=function(){o.domElement.ownerDocument.exitPointerLock()},a.connect(),a}return n}(Xr.d);var ma,da,pa,ya,ha=u.b.div(oa||(oa=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  height: calc(100% - ",");\n"])),(function(e){return e.breadcrumbsHeight})),ga=function(e){var t,n,o,f,i,c,l=[],u=Object(r.useRef)(null),s=Object(r.useRef)(null);Object(r.useEffect)((function(){!function(){(t=new Xr.r(75,2,1,1e3)).position.y=10,(c=new Xr.w).background=new Xr.b(16777215),c.fog=new Xr.g(16777215,0,750);var e=new Xr.i(15658751,7829384,.75);e.position.set(.5,1,.75),c.add(e),n=new ba(t,document.body),u.current.addEventListener("click",(function(){bn("locked controls"),n.lock()})),n.addEventListener("lock",(function(){bn("event #lock")})),n.addEventListener("unlock",(function(){})),c.add(n.getObject());document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowUp":case"KeyW":b=!0;break;case"ArrowLeft":case"KeyA":d=!0;break;case"ArrowDown":case"KeyS":m=!0;break;case"ArrowRight":case"KeyD":p=!0;break;case"Space":!0===y&&(g.y+=350),y=!1}})),document.addEventListener("keyup",(function(e){switch(e.code){case"ArrowUp":case"KeyW":b=!1;break;case"ArrowLeft":case"KeyA":d=!1;break;case"ArrowDown":case"KeyS":m=!1;break;case"ArrowRight":case"KeyD":p=!1}})),f=new Xr.v(new Xr.y,new Xr.y(0,-1,0),0,10);var r=new Xr.s(2e3,2e3,100,100);r.rotateX(-Math.PI/2);for(var a=r.attributes.position,l=0,s=a.count;l<s;l++)w.fromBufferAttribute(a,l),w.x+=20*Math.random()-10,w.y+=2*Math.random(),w.z+=20*Math.random()-10,a.setXYZ(l,w.x,w.y,w.z);r=r.toNonIndexed(),a=r.attributes.position;for(var h=[],v=0,j=a.count;v<j;v++)E.setHSL(.3*Math.random()+.5,.75,.25*Math.random()+.75),h.push(E.r,E.g,E.b);r.setAttribute("color",new Xr.f(h,3));var x=new Xr.p({vertexColors:!0}),k=new Xr.o(r,x);c.add(k);var S=new Xr.m((function(){o.traverse((function(e){e.isMesh&&(e.material.map=_)})),o.position.y=-95,c.add(o)}));S.onProgress=function(e,t,n){console.log(e,t,n)};var _=new Xr.x(S).load("textures/uv_grid_opengl.jpg");new Qr.a(S).load("/assets/scenes/desert-location/desert-location.obj",(function(e){o=e}),(function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log("model "+Math.round(t,2)+"% downloaded")}}),(function(e){bn(e,"onError")})),bn(u.current.clientWidth,"width"),bn(u.current.clientHeight,"g"),(i=new Xr.z({antialias:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(u.current.clientWidth,u.current.clientHeight),u.current.appendChild(i.domElement),window.addEventListener("resize",O)}(),j()}),[]);var b=!1,m=!1,d=!1,p=!1,y=!1,h=performance.now(),g=new Xr.y,v=new Xr.y,w=new Xr.y,E=new Xr.b;function O(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function j(){requestAnimationFrame(j);var e=performance.now();if(!0===n.isLocked){f.ray.origin.copy(n.getObject().position),f.ray.origin.y-=10;var r=f.intersectObjects(l,!1).length>0,a=(e-h)/1e3;g.x-=10*g.x*a,g.z-=10*g.z*a,g.y-=9.8*100*a,v.z=Number(b)-Number(m),v.x=Number(p)-Number(d),v.normalize(),(b||m)&&(g.z-=400*v.z*a),(d||p)&&(g.x-=400*v.x*a),!0===r&&(g.y=Math.max(0,g.y),y=!0),n.moveRight(-g.x*a),n.moveForward(-g.z*a),n.getObject().position.y+=g.y*a,n.getObject().position.y<10&&(g.y=0,n.getObject().position.y=10,y=!0)}h=e,i.render(c,t)}return a.a.createElement(r.Fragment,null,a.a.createElement("div",{ref:s}),a.a.createElement(ha,Object.assign({},Ft,{ref:u})))};function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ea(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oa,ja,xa,ka,Sa,_a,Aa=u.b.div(ma||(ma=Ea(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),Ca=function(e){var t=e.item;return a.a.createElement(Aa,{dangerouslySetInnerHTML:{__html:t.description}})},Pa=function(e){var t=Object(r.useContext)(dn),n=t.showUrl,o=t.setShowUrl;return a.a.createElement(ke.a,{ariaHideApp:!1,isOpen:!!n},a.a.createElement("span",{onClick:function(){o(!1)}},"[x]"),a.a.createElement("iframe",{height:"100%",style:{width:"100%",height:"100%"},scrolling:"yes",src:e.src,frameBorder:"no",allowtransparency:"true",allowFullScreen:!0}))},Ia=u.b.div(da||(da=Ea(["\n  border: ","px solid blue;\n\n  background: ",";\n  flex: 50%;\n  overflow: auto;\n\n  height: calc(100vh - ","\n    - ",");\n"])),(function(e){return e.debug?"1":"0"}),(function(e){return e.background}),(function(e){return"calc(2*".concat(e.borderWidth,")")}),(function(e){return e.bottomDrawerOpen?e.bottomDrawerOpenHeight:e.bottomDrawerClosedHeight})),Na=u.b.div(pa||(pa=Ea(["\n  border: ","px solid green;\n\n  background: ",";\n\n  padding: 1em;\n  flex: 50%;\n  overflow-x: hidden;\n  overflox-y: auto;\n  height: calc(100vh - ","\n    - ",");\n"])),(function(e){return e.debug?"1":"0"}),(function(e){return e.background}),(function(e){return"calc(2*".concat(e.borderWidth,")")}),(function(e){return e.bottomDrawerOpen?e.bottomDrawerOpenHeight:e.bottomDrawerClosedHeight})),Ma=u.b.div(ya||(ya=Ea(["\n  display: flex;\n  position: relative;\n"]))),za=function(e){switch(e.map.config.map_panel_type){case h.map_panel_types.MapPanelNoZoom:return a.a.createElement(Qa,e);case h.map_panel_types.ThreePanelV1:return a.a.createElement(ga,e);default:return a.a.createElement(fo,e)}},Ta=function(e){bn(e,"LocationsShow");var t=e.match,n=va(Object(r.useState)(!1),2),o=n[0],f=n[1],i=va(Object(r.useState)(null),2),c=i[0],l=i[1],u=Object(r.useContext)(dn),s=u.showItem,m=(u.setShowItem,u.showUrl),d=(u.setShowUrl,Object(r.useRef)("init"));Object(r.useEffect)((function(){f(!0);var e=localStorage.getItem("jwt_token");return Wt.get("/api/maps/view/".concat(t.params.slug),{params:{jwt_token:e}}).then((function(e){if(d.current===t.params.slug)return null;l(e.data.map),f(!1)})).finally((function(){})),function(){d.current=t.params.slug}}),[t.params.slug]);var p=Object(r.useContext)(dn).bottomDrawerOpen;return a.a.createElement(Ma,null,a.a.createElement(Ia,Object.assign({className:"Left",bottomDrawerOpen:p},Ft,{debug:b.a.debug}),o&&a.a.createElement("i",null,"Loading Left..."),c&&a.a.createElement($r,c),c&&a.a.createElement(za,{map:c.map?c.map:c})),a.a.createElement(Na,Object.assign({className:"Right",bottomDrawerOpen:p},Ft,{debug:b.a.debug}),o&&a.a.createElement("i",null,"Loading Right..."),c&&a.a.createElement(r.Fragment,null,a.a.createElement(lo,{markers:c.map?c.map.markers:c.markers}),a.a.createElement(Ca,{item:c}),c.newsitems&&c.newsitems.length&&a.a.createElement(Yn,{newsitems:c.newsitems})||null)),m&&a.a.createElement(Pa,{src:m}),s&&a.a.createElement(Yr,{item:s}))};function La(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ua(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Da(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object(u.b)(Ut)(Oa||(Oa=Da(["\n  margin: 0;\n  padding: 0;\n"])));var Ra,Ha,Wa=u.b.div(ja||(ja=Da(["\n  // border: 1px solid red;\n\n  padding: 10px;\n"]))),Fa=function(e){var t=e.item;return a.a.createElement(Wa,{dangerouslySetInnerHTML:{__html:t.description}})},qa=(u.b.div(xa||(xa=Da(["\n  // border: 1px solid red;\n\n  position: relative;\n"]))),u.b.div(ka||(ka=Da(["\n  // border: 1px solid orange;\n\n  position: absolute;\n  top: 0;\n  left: calc(100vw - 80px);\n  background: white;\n  padding: 5px;\n\n  display: flex;\n  flex-direction: column;\n  z-index: 10;\n"]))),u.b.div(Sa||(Sa=Da(["\n  // border: 2px solid brown;\n\n  text-align: center;\n  display: block;\n\n  position: relative; /* required for mobile, so that zoomCtrl, etc are inside the collapsible div */\n\n  overflow: scroll;\n  max-height: 80vh; // @TODO: huh?\n"]))),u.b.div(_a||(_a=Da(["\n  // border: 1px solid yellow;\n"])))),Ba=function(e){bn(e,"LocationsShowMobile");var t=e.match,n=La(Object(r.useState)(!1),2),o=n[0],f=n[1],i=La(Object(r.useState)(null),2),c=i[0],l=i[1],u=Object(r.useRef)("init");Object(r.useEffect)((function(){f(!0);var e=localStorage.getItem("jwt_token");return Wt.get("/api/maps/view/".concat(t.params.slug),{params:{jwt_token:e}}).then((function(e){if(!u.current)return null;l(e.data.map),bn(e.data.map,"setLocation"),f(!1)})).finally((function(){})),function(){}}),[t.params.slug]);var s=c?c.markers.length?c.markers:c.map.markers:null;return a.a.createElement(qa,{className:"Root"},o&&a.a.createElement("i",null,"Loading..."),c&&a.a.createElement($r,c),c&&a.a.createElement(Ut,{slug:"map-sec",label:c.labels.map},c&&a.a.createElement(Qa,{map:c.map||c})),s&&s.length&&a.a.createElement(Ut,{slug:"markers-sec",label:c.labels.markers},a.a.createElement(lo,{markers:s}))||null,c&&c.description&&a.a.createElement(Ut,{config:c.config.description,slug:h.collapsible.descr,label:c.labels.description},a.a.createElement(Fa,{item:c}))||null,c&&c.newsitems.length&&a.a.createElement(Ut,{slug:"news-sec",label:c.labels.newsitems},a.a.createElement(Yn,{newsitems:c.newsitems}))||null)};function $a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Va(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ja,Za,Ka,Ya=u.b.div(Ra||(Ra=Va([""]))),Xa=u.b.div(Ha||(Ha=Va(["\n  // border: 1px solid green;\n\n  scroll: none;\n"]))),Qa=function(e){bn(e,"Map2");var t=e.map,n=Object(d.g)(),o=$a(Zt(),2),f=o[0],i=(o[1],Object(r.useRef)(null)),c=Object(r.useContext)(dn),l=(c.currentUser,c.setCurrentUser,c.zoom),u=c.setZoom;Object(r.useEffect)((function(){i.current&&u(t.w/i.current.offsetWidth)}),[i.current,f]);var s=[];return e.map.markers.map((function(e,t){var r=a.a.createElement("div",{key:t,onClick:function(){return n.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:e.y/l,left:e.x/l}},a.a.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w/l,"px"),maxHeight:"".concat(e.h/l,"px"),width:"auto",height:"auto"}}));s.push(r)})),a.a.createElement(Xa,{className:"MapWrapperNoZoom",ref:i},a.a.createElement(Ya,{style:{display:"inline-block",position:"relative"}},a.a.createElement("img",{src:t.img_path,style:{width:"".concat(t.w/l,"px"),height:"".concat(t.h/l,"px")}}),s))};function eo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var to,no=u.b.div(Ja||(Ja=eo(["\n  // border: 3px solid green;\n\n  text-align: center;\n  display: block;\n\n  position: relative;\n  overflow: auto;\n\n  height: calc(100vh - ","\n    - ","\n    - ",");\n\n"])),(function(e){return"calc(2*".concat(e.borderWidth,")")}),(function(e){return e.breadcrumbsHeight}),(function(e){return e.bottomDrawerOpen?e.bottomDrawerOpenHeight:e.bottomDrawerClosedHeight})),ro=u.b.div(Za||(Za=eo(["\n  // border: 2px solid cyan;\n  display: inline-block;\n  position: relative;\n"]))),ao=u.b.div(Ka||(Ka=eo(["\n  border: ","px solid red;\n\n  position: relative;\n  overflow: auto;\n\n  height: calc(100vh - ","\n    - ","\n    - ",");\n\n"])),(function(e){return e.debug?"1":"0"}),(function(e){return"calc(2*".concat(e.borderWidth,")")}),(function(e){return e.breadcrumbsHeight}),(function(e){return e.bottomDrawerOpen?e.bottomDrawerOpenHeight:e.bottomDrawerClosedHeight})),oo=function(e){var t=Object(r.useContext)(dn),n=t.zoom,o=t.setZoom;return a.a.createElement("div",{style:{position:"absolute",top:0,right:0,zIndex:1,background:"white",padding:"5px",display:"flex",flexDirection:"column"}},a.a.createElement("span",{onClick:function(){o(n/2)}},"[+]"),a.a.createElement("span",{onClick:function(){o(2*n)}},"[-]"),a.a.createElement("span",{onClick:function(){o(1)}},"[1]"))},fo=function(e){var t=e.map,n=Object(r.useContext)(dn),o=n.bottomDrawerOpen,f=(n.setBottomDrawerOpen,n.showUrl,n.setShowUrl),i=n.zoom,c=(n.setZoom,Object(r.useRef)(null));bn(c,"div1Ref");var l=Object(d.g)();Object(r.useEffect)((function(){c.current.scroll({top:200,left:200,behavior:"smooth"})}),[]);var u=[];return t.markers.map((function(e,t){var n=a.a.createElement("div",{key:t,onClick:function(){return e.url?f(e.url):l.push("/en/locations/show/".concat(e.slug))},style:{position:"absolute",top:i>1?(e.y-e.centerOffsetY)/i:e.y/i-e.centerOffsetY,left:i>1?(e.x-e.centerOffsetX)/i:e.x/i-e.centerOffsetX}},a.a.createElement("img",{src:e.img_path,style:{display:"block",maxWidth:"".concat(e.w/i,"px"),maxHeight:"".concat(e.h/i,"px"),width:"auto",height:"auto"}}));u.push(n)})),a.a.createElement(ao,Object.assign({},Ft,{bottomDrawerOpen:o,debug:b.a.debug,className:"MapPanel"}),a.a.createElement(oo,null),a.a.createElement(no,Object.assign({},Ft,{bottomDrawerOpen:o}),a.a.createElement(ro,{ref:c,style:{width:"".concat(t.w/i,"px"),height:"".concat(t.h/i,"px")}},a.a.createElement("img",{src:t.img_path,style:{width:"".concat(t.w/i,"px"),height:"".concat(t.h/i,"px")}}),u)))};var io,co=u.b.div(to||(to=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin: 10px;\n  max-width: 20vw;\n"]))),lo=function(e){bn(e,"MarkersList");var t=Object(d.g)(),n=Object(r.useContext)(dn),o=(n.showUrl,n.setShowUrl),f=[];return e.markers.map((function(e,n){f.push(a.a.createElement(co,{key:n,onClick:function(){return function(e){e.url?o(e.url):t.push("/en/locations/show/".concat(e.slug))}(e)}},a.a.createElement("img",{src:e.title_img_path}),a.a.createElement("br",null),e.name))})),a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},f)},uo=["features","label"];function so(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var bo=u.b.div(io||(io=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""]))),mo=function(e){var t=e.features,n=e.label,o=so(e,uo);bn(o,"Features");var f=[];return t.map((function(e){e.inner_html&&f.push(a.a.createElement(C.a,{item:!0,sm:3,dangerouslySetInnerHTML:{__html:e.inner_html}}))})),a.a.createElement(r.Fragment,null,n&&a.a.createElement(bo,null,n),a.a.createElement(C.a,{style:{marginBottom:"1em"},container:!0,spacing:2},f))};mo.propTypes={features:ce.a.arrayOf(ce.a.shape({inner_html:ce.a.string})),label:ce.a.string};var po,yo,ho=mo;function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}u.b.div(po||(po=wo(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])));var Eo,Oo,jo=u.b.div(yo||(yo=wo(["\n  margin: 0;\n  padding-bottom: 1em;\n"]))),xo=function(e){bn(e,"SitesShow");var t=go(Object(r.useState)({features:[],newsitems:[]}),2),n=t[0],o=t[1],f=go(Object(r.useState)(!1),2),i=f[0],c=f[1],l=j(),u=Object(r.useRef)("init");return Object(r.useEffect)((function(){return l.applicationHome().then((function(e){if(!u.current)return null;bn(e,"setSite"),o(e),c(!1)})),function(){u.current=!1}}),[]),a.a.createElement(r.Fragment,null,a.a.createElement(jo,null,a.a.createElement(V,null),a.a.createElement(ho,{features:n.features}),a.a.createElement(Yn,{newsitems:n.newsitems})),a.a.createElement(p.j,{isOpen:i,onDidDismiss:function(){return c(!1)},message:"Please wait...",duration:5e3}))};function ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}u.b.div(Eo||(Eo=_o(["\n  height: 370px;\n  text-align: center;\n\n  img {\n    max-width: 100%;\n  }\n"])));var Ao,Co=u.b.div(Oo||(Oo=_o(["\n  margin: 0;\n  padding-bottom: 1em;\n"]))),Po=function(e){bn(e,"SitesShow");var t=ko(Object(r.useState)({features:[],newsitems:[]}),2),n=t[0],o=t[1],f=ko(Object(r.useState)({features:[]}),2),i=f[0],c=f[1],l=ko(Object(r.useState)({features:[]}),2),u=l[0],s=l[1],b=ko(Object(r.useState)({features:[]}),2),m=b[0],d=b[1],y=ko(Object(r.useState)(!1),2),h=y[0],g=y[1],v=j(),w=Object(r.useRef)("init");return Object(r.useEffect)((function(){return v.applicationHome().then((function(e){if(!w.current)return null;bn(e,"setSite"),o(e)})),v.getTag({slug:"interesting-locations"}).then((function(e){if(!w.current)return null;bn(e,"setInterestingLocations"),d(e)})),v.getTag({slug:"home-row-1"}).then((function(e){if(!w.current)return null;s(e)})),v.getTag({slug:"art"}).then((function(e){if(!w.current)return null;c(e)})),function(){w.current=!1}}),[]),a.a.createElement(r.Fragment,null,a.a.createElement(Co,null,a.a.createElement(V,null),a.a.createElement(ho,{features:m.features,label:"Interesting Locations"}),a.a.createElement(ho,{features:u.features,label:"Interesting Tags"}),a.a.createElement(ho,{features:i.features,label:"art"}),a.a.createElement(Yn,{newsitems:n.newsitems})),a.a.createElement(p.j,{isOpen:h,onDidDismiss:function(){return g(!1)},message:"Please wait...",duration:5e3}))},Io=n(318);function No(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zo,To=Object(Io.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},redBorder:{border:"1px solid red"},root:{flexGrow:1,overflow:"scroll",height:"100vh"}}})),Lo=u.b.div(Ao||(Ao=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-bottom: 1px solid red;\n"]))),Uo=function(e){bn(e,"Video");j();var t=e.item;return a.a.createElement(Lo,{key:e.idx},a.a.createElement("h5",null,"Video ",t.name),a.a.createElement("p",null,"created ",t.created_at),a.a.createElement("video",{controls:!0,preload:"metadata",type:"video/mp4",src:t.video_url,style:{maxWidth:"500px",maxHeight:"90vh"}}))},Do=function(){bn(b.a,"Videos component"),console.log(JSON.stringify(b.a));var e=No(Object(r.useState)([]),2),t=e[0],n=e[1],o=localStorage.getItem("jwtToken"),f=To(),i=j();return Object(r.useEffect)((function(){bn("posting..."),Wt.post(i.myVideosPath,{jwtToken:o}).then((function(e){return e.data})).then((function(e){var t=e.videos;bn(t,"data"),n(t)}))}),[]),a.a.createElement(wn.a,{maxWidth:"md"},a.a.createElement(C.a,{container:!0,className:f.root},a.a.createElement(C.a,{item:!0,xs:12},a.a.createElement("h2",null,"My Videos")),a.a.createElement(C.a,{item:!0,xs:12},t&&t.map((function(e,t){return a.a.createElement(Uo,{key:t,item:e})})))))};function Ro(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Wo,Fo,qo=u.b.div(zo||(zo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  // border: 1px solid #741741;\n\n  background: #dedede;\n  height: 100vh;\n  overflow: auto;\n"]))),Bo=function(e){bn(e,"AppDesktop");e.currentUser,e.setCurrentUser,e.loginModalOpen,e.setLoginModalOpen,j();var t=Ro(Object(r.useState)(h.layout_onecol),2),n=t[0],o=t[1],f=function(e){switch(n){case h.layout_onecol:return a.a.createElement(wn.a,Object.assign({maxWidth:"md"},e));case h.layout_mapui:return a.a.createElement(X,e)}},i=function(e){return Object(r.useEffect)((function(){e.layout?o(e.layout):o(h.layout_onecol)}),[e.layout]),a.a.createElement(d.b,e)};return a.a.createElement(P.a,null,a.a.createElement(k.a,null),a.a.createElement(pn,Object.assign({},e,{layout:n,setLayout:o}),a.a.createElement(qo,null,a.a.createElement(f,null,a.a.createElement(d.d,{id:"main",main:!0},a.a.createElement(d.a,{exact:!0,from:"/",to:"/en"}),a.a.createElement(i,{exact:!0,path:"/en"},a.a.createElement(Po,null)),a.a.createElement(i,{exact:!0,path:"/en/account",component:Ye}),a.a.createElement(i,{exact:!0,path:"/en/account/my/videos",component:Do}),a.a.createElement(i,{exact:!0,path:"/en/account/my/galleries",component:Rr}),a.a.createElement(i,{exact:!0,path:"/en/cities",component:zn}),a.a.createElement(i,{path:"/en/cities/travel-to/:name",component:Cr}),a.a.createElement(i,{exact:!0,path:"/en/galleries/show/:slug",component:Mr}),a.a.createElement(i,{exact:!0,path:"/en/reports/show/:slug",component:Kr}),a.a.createElement(i,{exact:!0,path:"/en/locations/show/:slug",component:Ta,layout:h.layout_mapui})))),a.a.createElement(F,null),a.a.createElement(Me,null),a.a.createElement(Xe,null)))};function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Go(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Jo=u.b.div(Wo||(Wo=Vo(["\n\n\n  background: #dedede;\n  height: 100vh;\n  overflow: auto;\n"]))),Zo=Object(u.b)(wn.a)(Fo||(Fo=Vo(["\n\n  padding: 0;\n  height: 100vh;\n  overflow: scroll;\n"]))),Ko=function(e){bn(e,"AppMobile");e.currentUser,e.setCurrentUser;var t=$o(Object(r.useState)(h.layout_onecol),2),n=t[0],o=t[1],f=$o(a.a.useState(!1),2),i=f[0],c=f[1],l=$o(a.a.useState(!1),2),u=(l[0],l[1],$o(Object(r.useState)(1),2)),s=(u[0],u[1],j(),function(e){switch(n){case h.layout_onecol:return a.a.createElement(Zo,Object.assign({maxWidth:"md"},e));case h.layout_mapui:return a.a.createElement(re,Object.assign({},e,{bottomDrawerOpen:i,setBottomDrawerOpen:c}))}}),b=function(e){return Object(r.useEffect)((function(){e.layout?o(e.layout):o(h.layout_onecol)}),[e.layout]),a.a.createElement(d.b,e)};return a.a.createElement(P.a,null,a.a.createElement(pn,Object.assign({},e,{layout:n,setLayout:o}),a.a.createElement(un,null,n===h.layout_onecol&&a.a.createElement(pe,{variant:h.variants.floating}),a.a.createElement(Jo,{className:"Root"},a.a.createElement(s,{className:"Container"},a.a.createElement(d.d,{id:"main",main:!0},a.a.createElement(d.a,{exact:!0,from:"/",to:"/en"}),a.a.createElement(b,{exact:!0,path:"/en"},a.a.createElement(xo,null)),a.a.createElement(b,{exact:!0,path:"/en/account",component:Ye}),a.a.createElement(b,{exact:!0,path:"/en/account/my/videos",component:Do}),a.a.createElement(b,{exact:!0,path:"/en/account/my/galleries",component:Rr}),a.a.createElement(b,{exact:!0,path:"/en/cities",component:zn}),a.a.createElement(b,{path:"/en/cities/travel-to/:name",component:Cr}),a.a.createElement(b,{exact:!0,path:"/en/galleries/show/:slug",component:Mr}),a.a.createElement(b,{exact:!0,path:"/en/reports/show/:slug",component:Kr}),a.a.createElement(b,{exact:!0,path:"/en/locations/show/:slug",component:Ba,layout:h.layout_mapui})))),a.a.createElement(F,null),a.a.createElement(Me,null),a.a.createElement(Xe,null))))};function Yo(e,t,n,r,a,o,f){try{var i=e[o](f),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,a)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function f(e){Yo(o,r,a,f,i,"next",e)}function i(e){Yo(o,r,a,f,i,"throw",e)}f(void 0)}))}}function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],f=!0,i=!1;try{for(n=n.call(e);!(f=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);f=!0);}catch(c){i=!0,a=c}finally{try{f||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ef(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tf=function(e){bn(e,"AppWrapper");var t=j(),n=Qo(Object(r.useState)(!1),2),o=n[0],f=n[1],i=Qo(Object(r.useState)(!1),2),s=i[0],m=i[1],d=Object(r.useRef)("init");Object(r.useEffect)((function(){return function(){var e=Xo(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(h.jwt_token),e.next=3,Wt.get("".concat(b.a.apiOrigin).concat(t.myAccount(),"?jwt_token=").concat(n)).then((function(e){d.current&&f(e.data)})).catch((function(e){bn(e,"e12"),"Request failed with status code 401"===e.message&&(b.a.requireLogin||"undefined"===typeof b.a.requireLogin)&&m(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return d.current=null}}),[o]);var p=Qo(Object(r.useState)(null),2),y=p[0],g=p[1];(function(){var e=Xo(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInfo();case 2:t=e.sent,g(t.operatingSystem);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();var v={currentUser:o,setCurrentUser:f,loginModalOpen:s,setLoginModalOpen:m};return y?a.a.createElement(u.a,{theme:Ft},"ios android".includes(y)?a.a.createElement(Ko,v):a.a.createElement(Bo,v)):null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));f.a.render(a.a.createElement(tf,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,n){},90:function(e,t,n){}},[[185,3,4]]]);
//# sourceMappingURL=main.d59ac73b.chunk.js.map